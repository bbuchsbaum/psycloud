// Generated by CoffeeScript 1.6.3
(function() {
  var div, expect, renderable, span, _ref;

  expect = require('expect.js');

  _ref = require('..'), renderable = _ref.renderable, div = _ref.div, span = _ref.span;

  describe('renderable decorator', function() {
    it('makes a template directly callable', function() {
      var template;
      template = renderable(function(letters) {
        var letter, _i, _len, _results;
        _results = [];
        for (_i = 0, _len = letters.length; _i < _len; _i++) {
          letter = letters[_i];
          _results.push(div(letter));
        }
        return _results;
      });
      return expect(template(['a', 'b', 'c'])).to.equal('<div>a</div><div>b</div><div>c</div>');
    });
    return it('supports composition with renderable and non-renderable helpers', function() {
      var renderableHelper, template, vanillaHelper;
      renderableHelper = renderable(function(user) {
        return span(user.first);
      });
      vanillaHelper = function(user) {
        return span(user.last);
      };
      template = renderable(function(user) {
        return div(function() {
          renderableHelper(user);
          return vanillaHelper(user);
        });
      });
      return expect(template({
        first: 'Huevo',
        last: 'Bueno'
      })).to.equal('<div><span>Huevo</span><span>Bueno</span></div>');
    });
  });

}).call(this);
