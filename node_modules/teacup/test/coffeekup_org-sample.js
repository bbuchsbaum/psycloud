// Generated by CoffeeScript 1.6.3
(function() {
  var a, body, coffeescript, doctype, expect, footer, h1, h2, head, header, html, li, link, meta, nav, p, renderable, script, section, style, title, ul, _ref;

  expect = require('expect.js');

  _ref = require('..'), renderable = _ref.renderable, doctype = _ref.doctype, html = _ref.html, head = _ref.head, meta = _ref.meta, link = _ref.link, style = _ref.style, title = _ref.title, script = _ref.script, body = _ref.body, coffeescript = _ref.coffeescript, header = _ref.header, section = _ref.section, nav = _ref.nav, footer = _ref.footer, h1 = _ref.h1, h2 = _ref.h2, ul = _ref.ul, li = _ref.li, a = _ref.a, p = _ref.p;

  describe('coffeekup.org example', function() {
    return it('works', function() {
      var max, path, shoutify, template, user, x;
      x = {
        title: 'Foo'
      };
      path = '/zig';
      user = {};
      max = 12;
      shoutify = function(s) {
        return s.toUpperCase() + '!';
      };
      template = renderable(function() {
        doctype(5);
        return html(function() {
          head(function() {
            meta({
              charset: 'utf-8'
            });
            title("" + (x.title || 'Untitled') + " | My awesome website");
            if (typeof desc !== "undefined" && desc !== null) {
              meta({
                name: 'description',
                content: desc
              });
            }
            link({
              rel: 'stylesheet',
              href: '/stylesheets/app.css'
            });
            style('body {font-family: sans-serif}\nheader, nav, section, footer {display: block}');
            return script({
              src: '/javascripts/jquery.js'
            });
          });
          return body(function() {
            header(function() {
              h1(x.title || 'Untitled');
              return nav(function() {
                return ul(function() {
                  if (path !== '/') {
                    li(function() {
                      return a({
                        href: '/'
                      }, 'Home');
                    });
                  }
                  li(function() {
                    return a({
                      href: '/chunky'
                    }, 'Bacon!');
                  });
                  switch (user.role) {
                    case 'owner':
                    case 'admin':
                      return li(function() {
                        return a({
                          href: '/admin'
                        }, 'Secret Stuff');
                      });
                    case 'vip':
                      return li(function() {
                        return a({
                          href: '/vip'
                        }, 'Exclusive Stuff');
                      });
                    default:
                      return li(function() {
                        return a({
                          href: '/commoners'
                        }, 'Just Stuff');
                      });
                  }
                });
              });
            });
            section(function() {
              var i, _i, _results;
              h2("Let's count to " + max + ":");
              _results = [];
              for (i = _i = 1; 1 <= max ? _i <= max : _i >= max; i = 1 <= max ? ++_i : --_i) {
                _results.push(p(i));
              }
              return _results;
            });
            return footer(function() {
              return p(shoutify('bye'));
            });
          });
        });
      });
      return expect(template()).to.contain('Just Stuff');
    });
  });

}).call(this);
