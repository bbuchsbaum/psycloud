// Generated by CoffeeScript 1.6.3
(function() {
  var Entity;

  module.exports = Entity = (function() {
    function Entity() {}

    Entity.is = function(node) {
      var _ref;
      return !((_ref = node.documentation) != null ? _ref.nodoc : void 0);
    };

    Entity.prototype.linkify = function() {};

    Entity.prototype.fetchName = function() {
      var name, prop, selfish, _i, _len, _ref;
      name = [this.node.variable.base.value];
      _ref = this.node.variable.properties;
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        prop = _ref[_i];
        if (prop.name != null) {
          name.push(prop.name.value);
        }
      }
      if (name[0] === 'this') {
        selfish = true;
        name = name.slice(1);
      }
      return [name.join('.'), selfish];
    };

    Entity.prototype.lookup = function(Entity, node) {
      var entity, _i, _len, _ref;
      if (node.ancestor) {
        if (node.ancestor.entities != null) {
          _ref = node.ancestor.entities;
          for (_i = 0, _len = _ref.length; _i < _len; _i++) {
            entity = _ref[_i];
            if (entity instanceof Entity) {
              return entity;
            }
          }
        }
        return this.lookup(Entity, node.ancestor);
      }
    };

    return Entity;

  })();

}).call(this);
