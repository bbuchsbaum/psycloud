(function(exported) {
  if (typeof exports === 'object') {
    module.exports = exported;
  } else if (typeof define === 'function' && define.amd) {
    define(function() {
      return exported;
    });
  } else {
    Psy = exported;
  }
})((function(require, undefined) { var global = this;

require.define('2', function(module, exports, __dirname, __filename, undefined){
;
(function (window) {
    var undefined;
    var arrayPool = [], objectPool = [];
    var idCounter = 0;
    var indicatorObject = {};
    var keyPrefix = +new Date() + '';
    var largeArraySize = 75;
    var maxPoolSize = 40;
    var reEmptyStringLeading = /\b__p \+= '';/g, reEmptyStringMiddle = /\b(__p \+=) '' \+/g, reEmptyStringTrailing = /(__e\(.*?\)|\b__t\)) \+\n'';/g;
    var reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g;
    var reEsTemplate = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;
    var reFlags = /\w*$/;
    var reInterpolate = /<%=([\s\S]+?)%>/g;
    var reThis = (reThis = /\bthis\b/) && reThis.test(runInContext) && reThis;
    var whitespace = ' \t\x0B\f\xa0\ufeff' + '\n\r\u2028\u2029' + '\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000';
    var reLeadingSpacesAndZeros = RegExp('^[' + whitespace + ']*0+(?=.$)');
    var reNoMatch = /($^)/;
    var reUnescapedHtml = /[&<>"']/g;
    var reUnescapedString = /['\n\r\t\u2028\u2029\\]/g;
    var contextProps = [
            'Array',
            'Boolean',
            'Date',
            'Function',
            'Math',
            'Number',
            'Object',
            'RegExp',
            'String',
            '_',
            'attachEvent',
            'clearTimeout',
            'isFinite',
            'isNaN',
            'parseInt',
            'setImmediate',
            'setTimeout'
        ];
    var templateCounter = 0;
    var argsClass = '[object Arguments]', arrayClass = '[object Array]', boolClass = '[object Boolean]', dateClass = '[object Date]', errorClass = '[object Error]', funcClass = '[object Function]', numberClass = '[object Number]', objectClass = '[object Object]', regexpClass = '[object RegExp]', stringClass = '[object String]';
    var cloneableClasses = {};
    cloneableClasses[funcClass] = false;
    cloneableClasses[argsClass] = cloneableClasses[arrayClass] = cloneableClasses[boolClass] = cloneableClasses[dateClass] = cloneableClasses[numberClass] = cloneableClasses[objectClass] = cloneableClasses[regexpClass] = cloneableClasses[stringClass] = true;
    var objectTypes = {
            'boolean': false,
            'function': true,
            'object': true,
            'number': false,
            'string': false,
            'undefined': false
        };
    var stringEscapes = {
            '\\': '\\',
            '\'': '\'',
            '\n': 'n',
            '\r': 'r',
            '\t': 't',
            '\u2028': 'u2028',
            '\u2029': 'u2029'
        };
    var freeExports = objectTypes[typeof exports] && exports;
    var freeModule = objectTypes[typeof module] && module && module.exports == freeExports && module;
    var freeGlobal = objectTypes[typeof global] && global;
    if (freeGlobal && (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal)) {
        window = freeGlobal;
    }
    function basicIndexOf(array, value, fromIndex) {
        var index = (fromIndex || 0) - 1, length = array.length;
        while (++index < length) {
            if (array[index] === value) {
                return index;
            }
        }
        return -1;
    }
    function cacheIndexOf(cache, value) {
        var type = typeof value;
        cache = cache.cache;
        if (type == 'boolean' || value == null) {
            return cache[value];
        }
        if (type != 'number' && type != 'string') {
            type = 'object';
        }
        var key = type == 'number' ? value : keyPrefix + value;
        cache = cache[type] || (cache[type] = {});
        return type == 'object' ? cache[key] && basicIndexOf(cache[key], value) > -1 ? 0 : -1 : cache[key] ? 0 : -1;
    }
    function cachePush(value) {
        var cache = this.cache, type = typeof value;
        if (type == 'boolean' || value == null) {
            cache[value] = true;
        } else {
            if (type != 'number' && type != 'string') {
                type = 'object';
            }
            var key = type == 'number' ? value : keyPrefix + value, typeCache = cache[type] || (cache[type] = {});
            if (type == 'object') {
                if ((typeCache[key] || (typeCache[key] = [])).push(value) == this.array.length) {
                    cache[type] = false;
                }
            } else {
                typeCache[key] = true;
            }
        }
    }
    function charAtCallback(value) {
        return value.charCodeAt(0);
    }
    function compareAscending(a, b) {
        var ai = a.index, bi = b.index;
        a = a.criteria;
        b = b.criteria;
        if (a !== b) {
            if (a > b || typeof a == 'undefined') {
                return 1;
            }
            if (a < b || typeof b == 'undefined') {
                return -1;
            }
        }
        return ai < bi ? -1 : 1;
    }
    function createCache(array) {
        var index = -1, length = array.length;
        var cache = getObject();
        cache['false'] = cache['null'] = cache['true'] = cache['undefined'] = false;
        var result = getObject();
        result.array = array;
        result.cache = cache;
        result.push = cachePush;
        while (++index < length) {
            result.push(array[index]);
        }
        return cache.object === false ? (releaseObject(result), null) : result;
    }
    function escapeStringChar(match) {
        return '\\' + stringEscapes[match];
    }
    function getArray() {
        return arrayPool.pop() || [];
    }
    function getObject() {
        return objectPool.pop() || {
            'array': null,
            'cache': null,
            'criteria': null,
            'false': false,
            'index': 0,
            'leading': false,
            'maxWait': 0,
            'null': false,
            'number': null,
            'object': null,
            'push': null,
            'string': null,
            'trailing': false,
            'true': false,
            'undefined': false,
            'value': null
        };
    }
    function noop() {
    }
    function releaseArray(array) {
        array.length = 0;
        if (arrayPool.length < maxPoolSize) {
            arrayPool.push(array);
        }
    }
    function releaseObject(object) {
        var cache = object.cache;
        if (cache) {
            releaseObject(cache);
        }
        object.array = object.cache = object.criteria = object.object = object.number = object.string = object.value = null;
        if (objectPool.length < maxPoolSize) {
            objectPool.push(object);
        }
    }
    function slice(array, start, end) {
        start || (start = 0);
        if (typeof end == 'undefined') {
            end = array ? array.length : 0;
        }
        var index = -1, length = end - start || 0, result = Array(length < 0 ? 0 : length);
        while (++index < length) {
            result[index] = array[start + index];
        }
        return result;
    }
    function runInContext(context) {
        context = context ? _.defaults(window.Object(), context, _.pick(window, contextProps)) : window;
        var Array = context.Array, Boolean = context.Boolean, Date = context.Date, Function = context.Function, Math = context.Math, Number = context.Number, Object = context.Object, RegExp = context.RegExp, String = context.String, TypeError = context.TypeError;
        var arrayRef = [];
        var objectProto = Object.prototype, stringProto = String.prototype;
        var oldDash = context._;
        var reNative = RegExp('^' + String(objectProto.valueOf).replace(/[.*+?^${}()|[\]\\]/g, '\\$&').replace(/valueOf|for [^\]]+/g, '.+?') + '$');
        var ceil = Math.ceil, clearTimeout = context.clearTimeout, concat = arrayRef.concat, floor = Math.floor, fnToString = Function.prototype.toString, getPrototypeOf = reNative.test(getPrototypeOf = Object.getPrototypeOf) && getPrototypeOf, hasOwnProperty = objectProto.hasOwnProperty, push = arrayRef.push, propertyIsEnumerable = objectProto.propertyIsEnumerable, setImmediate = context.setImmediate, setTimeout = context.setTimeout, toString = objectProto.toString;
        var nativeBind = reNative.test(nativeBind = toString.bind) && nativeBind, nativeCreate = reNative.test(nativeCreate = Object.create) && nativeCreate, nativeIsArray = reNative.test(nativeIsArray = Array.isArray) && nativeIsArray, nativeIsFinite = context.isFinite, nativeIsNaN = context.isNaN, nativeKeys = reNative.test(nativeKeys = Object.keys) && nativeKeys, nativeMax = Math.max, nativeMin = Math.min, nativeParseInt = context.parseInt, nativeRandom = Math.random, nativeSlice = arrayRef.slice;
        var isIeOpera = reNative.test(context.attachEvent), isV8 = nativeBind && !/\n|true/.test(nativeBind + isIeOpera);
        var ctorByClass = {};
        ctorByClass[arrayClass] = Array;
        ctorByClass[boolClass] = Boolean;
        ctorByClass[dateClass] = Date;
        ctorByClass[funcClass] = Function;
        ctorByClass[objectClass] = Object;
        ctorByClass[numberClass] = Number;
        ctorByClass[regexpClass] = RegExp;
        ctorByClass[stringClass] = String;
        function lodash(value) {
            return value && typeof value == 'object' && !isArray(value) && hasOwnProperty.call(value, '__wrapped__') ? value : new lodashWrapper(value);
        }
        function lodashWrapper(value) {
            this.__wrapped__ = value;
        }
        lodashWrapper.prototype = lodash.prototype;
        var support = lodash.support = {};
        support.fastBind = nativeBind && !isV8;
        lodash.templateSettings = {
            'escape': /<%-([\s\S]+?)%>/g,
            'evaluate': /<%([\s\S]+?)%>/g,
            'interpolate': reInterpolate,
            'variable': '',
            'imports': { '_': lodash }
        };
        function createBound(func, thisArg, partialArgs, indicator) {
            var isFunc = isFunction(func), isPartial = !partialArgs, key = thisArg;
            if (isPartial) {
                var rightIndicator = indicator;
                partialArgs = thisArg;
            } else if (!isFunc) {
                if (!indicator) {
                    throw new TypeError();
                }
                thisArg = func;
            }
            function bound() {
                var args = arguments, thisBinding = isPartial ? this : thisArg;
                if (!isFunc) {
                    func = thisArg[key];
                }
                if (partialArgs.length) {
                    args = args.length ? (args = nativeSlice.call(args), rightIndicator ? args.concat(partialArgs) : partialArgs.concat(args)) : partialArgs;
                }
                if (this instanceof bound) {
                    thisBinding = createObject(func.prototype);
                    var result = func.apply(thisBinding, args);
                    return isObject(result) ? result : thisBinding;
                }
                return func.apply(thisBinding, args);
            }
            return bound;
        }
        function createObject(prototype) {
            return isObject(prototype) ? nativeCreate(prototype) : {};
        }
        function escapeHtmlChar(match) {
            return htmlEscapes[match];
        }
        function getIndexOf(array, value, fromIndex) {
            var result = (result = lodash.indexOf) === indexOf ? basicIndexOf : result;
            return result;
        }
        function overloadWrapper(func) {
            return function (array, flag, callback, thisArg) {
                if (typeof flag != 'boolean' && flag != null) {
                    thisArg = callback;
                    callback = !(thisArg && thisArg[flag] === array) ? flag : undefined;
                    flag = false;
                }
                if (callback != null) {
                    callback = lodash.createCallback(callback, thisArg);
                }
                return func(array, flag, callback, thisArg);
            };
        }
        function shimIsPlainObject(value) {
            var ctor, result;
            if (!(value && toString.call(value) == objectClass) || (ctor = value.constructor, isFunction(ctor) && !(ctor instanceof ctor))) {
                return false;
            }
            forIn(value, function (value, key) {
                result = key;
            });
            return result === undefined || hasOwnProperty.call(value, result);
        }
        function unescapeHtmlChar(match) {
            return htmlUnescapes[match];
        }
        function isArguments(value) {
            return toString.call(value) == argsClass;
        }
        var isArray = nativeIsArray;
        var shimKeys = function (object) {
            var index, iterable = object, result = [];
            if (!iterable)
                return result;
            if (!objectTypes[typeof object])
                return result;
            for (index in iterable) {
                if (hasOwnProperty.call(iterable, index)) {
                    result.push(index);
                }
            }
            return result;
        };
        var keys = !nativeKeys ? shimKeys : function (object) {
                if (!isObject(object)) {
                    return [];
                }
                return nativeKeys(object);
            };
        var htmlEscapes = {
                '&': '&amp;',
                '<': '&lt;',
                '>': '&gt;',
                '"': '&quot;',
                '\'': '&#39;'
            };
        var htmlUnescapes = invert(htmlEscapes);
        var assign = function (object, source, guard) {
            var index, iterable = object, result = iterable;
            if (!iterable)
                return result;
            var args = arguments, argsIndex = 0, argsLength = typeof guard == 'number' ? 2 : args.length;
            if (argsLength > 3 && typeof args[argsLength - 2] == 'function') {
                var callback = lodash.createCallback(args[--argsLength - 1], args[argsLength--], 2);
            } else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {
                callback = args[--argsLength];
            }
            while (++argsIndex < argsLength) {
                iterable = args[argsIndex];
                if (iterable && objectTypes[typeof iterable]) {
                    var ownIndex = -1, ownProps = objectTypes[typeof iterable] && keys(iterable), length = ownProps ? ownProps.length : 0;
                    while (++ownIndex < length) {
                        index = ownProps[ownIndex];
                        result[index] = callback ? callback(result[index], iterable[index]) : iterable[index];
                    }
                }
            }
            return result;
        };
        function clone(value, deep, callback, thisArg, stackA, stackB) {
            var result = value;
            if (typeof deep != 'boolean' && deep != null) {
                thisArg = callback;
                callback = deep;
                deep = false;
            }
            if (typeof callback == 'function') {
                callback = typeof thisArg == 'undefined' ? callback : lodash.createCallback(callback, thisArg, 1);
                result = callback(result);
                if (typeof result != 'undefined') {
                    return result;
                }
                result = value;
            }
            var isObj = isObject(result);
            if (isObj) {
                var className = toString.call(result);
                if (!cloneableClasses[className]) {
                    return result;
                }
                var isArr = isArray(result);
            }
            if (!isObj || !deep) {
                return isObj ? isArr ? slice(result) : assign({}, result) : result;
            }
            var ctor = ctorByClass[className];
            switch (className) {
            case boolClass:
            case dateClass:
                return new ctor(+result);
            case numberClass:
            case stringClass:
                return new ctor(result);
            case regexpClass:
                return ctor(result.source, reFlags.exec(result));
            }
            var initedStack = !stackA;
            stackA || (stackA = getArray());
            stackB || (stackB = getArray());
            var length = stackA.length;
            while (length--) {
                if (stackA[length] == value) {
                    return stackB[length];
                }
            }
            result = isArr ? ctor(result.length) : {};
            if (isArr) {
                if (hasOwnProperty.call(value, 'index')) {
                    result.index = value.index;
                }
                if (hasOwnProperty.call(value, 'input')) {
                    result.input = value.input;
                }
            }
            stackA.push(value);
            stackB.push(result);
            (isArr ? forEach : forOwn)(value, function (objValue, key) {
                result[key] = clone(objValue, deep, callback, undefined, stackA, stackB);
            });
            if (initedStack) {
                releaseArray(stackA);
                releaseArray(stackB);
            }
            return result;
        }
        function cloneDeep(value, callback, thisArg) {
            return clone(value, true, callback, thisArg);
        }
        var defaults = function (object, source, guard) {
            var index, iterable = object, result = iterable;
            if (!iterable)
                return result;
            var args = arguments, argsIndex = 0, argsLength = typeof guard == 'number' ? 2 : args.length;
            while (++argsIndex < argsLength) {
                iterable = args[argsIndex];
                if (iterable && objectTypes[typeof iterable]) {
                    var ownIndex = -1, ownProps = objectTypes[typeof iterable] && keys(iterable), length = ownProps ? ownProps.length : 0;
                    while (++ownIndex < length) {
                        index = ownProps[ownIndex];
                        if (typeof result[index] == 'undefined')
                            result[index] = iterable[index];
                    }
                }
            }
            return result;
        };
        function findKey(object, callback, thisArg) {
            var result;
            callback = lodash.createCallback(callback, thisArg);
            forOwn(object, function (value, key, object) {
                if (callback(value, key, object)) {
                    result = key;
                    return false;
                }
            });
            return result;
        }
        var forIn = function (collection, callback, thisArg) {
            var index, iterable = collection, result = iterable;
            if (!iterable)
                return result;
            if (!objectTypes[typeof iterable])
                return result;
            callback = callback && typeof thisArg == 'undefined' ? callback : lodash.createCallback(callback, thisArg);
            for (index in iterable) {
                if (callback(iterable[index], index, collection) === false)
                    return result;
            }
            return result;
        };
        var forOwn = function (collection, callback, thisArg) {
            var index, iterable = collection, result = iterable;
            if (!iterable)
                return result;
            if (!objectTypes[typeof iterable])
                return result;
            callback = callback && typeof thisArg == 'undefined' ? callback : lodash.createCallback(callback, thisArg);
            var ownIndex = -1, ownProps = objectTypes[typeof iterable] && keys(iterable), length = ownProps ? ownProps.length : 0;
            while (++ownIndex < length) {
                index = ownProps[ownIndex];
                if (callback(iterable[index], index, collection) === false)
                    return result;
            }
            return result;
        };
        function functions(object) {
            var result = [];
            forIn(object, function (value, key) {
                if (isFunction(value)) {
                    result.push(key);
                }
            });
            return result.sort();
        }
        function has(object, property) {
            return object ? hasOwnProperty.call(object, property) : false;
        }
        function invert(object) {
            var index = -1, props = keys(object), length = props.length, result = {};
            while (++index < length) {
                var key = props[index];
                result[object[key]] = key;
            }
            return result;
        }
        function isBoolean(value) {
            return value === true || value === false || toString.call(value) == boolClass;
        }
        function isDate(value) {
            return value ? typeof value == 'object' && toString.call(value) == dateClass : false;
        }
        function isElement(value) {
            return value ? value.nodeType === 1 : false;
        }
        function isEmpty(value) {
            var result = true;
            if (!value) {
                return result;
            }
            var className = toString.call(value), length = value.length;
            if (className == arrayClass || className == stringClass || className == argsClass || className == objectClass && typeof length == 'number' && isFunction(value.splice)) {
                return !length;
            }
            forOwn(value, function () {
                return result = false;
            });
            return result;
        }
        function isEqual(a, b, callback, thisArg, stackA, stackB) {
            var whereIndicator = callback === indicatorObject;
            if (typeof callback == 'function' && !whereIndicator) {
                callback = lodash.createCallback(callback, thisArg, 2);
                var result = callback(a, b);
                if (typeof result != 'undefined') {
                    return !!result;
                }
            }
            if (a === b) {
                return a !== 0 || 1 / a == 1 / b;
            }
            var type = typeof a, otherType = typeof b;
            if (a === a && (!a || type != 'function' && type != 'object') && (!b || otherType != 'function' && otherType != 'object')) {
                return false;
            }
            if (a == null || b == null) {
                return a === b;
            }
            var className = toString.call(a), otherClass = toString.call(b);
            if (className == argsClass) {
                className = objectClass;
            }
            if (otherClass == argsClass) {
                otherClass = objectClass;
            }
            if (className != otherClass) {
                return false;
            }
            switch (className) {
            case boolClass:
            case dateClass:
                return +a == +b;
            case numberClass:
                return a != +a ? b != +b : a == 0 ? 1 / a == 1 / b : a == +b;
            case regexpClass:
            case stringClass:
                return a == String(b);
            }
            var isArr = className == arrayClass;
            if (!isArr) {
                if (hasOwnProperty.call(a, '__wrapped__ ') || hasOwnProperty.call(b, '__wrapped__')) {
                    return isEqual(a.__wrapped__ || a, b.__wrapped__ || b, callback, thisArg, stackA, stackB);
                }
                if (className != objectClass) {
                    return false;
                }
                var ctorA = a.constructor, ctorB = b.constructor;
                if (ctorA != ctorB && !(isFunction(ctorA) && ctorA instanceof ctorA && isFunction(ctorB) && ctorB instanceof ctorB)) {
                    return false;
                }
            }
            var initedStack = !stackA;
            stackA || (stackA = getArray());
            stackB || (stackB = getArray());
            var length = stackA.length;
            while (length--) {
                if (stackA[length] == a) {
                    return stackB[length] == b;
                }
            }
            var size = 0;
            result = true;
            stackA.push(a);
            stackB.push(b);
            if (isArr) {
                length = a.length;
                size = b.length;
                result = size == a.length;
                if (!result && !whereIndicator) {
                    return result;
                }
                while (size--) {
                    var index = length, value = b[size];
                    if (whereIndicator) {
                        while (index--) {
                            if (result = isEqual(a[index], value, callback, thisArg, stackA, stackB)) {
                                break;
                            }
                        }
                    } else if (!(result = isEqual(a[size], value, callback, thisArg, stackA, stackB))) {
                        break;
                    }
                }
                return result;
            }
            forIn(b, function (value, key, b) {
                if (hasOwnProperty.call(b, key)) {
                    size++;
                    return result = hasOwnProperty.call(a, key) && isEqual(a[key], value, callback, thisArg, stackA, stackB);
                }
            });
            if (result && !whereIndicator) {
                forIn(a, function (value, key, a) {
                    if (hasOwnProperty.call(a, key)) {
                        return result = --size > -1;
                    }
                });
            }
            if (initedStack) {
                releaseArray(stackA);
                releaseArray(stackB);
            }
            return result;
        }
        function isFinite(value) {
            return nativeIsFinite(value) && !nativeIsNaN(parseFloat(value));
        }
        function isFunction(value) {
            return typeof value == 'function';
        }
        function isObject(value) {
            return !!(value && objectTypes[typeof value]);
        }
        function isNaN(value) {
            return isNumber(value) && value != +value;
        }
        function isNull(value) {
            return value === null;
        }
        function isNumber(value) {
            return typeof value == 'number' || toString.call(value) == numberClass;
        }
        var isPlainObject = function (value) {
            if (!(value && toString.call(value) == objectClass)) {
                return false;
            }
            var valueOf = value.valueOf, objProto = typeof valueOf == 'function' && (objProto = getPrototypeOf(valueOf)) && getPrototypeOf(objProto);
            return objProto ? value == objProto || getPrototypeOf(value) == objProto : shimIsPlainObject(value);
        };
        function isRegExp(value) {
            return value ? typeof value == 'object' && toString.call(value) == regexpClass : false;
        }
        function isString(value) {
            return typeof value == 'string' || toString.call(value) == stringClass;
        }
        function isUndefined(value) {
            return typeof value == 'undefined';
        }
        function merge(object, source, deepIndicator) {
            var args = arguments, index = 0, length = 2;
            if (!isObject(object)) {
                return object;
            }
            if (deepIndicator === indicatorObject) {
                var callback = args[3], stackA = args[4], stackB = args[5];
            } else {
                var initedStack = true;
                stackA = getArray();
                stackB = getArray();
                if (typeof deepIndicator != 'number') {
                    length = args.length;
                }
                if (length > 3 && typeof args[length - 2] == 'function') {
                    callback = lodash.createCallback(args[--length - 1], args[length--], 2);
                } else if (length > 2 && typeof args[length - 1] == 'function') {
                    callback = args[--length];
                }
            }
            while (++index < length) {
                (isArray(args[index]) ? forEach : forOwn)(args[index], function (source, key) {
                    var found, isArr, result = source, value = object[key];
                    if (source && ((isArr = isArray(source)) || isPlainObject(source))) {
                        var stackLength = stackA.length;
                        while (stackLength--) {
                            if (found = stackA[stackLength] == source) {
                                value = stackB[stackLength];
                                break;
                            }
                        }
                        if (!found) {
                            var isShallow;
                            if (callback) {
                                result = callback(value, source);
                                if (isShallow = typeof result != 'undefined') {
                                    value = result;
                                }
                            }
                            if (!isShallow) {
                                value = isArr ? isArray(value) ? value : [] : isPlainObject(value) ? value : {};
                            }
                            stackA.push(source);
                            stackB.push(value);
                            if (!isShallow) {
                                value = merge(value, source, indicatorObject, callback, stackA, stackB);
                            }
                        }
                    } else {
                        if (callback) {
                            result = callback(value, source);
                            if (typeof result == 'undefined') {
                                result = source;
                            }
                        }
                        if (typeof result != 'undefined') {
                            value = result;
                        }
                    }
                    object[key] = value;
                });
            }
            if (initedStack) {
                releaseArray(stackA);
                releaseArray(stackB);
            }
            return object;
        }
        function omit(object, callback, thisArg) {
            var indexOf = getIndexOf(), isFunc = typeof callback == 'function', result = {};
            if (isFunc) {
                callback = lodash.createCallback(callback, thisArg);
            } else {
                var props = concat.apply(arrayRef, nativeSlice.call(arguments, 1));
            }
            forIn(object, function (value, key, object) {
                if (isFunc ? !callback(value, key, object) : indexOf(props, key) < 0) {
                    result[key] = value;
                }
            });
            return result;
        }
        function pairs(object) {
            var index = -1, props = keys(object), length = props.length, result = Array(length);
            while (++index < length) {
                var key = props[index];
                result[index] = [
                    key,
                    object[key]
                ];
            }
            return result;
        }
        function pick(object, callback, thisArg) {
            var result = {};
            if (typeof callback != 'function') {
                var index = -1, props = concat.apply(arrayRef, nativeSlice.call(arguments, 1)), length = isObject(object) ? props.length : 0;
                while (++index < length) {
                    var key = props[index];
                    if (key in object) {
                        result[key] = object[key];
                    }
                }
            } else {
                callback = lodash.createCallback(callback, thisArg);
                forIn(object, function (value, key, object) {
                    if (callback(value, key, object)) {
                        result[key] = value;
                    }
                });
            }
            return result;
        }
        function transform(object, callback, accumulator, thisArg) {
            var isArr = isArray(object);
            callback = lodash.createCallback(callback, thisArg, 4);
            if (accumulator == null) {
                if (isArr) {
                    accumulator = [];
                } else {
                    var ctor = object && object.constructor, proto = ctor && ctor.prototype;
                    accumulator = createObject(proto);
                }
            }
            (isArr ? forEach : forOwn)(object, function (value, index, object) {
                return callback(accumulator, value, index, object);
            });
            return accumulator;
        }
        function values(object) {
            var index = -1, props = keys(object), length = props.length, result = Array(length);
            while (++index < length) {
                result[index] = object[props[index]];
            }
            return result;
        }
        function at(collection) {
            var index = -1, props = concat.apply(arrayRef, nativeSlice.call(arguments, 1)), length = props.length, result = Array(length);
            while (++index < length) {
                result[index] = collection[props[index]];
            }
            return result;
        }
        function contains(collection, target, fromIndex) {
            var index = -1, indexOf = getIndexOf(), length = collection ? collection.length : 0, result = false;
            fromIndex = (fromIndex < 0 ? nativeMax(0, length + fromIndex) : fromIndex) || 0;
            if (length && typeof length == 'number') {
                result = (isString(collection) ? collection.indexOf(target, fromIndex) : indexOf(collection, target, fromIndex)) > -1;
            } else {
                forOwn(collection, function (value) {
                    if (++index >= fromIndex) {
                        return !(result = value === target);
                    }
                });
            }
            return result;
        }
        function countBy(collection, callback, thisArg) {
            var result = {};
            callback = lodash.createCallback(callback, thisArg);
            forEach(collection, function (value, key, collection) {
                key = String(callback(value, key, collection));
                hasOwnProperty.call(result, key) ? result[key]++ : result[key] = 1;
            });
            return result;
        }
        function every(collection, callback, thisArg) {
            var result = true;
            callback = lodash.createCallback(callback, thisArg);
            var index = -1, length = collection ? collection.length : 0;
            if (typeof length == 'number') {
                while (++index < length) {
                    if (!(result = !!callback(collection[index], index, collection))) {
                        break;
                    }
                }
            } else {
                forOwn(collection, function (value, index, collection) {
                    return result = !!callback(value, index, collection);
                });
            }
            return result;
        }
        function filter(collection, callback, thisArg) {
            var result = [];
            callback = lodash.createCallback(callback, thisArg);
            var index = -1, length = collection ? collection.length : 0;
            if (typeof length == 'number') {
                while (++index < length) {
                    var value = collection[index];
                    if (callback(value, index, collection)) {
                        result.push(value);
                    }
                }
            } else {
                forOwn(collection, function (value, index, collection) {
                    if (callback(value, index, collection)) {
                        result.push(value);
                    }
                });
            }
            return result;
        }
        function find(collection, callback, thisArg) {
            callback = lodash.createCallback(callback, thisArg);
            var index = -1, length = collection ? collection.length : 0;
            if (typeof length == 'number') {
                while (++index < length) {
                    var value = collection[index];
                    if (callback(value, index, collection)) {
                        return value;
                    }
                }
            } else {
                var result;
                forOwn(collection, function (value, index, collection) {
                    if (callback(value, index, collection)) {
                        result = value;
                        return false;
                    }
                });
                return result;
            }
        }
        function forEach(collection, callback, thisArg) {
            var index = -1, length = collection ? collection.length : 0;
            callback = callback && typeof thisArg == 'undefined' ? callback : lodash.createCallback(callback, thisArg);
            if (typeof length == 'number') {
                while (++index < length) {
                    if (callback(collection[index], index, collection) === false) {
                        break;
                    }
                }
            } else {
                forOwn(collection, callback);
            }
            return collection;
        }
        function groupBy(collection, callback, thisArg) {
            var result = {};
            callback = lodash.createCallback(callback, thisArg);
            forEach(collection, function (value, key, collection) {
                key = String(callback(value, key, collection));
                (hasOwnProperty.call(result, key) ? result[key] : result[key] = []).push(value);
            });
            return result;
        }
        function invoke(collection, methodName) {
            var args = nativeSlice.call(arguments, 2), index = -1, isFunc = typeof methodName == 'function', length = collection ? collection.length : 0, result = Array(typeof length == 'number' ? length : 0);
            forEach(collection, function (value) {
                result[++index] = (isFunc ? methodName : value[methodName]).apply(value, args);
            });
            return result;
        }
        function map(collection, callback, thisArg) {
            var index = -1, length = collection ? collection.length : 0;
            callback = lodash.createCallback(callback, thisArg);
            if (typeof length == 'number') {
                var result = Array(length);
                while (++index < length) {
                    result[index] = callback(collection[index], index, collection);
                }
            } else {
                result = [];
                forOwn(collection, function (value, key, collection) {
                    result[++index] = callback(value, key, collection);
                });
            }
            return result;
        }
        function max(collection, callback, thisArg) {
            var computed = -Infinity, result = computed;
            if (!callback && isArray(collection)) {
                var index = -1, length = collection.length;
                while (++index < length) {
                    var value = collection[index];
                    if (value > result) {
                        result = value;
                    }
                }
            } else {
                callback = !callback && isString(collection) ? charAtCallback : lodash.createCallback(callback, thisArg);
                forEach(collection, function (value, index, collection) {
                    var current = callback(value, index, collection);
                    if (current > computed) {
                        computed = current;
                        result = value;
                    }
                });
            }
            return result;
        }
        function min(collection, callback, thisArg) {
            var computed = Infinity, result = computed;
            if (!callback && isArray(collection)) {
                var index = -1, length = collection.length;
                while (++index < length) {
                    var value = collection[index];
                    if (value < result) {
                        result = value;
                    }
                }
            } else {
                callback = !callback && isString(collection) ? charAtCallback : lodash.createCallback(callback, thisArg);
                forEach(collection, function (value, index, collection) {
                    var current = callback(value, index, collection);
                    if (current < computed) {
                        computed = current;
                        result = value;
                    }
                });
            }
            return result;
        }
        function pluck(collection, property) {
            var index = -1, length = collection ? collection.length : 0;
            if (typeof length == 'number') {
                var result = Array(length);
                while (++index < length) {
                    result[index] = collection[index][property];
                }
            }
            return result || map(collection, property);
        }
        function reduce(collection, callback, accumulator, thisArg) {
            if (!collection)
                return accumulator;
            var noaccum = arguments.length < 3;
            callback = lodash.createCallback(callback, thisArg, 4);
            var index = -1, length = collection.length;
            if (typeof length == 'number') {
                if (noaccum) {
                    accumulator = collection[++index];
                }
                while (++index < length) {
                    accumulator = callback(accumulator, collection[index], index, collection);
                }
            } else {
                forOwn(collection, function (value, index, collection) {
                    accumulator = noaccum ? (noaccum = false, value) : callback(accumulator, value, index, collection);
                });
            }
            return accumulator;
        }
        function reduceRight(collection, callback, accumulator, thisArg) {
            var iterable = collection, length = collection ? collection.length : 0, noaccum = arguments.length < 3;
            if (typeof length != 'number') {
                var props = keys(collection);
                length = props.length;
            }
            callback = lodash.createCallback(callback, thisArg, 4);
            forEach(collection, function (value, index, collection) {
                index = props ? props[--length] : --length;
                accumulator = noaccum ? (noaccum = false, iterable[index]) : callback(accumulator, iterable[index], index, collection);
            });
            return accumulator;
        }
        function reject(collection, callback, thisArg) {
            callback = lodash.createCallback(callback, thisArg);
            return filter(collection, function (value, index, collection) {
                return !callback(value, index, collection);
            });
        }
        function shuffle(collection) {
            var index = -1, length = collection ? collection.length : 0, result = Array(typeof length == 'number' ? length : 0);
            forEach(collection, function (value) {
                var rand = floor(nativeRandom() * (++index + 1));
                result[index] = result[rand];
                result[rand] = value;
            });
            return result;
        }
        function size(collection) {
            var length = collection ? collection.length : 0;
            return typeof length == 'number' ? length : keys(collection).length;
        }
        function some(collection, callback, thisArg) {
            var result;
            callback = lodash.createCallback(callback, thisArg);
            var index = -1, length = collection ? collection.length : 0;
            if (typeof length == 'number') {
                while (++index < length) {
                    if (result = callback(collection[index], index, collection)) {
                        break;
                    }
                }
            } else {
                forOwn(collection, function (value, index, collection) {
                    return !(result = callback(value, index, collection));
                });
            }
            return !!result;
        }
        function sortBy(collection, callback, thisArg) {
            var index = -1, length = collection ? collection.length : 0, result = Array(typeof length == 'number' ? length : 0);
            callback = lodash.createCallback(callback, thisArg);
            forEach(collection, function (value, key, collection) {
                var object = result[++index] = getObject();
                object.criteria = callback(value, key, collection);
                object.index = index;
                object.value = value;
            });
            length = result.length;
            result.sort(compareAscending);
            while (length--) {
                var object = result[length];
                result[length] = object.value;
                releaseObject(object);
            }
            return result;
        }
        function toArray(collection) {
            if (collection && typeof collection.length == 'number') {
                return slice(collection);
            }
            return values(collection);
        }
        var where = filter;
        function compact(array) {
            var index = -1, length = array ? array.length : 0, result = [];
            while (++index < length) {
                var value = array[index];
                if (value) {
                    result.push(value);
                }
            }
            return result;
        }
        function difference(array) {
            var index = -1, indexOf = getIndexOf(), length = array ? array.length : 0, seen = concat.apply(arrayRef, nativeSlice.call(arguments, 1)), result = [];
            var isLarge = length >= largeArraySize && indexOf === basicIndexOf;
            if (isLarge) {
                var cache = createCache(seen);
                if (cache) {
                    indexOf = cacheIndexOf;
                    seen = cache;
                } else {
                    isLarge = false;
                }
            }
            while (++index < length) {
                var value = array[index];
                if (indexOf(seen, value) < 0) {
                    result.push(value);
                }
            }
            if (isLarge) {
                releaseObject(seen);
            }
            return result;
        }
        function findIndex(array, callback, thisArg) {
            var index = -1, length = array ? array.length : 0;
            callback = lodash.createCallback(callback, thisArg);
            while (++index < length) {
                if (callback(array[index], index, array)) {
                    return index;
                }
            }
            return -1;
        }
        function first(array, callback, thisArg) {
            if (array) {
                var n = 0, length = array.length;
                if (typeof callback != 'number' && callback != null) {
                    var index = -1;
                    callback = lodash.createCallback(callback, thisArg);
                    while (++index < length && callback(array[index], index, array)) {
                        n++;
                    }
                } else {
                    n = callback;
                    if (n == null || thisArg) {
                        return array[0];
                    }
                }
                return slice(array, 0, nativeMin(nativeMax(0, n), length));
            }
        }
        var flatten = overloadWrapper(function flatten(array, isShallow, callback) {
                var index = -1, length = array ? array.length : 0, result = [];
                while (++index < length) {
                    var value = array[index];
                    if (callback) {
                        value = callback(value, index, array);
                    }
                    if (isArray(value)) {
                        push.apply(result, isShallow ? value : flatten(value));
                    } else {
                        result.push(value);
                    }
                }
                return result;
            });
        function indexOf(array, value, fromIndex) {
            if (typeof fromIndex == 'number') {
                var length = array ? array.length : 0;
                fromIndex = fromIndex < 0 ? nativeMax(0, length + fromIndex) : fromIndex || 0;
            } else if (fromIndex) {
                var index = sortedIndex(array, value);
                return array[index] === value ? index : -1;
            }
            return array ? basicIndexOf(array, value, fromIndex) : -1;
        }
        function initial(array, callback, thisArg) {
            if (!array) {
                return [];
            }
            var n = 0, length = array.length;
            if (typeof callback != 'number' && callback != null) {
                var index = length;
                callback = lodash.createCallback(callback, thisArg);
                while (index-- && callback(array[index], index, array)) {
                    n++;
                }
            } else {
                n = callback == null || thisArg ? 1 : callback || n;
            }
            return slice(array, 0, nativeMin(nativeMax(0, length - n), length));
        }
        function intersection(array) {
            var args = arguments, argsLength = args.length, argsIndex = -1, caches = getArray(), index = -1, indexOf = getIndexOf(), length = array ? array.length : 0, result = [], seen = getArray();
            while (++argsIndex < argsLength) {
                var value = args[argsIndex];
                caches[argsIndex] = indexOf === basicIndexOf && (value ? value.length : 0) >= largeArraySize && createCache(argsIndex ? args[argsIndex] : seen);
            }
            outer:
                while (++index < length) {
                    var cache = caches[0];
                    value = array[index];
                    if ((cache ? cacheIndexOf(cache, value) : indexOf(seen, value)) < 0) {
                        argsIndex = argsLength;
                        (cache || seen).push(value);
                        while (--argsIndex) {
                            cache = caches[argsIndex];
                            if ((cache ? cacheIndexOf(cache, value) : indexOf(args[argsIndex], value)) < 0) {
                                continue outer;
                            }
                        }
                        result.push(value);
                    }
                }
            while (argsLength--) {
                cache = caches[argsLength];
                if (cache) {
                    releaseObject(cache);
                }
            }
            releaseArray(caches);
            releaseArray(seen);
            return result;
        }
        function last(array, callback, thisArg) {
            if (array) {
                var n = 0, length = array.length;
                if (typeof callback != 'number' && callback != null) {
                    var index = length;
                    callback = lodash.createCallback(callback, thisArg);
                    while (index-- && callback(array[index], index, array)) {
                        n++;
                    }
                } else {
                    n = callback;
                    if (n == null || thisArg) {
                        return array[length - 1];
                    }
                }
                return slice(array, nativeMax(0, length - n));
            }
        }
        function lastIndexOf(array, value, fromIndex) {
            var index = array ? array.length : 0;
            if (typeof fromIndex == 'number') {
                index = (fromIndex < 0 ? nativeMax(0, index + fromIndex) : nativeMin(fromIndex, index - 1)) + 1;
            }
            while (index--) {
                if (array[index] === value) {
                    return index;
                }
            }
            return -1;
        }
        function range(start, end, step) {
            start = +start || 0;
            step = +step || 1;
            if (end == null) {
                end = start;
                start = 0;
            }
            var index = -1, length = nativeMax(0, ceil((end - start) / step)), result = Array(length);
            while (++index < length) {
                result[index] = start;
                start += step;
            }
            return result;
        }
        function rest(array, callback, thisArg) {
            if (typeof callback != 'number' && callback != null) {
                var n = 0, index = -1, length = array ? array.length : 0;
                callback = lodash.createCallback(callback, thisArg);
                while (++index < length && callback(array[index], index, array)) {
                    n++;
                }
            } else {
                n = callback == null || thisArg ? 1 : nativeMax(0, callback);
            }
            return slice(array, n);
        }
        function sortedIndex(array, value, callback, thisArg) {
            var low = 0, high = array ? array.length : low;
            callback = callback ? lodash.createCallback(callback, thisArg, 1) : identity;
            value = callback(value);
            while (low < high) {
                var mid = low + high >>> 1;
                callback(array[mid]) < value ? low = mid + 1 : high = mid;
            }
            return low;
        }
        function union(array) {
            if (!isArray(array)) {
                arguments[0] = array ? nativeSlice.call(array) : arrayRef;
            }
            return uniq(concat.apply(arrayRef, arguments));
        }
        var uniq = overloadWrapper(function (array, isSorted, callback) {
                var index = -1, indexOf = getIndexOf(), length = array ? array.length : 0, result = [];
                var isLarge = !isSorted && length >= largeArraySize && indexOf === basicIndexOf, seen = callback || isLarge ? getArray() : result;
                if (isLarge) {
                    var cache = createCache(seen);
                    if (cache) {
                        indexOf = cacheIndexOf;
                        seen = cache;
                    } else {
                        isLarge = false;
                        seen = callback ? seen : (releaseArray(seen), result);
                    }
                }
                while (++index < length) {
                    var value = array[index], computed = callback ? callback(value, index, array) : value;
                    if (isSorted ? !index || seen[seen.length - 1] !== computed : indexOf(seen, computed) < 0) {
                        if (callback || isLarge) {
                            seen.push(computed);
                        }
                        result.push(value);
                    }
                }
                if (isLarge) {
                    releaseArray(seen.array);
                    releaseObject(seen);
                } else if (callback) {
                    releaseArray(seen);
                }
                return result;
            });
        function unzip(array) {
            var index = -1, length = array ? max(pluck(array, 'length')) : 0, result = Array(length < 0 ? 0 : length);
            while (++index < length) {
                result[index] = pluck(array, index);
            }
            return result;
        }
        function without(array) {
            return difference(array, nativeSlice.call(arguments, 1));
        }
        function zip(array) {
            return array ? unzip(arguments) : [];
        }
        function zipObject(keys, values) {
            var index = -1, length = keys ? keys.length : 0, result = {};
            while (++index < length) {
                var key = keys[index];
                if (values) {
                    result[key] = values[index];
                } else {
                    result[key[0]] = key[1];
                }
            }
            return result;
        }
        function after(n, func) {
            if (n < 1) {
                return func();
            }
            return function () {
                if (--n < 1) {
                    return func.apply(this, arguments);
                }
            };
        }
        function bind(func, thisArg) {
            return support.fastBind || nativeBind && arguments.length > 2 ? nativeBind.call.apply(nativeBind, arguments) : createBound(func, thisArg, nativeSlice.call(arguments, 2));
        }
        function bindAll(object) {
            var funcs = arguments.length > 1 ? concat.apply(arrayRef, nativeSlice.call(arguments, 1)) : functions(object), index = -1, length = funcs.length;
            while (++index < length) {
                var key = funcs[index];
                object[key] = bind(object[key], object);
            }
            return object;
        }
        function bindKey(object, key) {
            return createBound(object, key, nativeSlice.call(arguments, 2), indicatorObject);
        }
        function compose() {
            var funcs = arguments;
            return function () {
                var args = arguments, length = funcs.length;
                while (length--) {
                    args = [funcs[length].apply(this, args)];
                }
                return args[0];
            };
        }
        function createCallback(func, thisArg, argCount) {
            if (func == null) {
                return identity;
            }
            var type = typeof func;
            if (type != 'function') {
                if (type != 'object') {
                    return function (object) {
                        return object[func];
                    };
                }
                var props = keys(func);
                return function (object) {
                    var length = props.length, result = false;
                    while (length--) {
                        if (!(result = isEqual(object[props[length]], func[props[length]], indicatorObject))) {
                            break;
                        }
                    }
                    return result;
                };
            }
            if (typeof thisArg == 'undefined' || reThis && !reThis.test(fnToString.call(func))) {
                return func;
            }
            if (argCount === 1) {
                return function (value) {
                    return func.call(thisArg, value);
                };
            }
            if (argCount === 2) {
                return function (a, b) {
                    return func.call(thisArg, a, b);
                };
            }
            if (argCount === 4) {
                return function (accumulator, value, index, collection) {
                    return func.call(thisArg, accumulator, value, index, collection);
                };
            }
            return function (value, index, collection) {
                return func.call(thisArg, value, index, collection);
            };
        }
        function debounce(func, wait, options) {
            var args, result, thisArg, callCount = 0, lastCalled = 0, maxWait = false, maxTimeoutId = null, timeoutId = null, trailing = true;
            function clear() {
                clearTimeout(maxTimeoutId);
                clearTimeout(timeoutId);
                callCount = 0;
                maxTimeoutId = timeoutId = null;
            }
            function delayed() {
                var isCalled = trailing && (!leading || callCount > 1);
                clear();
                if (isCalled) {
                    if (maxWait !== false) {
                        lastCalled = new Date();
                    }
                    result = func.apply(thisArg, args);
                }
            }
            function maxDelayed() {
                clear();
                if (trailing || maxWait !== wait) {
                    lastCalled = new Date();
                    result = func.apply(thisArg, args);
                }
            }
            wait = nativeMax(0, wait || 0);
            if (options === true) {
                var leading = true;
                trailing = false;
            } else if (isObject(options)) {
                leading = options.leading;
                maxWait = 'maxWait' in options && nativeMax(wait, options.maxWait || 0);
                trailing = 'trailing' in options ? options.trailing : trailing;
            }
            return function () {
                args = arguments;
                thisArg = this;
                callCount++;
                clearTimeout(timeoutId);
                if (maxWait === false) {
                    if (leading && callCount < 2) {
                        result = func.apply(thisArg, args);
                    }
                } else {
                    var now = new Date();
                    if (!maxTimeoutId && !leading) {
                        lastCalled = now;
                    }
                    var remaining = maxWait - (now - lastCalled);
                    if (remaining <= 0) {
                        clearTimeout(maxTimeoutId);
                        maxTimeoutId = null;
                        lastCalled = now;
                        result = func.apply(thisArg, args);
                    } else if (!maxTimeoutId) {
                        maxTimeoutId = setTimeout(maxDelayed, remaining);
                    }
                }
                if (wait !== maxWait) {
                    timeoutId = setTimeout(delayed, wait);
                }
                return result;
            };
        }
        function defer(func) {
            var args = nativeSlice.call(arguments, 1);
            return setTimeout(function () {
                func.apply(undefined, args);
            }, 1);
        }
        if (isV8 && freeModule && typeof setImmediate == 'function') {
            defer = bind(setImmediate, context);
        }
        function delay(func, wait) {
            var args = nativeSlice.call(arguments, 2);
            return setTimeout(function () {
                func.apply(undefined, args);
            }, wait);
        }
        function memoize(func, resolver) {
            function memoized() {
                var cache = memoized.cache, key = keyPrefix + (resolver ? resolver.apply(this, arguments) : arguments[0]);
                return hasOwnProperty.call(cache, key) ? cache[key] : cache[key] = func.apply(this, arguments);
            }
            memoized.cache = {};
            return memoized;
        }
        function once(func) {
            var ran, result;
            return function () {
                if (ran) {
                    return result;
                }
                ran = true;
                result = func.apply(this, arguments);
                func = null;
                return result;
            };
        }
        function partial(func) {
            return createBound(func, nativeSlice.call(arguments, 1));
        }
        function partialRight(func) {
            return createBound(func, nativeSlice.call(arguments, 1), null, indicatorObject);
        }
        function throttle(func, wait, options) {
            var leading = true, trailing = true;
            if (options === false) {
                leading = false;
            } else if (isObject(options)) {
                leading = 'leading' in options ? options.leading : leading;
                trailing = 'trailing' in options ? options.trailing : trailing;
            }
            options = getObject();
            options.leading = leading;
            options.maxWait = wait;
            options.trailing = trailing;
            var result = debounce(func, wait, options);
            releaseObject(options);
            return result;
        }
        function wrap(value, wrapper) {
            return function () {
                var args = [value];
                push.apply(args, arguments);
                return wrapper.apply(this, args);
            };
        }
        function escape(string) {
            return string == null ? '' : String(string).replace(reUnescapedHtml, escapeHtmlChar);
        }
        function identity(value) {
            return value;
        }
        function mixin(object) {
            forEach(functions(object), function (methodName) {
                var func = lodash[methodName] = object[methodName];
                lodash.prototype[methodName] = function () {
                    var value = this.__wrapped__, args = [value];
                    push.apply(args, arguments);
                    var result = func.apply(lodash, args);
                    return value && typeof value == 'object' && value === result ? this : new lodashWrapper(result);
                };
            });
        }
        function noConflict() {
            context._ = oldDash;
            return this;
        }
        var parseInt = nativeParseInt(whitespace + '08') == 8 ? nativeParseInt : function (value, radix) {
                return nativeParseInt(isString(value) ? value.replace(reLeadingSpacesAndZeros, '') : value, radix || 0);
            };
        function random(min, max) {
            if (min == null && max == null) {
                max = 1;
            }
            min = +min || 0;
            if (max == null) {
                max = min;
                min = 0;
            } else {
                max = +max || 0;
            }
            var rand = nativeRandom();
            return min % 1 || max % 1 ? min + nativeMin(rand * (max - min + parseFloat('1e-' + ((rand + '').length - 1))), max) : min + floor(rand * (max - min + 1));
        }
        function result(object, property) {
            var value = object ? object[property] : undefined;
            return isFunction(value) ? object[property]() : value;
        }
        function template(text, data, options) {
            var settings = lodash.templateSettings;
            text || (text = '');
            options = defaults({}, options, settings);
            var imports = defaults({}, options.imports, settings.imports), importsKeys = keys(imports), importsValues = values(imports);
            var isEvaluating, index = 0, interpolate = options.interpolate || reNoMatch, source = '__p += \'';
            var reDelimiters = RegExp((options.escape || reNoMatch).source + '|' + interpolate.source + '|' + (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' + (options.evaluate || reNoMatch).source + '|$', 'g');
            text.replace(reDelimiters, function (match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {
                interpolateValue || (interpolateValue = esTemplateValue);
                source += text.slice(index, offset).replace(reUnescapedString, escapeStringChar);
                if (escapeValue) {
                    source += '\' +\n__e(' + escapeValue + ') +\n\'';
                }
                if (evaluateValue) {
                    isEvaluating = true;
                    source += '\';\n' + evaluateValue + ';\n__p += \'';
                }
                if (interpolateValue) {
                    source += '\' +\n((__t = (' + interpolateValue + ')) == null ? \'\' : __t) +\n\'';
                }
                index = offset + match.length;
                return match;
            });
            source += '\';\n';
            var variable = options.variable, hasVariable = variable;
            if (!hasVariable) {
                variable = 'obj';
                source = 'with (' + variable + ') {\n' + source + '\n}\n';
            }
            source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source).replace(reEmptyStringMiddle, '$1').replace(reEmptyStringTrailing, '$1;');
            source = 'function(' + variable + ') {\n' + (hasVariable ? '' : variable + ' || (' + variable + ' = {});\n') + 'var __t, __p = \'\', __e = _.escape' + (isEvaluating ? ', __j = Array.prototype.join;\n' + 'function print() { __p += __j.call(arguments, \'\') }\n' : ';\n') + source + 'return __p\n}';
            var sourceURL = '\n/*\n//@ sourceURL=' + (options.sourceURL || '/lodash/template/source[' + templateCounter++ + ']') + '\n*/';
            try {
                var result = Function(importsKeys, 'return ' + source + sourceURL).apply(undefined, importsValues);
            } catch (e) {
                e.source = source;
                throw e;
            }
            if (data) {
                return result(data);
            }
            result.source = source;
            return result;
        }
        function times(n, callback, thisArg) {
            n = (n = +n) > -1 ? n : 0;
            var index = -1, result = Array(n);
            callback = lodash.createCallback(callback, thisArg, 1);
            while (++index < n) {
                result[index] = callback(index);
            }
            return result;
        }
        function unescape(string) {
            return string == null ? '' : String(string).replace(reEscapedHtml, unescapeHtmlChar);
        }
        function uniqueId(prefix) {
            var id = ++idCounter;
            return String(prefix == null ? '' : prefix) + id;
        }
        function tap(value, interceptor) {
            interceptor(value);
            return value;
        }
        function wrapperToString() {
            return String(this.__wrapped__);
        }
        function wrapperValueOf() {
            return this.__wrapped__;
        }
        lodash.after = after;
        lodash.assign = assign;
        lodash.at = at;
        lodash.bind = bind;
        lodash.bindAll = bindAll;
        lodash.bindKey = bindKey;
        lodash.compact = compact;
        lodash.compose = compose;
        lodash.countBy = countBy;
        lodash.createCallback = createCallback;
        lodash.debounce = debounce;
        lodash.defaults = defaults;
        lodash.defer = defer;
        lodash.delay = delay;
        lodash.difference = difference;
        lodash.filter = filter;
        lodash.flatten = flatten;
        lodash.forEach = forEach;
        lodash.forIn = forIn;
        lodash.forOwn = forOwn;
        lodash.functions = functions;
        lodash.groupBy = groupBy;
        lodash.initial = initial;
        lodash.intersection = intersection;
        lodash.invert = invert;
        lodash.invoke = invoke;
        lodash.keys = keys;
        lodash.map = map;
        lodash.max = max;
        lodash.memoize = memoize;
        lodash.merge = merge;
        lodash.min = min;
        lodash.omit = omit;
        lodash.once = once;
        lodash.pairs = pairs;
        lodash.partial = partial;
        lodash.partialRight = partialRight;
        lodash.pick = pick;
        lodash.pluck = pluck;
        lodash.range = range;
        lodash.reject = reject;
        lodash.rest = rest;
        lodash.shuffle = shuffle;
        lodash.sortBy = sortBy;
        lodash.tap = tap;
        lodash.throttle = throttle;
        lodash.times = times;
        lodash.toArray = toArray;
        lodash.transform = transform;
        lodash.union = union;
        lodash.uniq = uniq;
        lodash.unzip = unzip;
        lodash.values = values;
        lodash.where = where;
        lodash.without = without;
        lodash.wrap = wrap;
        lodash.zip = zip;
        lodash.zipObject = zipObject;
        lodash.collect = map;
        lodash.drop = rest;
        lodash.each = forEach;
        lodash.extend = assign;
        lodash.methods = functions;
        lodash.object = zipObject;
        lodash.select = filter;
        lodash.tail = rest;
        lodash.unique = uniq;
        mixin(lodash);
        lodash.chain = lodash;
        lodash.prototype.chain = function () {
            return this;
        };
        lodash.clone = clone;
        lodash.cloneDeep = cloneDeep;
        lodash.contains = contains;
        lodash.escape = escape;
        lodash.every = every;
        lodash.find = find;
        lodash.findIndex = findIndex;
        lodash.findKey = findKey;
        lodash.has = has;
        lodash.identity = identity;
        lodash.indexOf = indexOf;
        lodash.isArguments = isArguments;
        lodash.isArray = isArray;
        lodash.isBoolean = isBoolean;
        lodash.isDate = isDate;
        lodash.isElement = isElement;
        lodash.isEmpty = isEmpty;
        lodash.isEqual = isEqual;
        lodash.isFinite = isFinite;
        lodash.isFunction = isFunction;
        lodash.isNaN = isNaN;
        lodash.isNull = isNull;
        lodash.isNumber = isNumber;
        lodash.isObject = isObject;
        lodash.isPlainObject = isPlainObject;
        lodash.isRegExp = isRegExp;
        lodash.isString = isString;
        lodash.isUndefined = isUndefined;
        lodash.lastIndexOf = lastIndexOf;
        lodash.mixin = mixin;
        lodash.noConflict = noConflict;
        lodash.parseInt = parseInt;
        lodash.random = random;
        lodash.reduce = reduce;
        lodash.reduceRight = reduceRight;
        lodash.result = result;
        lodash.runInContext = runInContext;
        lodash.size = size;
        lodash.some = some;
        lodash.sortedIndex = sortedIndex;
        lodash.template = template;
        lodash.unescape = unescape;
        lodash.uniqueId = uniqueId;
        lodash.all = every;
        lodash.any = some;
        lodash.detect = find;
        lodash.findWhere = find;
        lodash.foldl = reduce;
        lodash.foldr = reduceRight;
        lodash.include = contains;
        lodash.inject = reduce;
        forOwn(lodash, function (func, methodName) {
            if (!lodash.prototype[methodName]) {
                lodash.prototype[methodName] = function () {
                    var args = [this.__wrapped__];
                    push.apply(args, arguments);
                    return func.apply(lodash, args);
                };
            }
        });
        lodash.first = first;
        lodash.last = last;
        lodash.take = first;
        lodash.head = first;
        forOwn(lodash, function (func, methodName) {
            if (!lodash.prototype[methodName]) {
                lodash.prototype[methodName] = function (callback, thisArg) {
                    var result = func(this.__wrapped__, callback, thisArg);
                    return callback == null || thisArg && typeof callback != 'function' ? result : new lodashWrapper(result);
                };
            }
        });
        lodash.VERSION = '1.3.1';
        lodash.prototype.toString = wrapperToString;
        lodash.prototype.value = wrapperValueOf;
        lodash.prototype.valueOf = wrapperValueOf;
        forEach([
            'join',
            'pop',
            'shift'
        ], function (methodName) {
            var func = arrayRef[methodName];
            lodash.prototype[methodName] = function () {
                return func.apply(this.__wrapped__, arguments);
            };
        });
        forEach([
            'push',
            'reverse',
            'sort',
            'unshift'
        ], function (methodName) {
            var func = arrayRef[methodName];
            lodash.prototype[methodName] = function () {
                func.apply(this.__wrapped__, arguments);
                return this;
            };
        });
        forEach([
            'concat',
            'slice',
            'splice'
        ], function (methodName) {
            var func = arrayRef[methodName];
            lodash.prototype[methodName] = function () {
                return new lodashWrapper(func.apply(this.__wrapped__, arguments));
            };
        });
        return lodash;
    }
    var _ = runInContext();
    if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {
        window._ = _;
        define(function () {
            return _;
        });
    } else if (freeExports && !freeExports.nodeType) {
        if (freeModule) {
            (freeModule.exports = _)._ = _;
        } else {
            freeExports._ = _;
        }
    } else {
        window._ = _;
    }
}(this));
});
require.define('9', function(module, exports, __dirname, __filename, undefined){
(function (definition) {
    if (typeof bootstrap === 'function') {
        bootstrap('promise', definition);
    } else if (typeof exports === 'object') {
        module.exports = definition();
    } else if (typeof define === 'function' && define.amd) {
        define(definition);
    } else if (typeof ses !== 'undefined') {
        if (!ses.ok()) {
            return;
        } else {
            ses.makeQ = definition;
        }
    } else {
        Q = definition();
    }
}(function () {
    'use strict';
    var hasStacks = false;
    try {
        throw new Error();
    } catch (e) {
        hasStacks = !!e.stack;
    }
    var qStartingLine = captureLine();
    var qFileName;
    var noop = function () {
    };
    var nextTick = function () {
            var head = {
                    task: void 0,
                    next: null
                };
            var tail = head;
            var flushing = false;
            var requestTick = void 0;
            var isNodeJS = false;
            function flush() {
                while (head.next) {
                    head = head.next;
                    var task = head.task;
                    head.task = void 0;
                    var domain = head.domain;
                    if (domain) {
                        head.domain = void 0;
                        domain.enter();
                    }
                    try {
                        task();
                    } catch (e) {
                        if (isNodeJS) {
                            if (domain) {
                                domain.exit();
                            }
                            setTimeout(flush, 0);
                            if (domain) {
                                domain.enter();
                            }
                            throw e;
                        } else {
                            setTimeout(function () {
                                throw e;
                            }, 0);
                        }
                    }
                    if (domain) {
                        domain.exit();
                    }
                }
                flushing = false;
            }
            nextTick = function (task) {
                tail = tail.next = {
                    task: task,
                    domain: isNodeJS && process.domain,
                    next: null
                };
                if (!flushing) {
                    flushing = true;
                    requestTick();
                }
            };
            if (typeof process !== 'undefined' && process.nextTick) {
                isNodeJS = true;
                requestTick = function () {
                    process.nextTick(flush);
                };
            } else if (typeof setImmediate === 'function') {
                if (typeof window !== 'undefined') {
                    requestTick = setImmediate.bind(window, flush);
                } else {
                    requestTick = function () {
                        setImmediate(flush);
                    };
                }
            } else if (typeof MessageChannel !== 'undefined') {
                var channel = new MessageChannel();
                channel.port1.onmessage = function () {
                    requestTick = requestPortTick;
                    channel.port1.onmessage = flush;
                    flush();
                };
                var requestPortTick = function () {
                    channel.port2.postMessage(0);
                };
                requestTick = function () {
                    setTimeout(flush, 0);
                    requestPortTick();
                };
            } else {
                requestTick = function () {
                    setTimeout(flush, 0);
                };
            }
            return nextTick;
        }();
    var call = Function.call;
    function uncurryThis(f) {
        return function () {
            return call.apply(f, arguments);
        };
    }
    var array_slice = uncurryThis(Array.prototype.slice);
    var array_reduce = uncurryThis(Array.prototype.reduce || function (callback, basis) {
            var index = 0, length = this.length;
            if (arguments.length === 1) {
                do {
                    if (index in this) {
                        basis = this[index++];
                        break;
                    }
                    if (++index >= length) {
                        throw new TypeError();
                    }
                } while (1);
            }
            for (; index < length; index++) {
                if (index in this) {
                    basis = callback(basis, this[index], index);
                }
            }
            return basis;
        });
    var array_indexOf = uncurryThis(Array.prototype.indexOf || function (value) {
            for (var i = 0; i < this.length; i++) {
                if (this[i] === value) {
                    return i;
                }
            }
            return -1;
        });
    var array_map = uncurryThis(Array.prototype.map || function (callback, thisp) {
            var self = this;
            var collect = [];
            array_reduce(self, function (undefined, value, index) {
                collect.push(callback.call(thisp, value, index, self));
            }, void 0);
            return collect;
        });
    var object_create = Object.create || function (prototype) {
            function Type() {
            }
            Type.prototype = prototype;
            return new Type();
        };
    var object_hasOwnProperty = uncurryThis(Object.prototype.hasOwnProperty);
    var object_keys = Object.keys || function (object) {
            var keys = [];
            for (var key in object) {
                if (object_hasOwnProperty(object, key)) {
                    keys.push(key);
                }
            }
            return keys;
        };
    var object_toString = uncurryThis(Object.prototype.toString);
    function isObject(value) {
        return value === Object(value);
    }
    function isStopIteration(exception) {
        return object_toString(exception) === '[object StopIteration]' || exception instanceof QReturnValue;
    }
    var QReturnValue;
    if (typeof ReturnValue !== 'undefined') {
        QReturnValue = ReturnValue;
    } else {
        QReturnValue = function (value) {
            this.value = value;
        };
    }
    var hasES6Generators;
    try {
        new Function('(function* (){ yield 1; })');
        hasES6Generators = true;
    } catch (e) {
        hasES6Generators = false;
    }
    var STACK_JUMP_SEPARATOR = 'From previous event:';
    function makeStackTraceLong(error, promise) {
        if (hasStacks && promise.stack && typeof error === 'object' && error !== null && error.stack && error.stack.indexOf(STACK_JUMP_SEPARATOR) === -1) {
            var stacks = [];
            for (var p = promise; !!p; p = p.source) {
                if (p.stack) {
                    stacks.unshift(p.stack);
                }
            }
            stacks.unshift(error.stack);
            var concatedStacks = stacks.join('\n' + STACK_JUMP_SEPARATOR + '\n');
            error.stack = filterStackString(concatedStacks);
        }
    }
    function filterStackString(stackString) {
        var lines = stackString.split('\n');
        var desiredLines = [];
        for (var i = 0; i < lines.length; ++i) {
            var line = lines[i];
            if (!isInternalFrame(line) && !isNodeFrame(line) && line) {
                desiredLines.push(line);
            }
        }
        return desiredLines.join('\n');
    }
    function isNodeFrame(stackLine) {
        return stackLine.indexOf('(module.js:') !== -1 || stackLine.indexOf('(node.js:') !== -1;
    }
    function getFileNameAndLineNumber(stackLine) {
        var attempt1 = /at .+ \((.+):(\d+):(?:\d+)\)$/.exec(stackLine);
        if (attempt1) {
            return [
                attempt1[1],
                Number(attempt1[2])
            ];
        }
        var attempt2 = /at ([^ ]+):(\d+):(?:\d+)$/.exec(stackLine);
        if (attempt2) {
            return [
                attempt2[1],
                Number(attempt2[2])
            ];
        }
        var attempt3 = /.*@(.+):(\d+)$/.exec(stackLine);
        if (attempt3) {
            return [
                attempt3[1],
                Number(attempt3[2])
            ];
        }
    }
    function isInternalFrame(stackLine) {
        var fileNameAndLineNumber = getFileNameAndLineNumber(stackLine);
        if (!fileNameAndLineNumber) {
            return false;
        }
        var fileName = fileNameAndLineNumber[0];
        var lineNumber = fileNameAndLineNumber[1];
        return fileName === qFileName && lineNumber >= qStartingLine && lineNumber <= qEndingLine;
    }
    function captureLine() {
        if (!hasStacks) {
            return;
        }
        try {
            throw new Error();
        } catch (e) {
            var lines = e.stack.split('\n');
            var firstLine = lines[0].indexOf('@') > 0 ? lines[1] : lines[2];
            var fileNameAndLineNumber = getFileNameAndLineNumber(firstLine);
            if (!fileNameAndLineNumber) {
                return;
            }
            qFileName = fileNameAndLineNumber[0];
            return fileNameAndLineNumber[1];
        }
    }
    function deprecate(callback, name, alternative) {
        return function () {
            if (typeof console !== 'undefined' && typeof console.warn === 'function') {
                console.warn(name + ' is deprecated, use ' + alternative + ' instead.', new Error('').stack);
            }
            return callback.apply(callback, arguments);
        };
    }
    function Q(value) {
        if (isPromise(value)) {
            return value;
        }
        if (isPromiseAlike(value)) {
            return coerce(value);
        } else {
            return fulfill(value);
        }
    }
    Q.resolve = Q;
    Q.nextTick = nextTick;
    Q.longStackSupport = false;
    Q.defer = defer;
    function defer() {
        var messages = [], progressListeners = [], resolvedPromise;
        var deferred = object_create(defer.prototype);
        var promise = object_create(Promise.prototype);
        promise.promiseDispatch = function (resolve, op, operands) {
            var args = array_slice(arguments);
            if (messages) {
                messages.push(args);
                if (op === 'when' && operands[1]) {
                    progressListeners.push(operands[1]);
                }
            } else {
                nextTick(function () {
                    resolvedPromise.promiseDispatch.apply(resolvedPromise, args);
                });
            }
        };
        promise.valueOf = function () {
            if (messages) {
                return promise;
            }
            var nearerValue = nearer(resolvedPromise);
            if (isPromise(nearerValue)) {
                resolvedPromise = nearerValue;
            }
            return nearerValue;
        };
        promise.inspect = function () {
            if (!resolvedPromise) {
                return { state: 'pending' };
            }
            return resolvedPromise.inspect();
        };
        if (Q.longStackSupport && hasStacks) {
            try {
                throw new Error();
            } catch (e) {
                promise.stack = e.stack.substring(e.stack.indexOf('\n') + 1);
            }
        }
        function become(newPromise) {
            resolvedPromise = newPromise;
            promise.source = newPromise;
            array_reduce(messages, function (undefined, message) {
                nextTick(function () {
                    newPromise.promiseDispatch.apply(newPromise, message);
                });
            }, void 0);
            messages = void 0;
            progressListeners = void 0;
        }
        deferred.promise = promise;
        deferred.resolve = function (value) {
            if (resolvedPromise) {
                return;
            }
            become(Q(value));
        };
        deferred.fulfill = function (value) {
            if (resolvedPromise) {
                return;
            }
            become(fulfill(value));
        };
        deferred.reject = function (reason) {
            if (resolvedPromise) {
                return;
            }
            become(reject(reason));
        };
        deferred.notify = function (progress) {
            if (resolvedPromise) {
                return;
            }
            array_reduce(progressListeners, function (undefined, progressListener) {
                nextTick(function () {
                    progressListener(progress);
                });
            }, void 0);
        };
        return deferred;
    }
    defer.prototype.makeNodeResolver = function () {
        var self = this;
        return function (error, value) {
            if (error) {
                self.reject(error);
            } else if (arguments.length > 2) {
                self.resolve(array_slice(arguments, 1));
            } else {
                self.resolve(value);
            }
        };
    };
    Q.promise = promise;
    function promise(resolver) {
        if (typeof resolver !== 'function') {
            throw new TypeError('resolver must be a function.');
        }
        var deferred = defer();
        try {
            resolver(deferred.resolve, deferred.reject, deferred.notify);
        } catch (reason) {
            deferred.reject(reason);
        }
        return deferred.promise;
    }
    Q.passByCopy = function (object) {
        return object;
    };
    Promise.prototype.passByCopy = function () {
        return this;
    };
    Q.join = function (x, y) {
        return Q(x).join(y);
    };
    Promise.prototype.join = function (that) {
        return Q([
            this,
            that
        ]).spread(function (x, y) {
            if (x === y) {
                return x;
            } else {
                throw new Error('Can\'t join: not the same: ' + x + ' ' + y);
            }
        });
    };
    Q.race = race;
    function race(answerPs) {
        return promise(function (resolve, reject) {
            for (var i = 0, len = answerPs.length; i < len; i++) {
                Q(answerPs[i]).then(resolve, reject);
            }
        });
    }
    Promise.prototype.race = function () {
        return this.then(Q.race);
    };
    Q.makePromise = Promise;
    function Promise(descriptor, fallback, inspect) {
        if (fallback === void 0) {
            fallback = function (op) {
                return reject(new Error('Promise does not support operation: ' + op));
            };
        }
        if (inspect === void 0) {
            inspect = function () {
                return { state: 'unknown' };
            };
        }
        var promise = object_create(Promise.prototype);
        promise.promiseDispatch = function (resolve, op, args) {
            var result;
            try {
                if (descriptor[op]) {
                    result = descriptor[op].apply(promise, args);
                } else {
                    result = fallback.call(promise, op, args);
                }
            } catch (exception) {
                result = reject(exception);
            }
            if (resolve) {
                resolve(result);
            }
        };
        promise.inspect = inspect;
        if (inspect) {
            var inspected = inspect();
            if (inspected.state === 'rejected') {
                promise.exception = inspected.reason;
            }
            promise.valueOf = function () {
                var inspected = inspect();
                if (inspected.state === 'pending' || inspected.state === 'rejected') {
                    return promise;
                }
                return inspected.value;
            };
        }
        return promise;
    }
    Promise.prototype.toString = function () {
        return '[object Promise]';
    };
    Promise.prototype.then = function (fulfilled, rejected, progressed) {
        var self = this;
        var deferred = defer();
        var done = false;
        function _fulfilled(value) {
            try {
                return typeof fulfilled === 'function' ? fulfilled(value) : value;
            } catch (exception) {
                return reject(exception);
            }
        }
        function _rejected(exception) {
            if (typeof rejected === 'function') {
                makeStackTraceLong(exception, self);
                try {
                    return rejected(exception);
                } catch (newException) {
                    return reject(newException);
                }
            }
            return reject(exception);
        }
        function _progressed(value) {
            return typeof progressed === 'function' ? progressed(value) : value;
        }
        nextTick(function () {
            self.promiseDispatch(function (value) {
                if (done) {
                    return;
                }
                done = true;
                deferred.resolve(_fulfilled(value));
            }, 'when', [function (exception) {
                    if (done) {
                        return;
                    }
                    done = true;
                    deferred.resolve(_rejected(exception));
                }]);
        });
        self.promiseDispatch(void 0, 'when', [
            void 0,
            function (value) {
                var newValue;
                var threw = false;
                try {
                    newValue = _progressed(value);
                } catch (e) {
                    threw = true;
                    if (Q.onerror) {
                        Q.onerror(e);
                    } else {
                        throw e;
                    }
                }
                if (!threw) {
                    deferred.notify(newValue);
                }
            }
        ]);
        return deferred.promise;
    };
    Q.when = when;
    function when(value, fulfilled, rejected, progressed) {
        return Q(value).then(fulfilled, rejected, progressed);
    }
    Promise.prototype.thenResolve = function (value) {
        return this.then(function () {
            return value;
        });
    };
    Q.thenResolve = function (promise, value) {
        return Q(promise).thenResolve(value);
    };
    Promise.prototype.thenReject = function (reason) {
        return this.then(function () {
            throw reason;
        });
    };
    Q.thenReject = function (promise, reason) {
        return Q(promise).thenReject(reason);
    };
    Q.nearer = nearer;
    function nearer(value) {
        if (isPromise(value)) {
            var inspected = value.inspect();
            if (inspected.state === 'fulfilled') {
                return inspected.value;
            }
        }
        return value;
    }
    Q.isPromise = isPromise;
    function isPromise(object) {
        return isObject(object) && typeof object.promiseDispatch === 'function' && typeof object.inspect === 'function';
    }
    Q.isPromiseAlike = isPromiseAlike;
    function isPromiseAlike(object) {
        return isObject(object) && typeof object.then === 'function';
    }
    Q.isPending = isPending;
    function isPending(object) {
        return isPromise(object) && object.inspect().state === 'pending';
    }
    Promise.prototype.isPending = function () {
        return this.inspect().state === 'pending';
    };
    Q.isFulfilled = isFulfilled;
    function isFulfilled(object) {
        return !isPromise(object) || object.inspect().state === 'fulfilled';
    }
    Promise.prototype.isFulfilled = function () {
        return this.inspect().state === 'fulfilled';
    };
    Q.isRejected = isRejected;
    function isRejected(object) {
        return isPromise(object) && object.inspect().state === 'rejected';
    }
    Promise.prototype.isRejected = function () {
        return this.inspect().state === 'rejected';
    };
    var unhandledReasons = [];
    var unhandledRejections = [];
    var unhandledReasonsDisplayed = false;
    var trackUnhandledRejections = true;
    function displayUnhandledReasons() {
        if (!unhandledReasonsDisplayed && typeof window !== 'undefined' && window.console) {
            console.warn('[Q] Unhandled rejection reasons (should be empty):', unhandledReasons);
        }
        unhandledReasonsDisplayed = true;
    }
    function logUnhandledReasons() {
        for (var i = 0; i < unhandledReasons.length; i++) {
            var reason = unhandledReasons[i];
            console.warn('Unhandled rejection reason:', reason);
        }
    }
    function resetUnhandledRejections() {
        unhandledReasons.length = 0;
        unhandledRejections.length = 0;
        unhandledReasonsDisplayed = false;
        if (!trackUnhandledRejections) {
            trackUnhandledRejections = true;
            if (typeof process !== 'undefined' && process.on) {
                process.on('exit', logUnhandledReasons);
            }
        }
    }
    function trackRejection(promise, reason) {
        if (!trackUnhandledRejections) {
            return;
        }
        unhandledRejections.push(promise);
        if (reason && typeof reason.stack !== 'undefined') {
            unhandledReasons.push(reason.stack);
        } else {
            unhandledReasons.push('(no stack) ' + reason);
        }
        displayUnhandledReasons();
    }
    function untrackRejection(promise) {
        if (!trackUnhandledRejections) {
            return;
        }
        var at = array_indexOf(unhandledRejections, promise);
        if (at !== -1) {
            unhandledRejections.splice(at, 1);
            unhandledReasons.splice(at, 1);
        }
    }
    Q.resetUnhandledRejections = resetUnhandledRejections;
    Q.getUnhandledReasons = function () {
        return unhandledReasons.slice();
    };
    Q.stopUnhandledRejectionTracking = function () {
        resetUnhandledRejections();
        if (typeof process !== 'undefined' && process.on) {
            process.removeListener('exit', logUnhandledReasons);
        }
        trackUnhandledRejections = false;
    };
    resetUnhandledRejections();
    Q.reject = reject;
    function reject(reason) {
        var rejection = Promise({
                'when': function (rejected) {
                    if (rejected) {
                        untrackRejection(this);
                    }
                    return rejected ? rejected(reason) : this;
                }
            }, function fallback() {
                return this;
            }, function inspect() {
                return {
                    state: 'rejected',
                    reason: reason
                };
            });
        trackRejection(rejection, reason);
        return rejection;
    }
    Q.fulfill = fulfill;
    function fulfill(value) {
        return Promise({
            'when': function () {
                return value;
            },
            'get': function (name) {
                return value[name];
            },
            'set': function (name, rhs) {
                value[name] = rhs;
            },
            'delete': function (name) {
                delete value[name];
            },
            'post': function (name, args) {
                if (name === null || name === void 0) {
                    return value.apply(void 0, args);
                } else {
                    return value[name].apply(value, args);
                }
            },
            'apply': function (thisp, args) {
                return value.apply(thisp, args);
            },
            'keys': function () {
                return object_keys(value);
            }
        }, void 0, function inspect() {
            return {
                state: 'fulfilled',
                value: value
            };
        });
    }
    function coerce(promise) {
        var deferred = defer();
        nextTick(function () {
            try {
                promise.then(deferred.resolve, deferred.reject, deferred.notify);
            } catch (exception) {
                deferred.reject(exception);
            }
        });
        return deferred.promise;
    }
    Q.master = master;
    function master(object) {
        return Promise({
            'isDef': function () {
            }
        }, function fallback(op, args) {
            return dispatch(object, op, args);
        }, function () {
            return Q(object).inspect();
        });
    }
    Q.spread = spread;
    function spread(value, fulfilled, rejected) {
        return Q(value).spread(fulfilled, rejected);
    }
    Promise.prototype.spread = function (fulfilled, rejected) {
        return this.all().then(function (array) {
            return fulfilled.apply(void 0, array);
        }, rejected);
    };
    Q.async = async;
    function async(makeGenerator) {
        return function () {
            function continuer(verb, arg) {
                var result;
                if (hasES6Generators) {
                    try {
                        result = generator[verb](arg);
                    } catch (exception) {
                        return reject(exception);
                    }
                    if (result.done) {
                        return result.value;
                    } else {
                        return when(result.value, callback, errback);
                    }
                } else {
                    try {
                        result = generator[verb](arg);
                    } catch (exception) {
                        if (isStopIteration(exception)) {
                            return exception.value;
                        } else {
                            return reject(exception);
                        }
                    }
                    return when(result, callback, errback);
                }
            }
            var generator = makeGenerator.apply(this, arguments);
            var callback = continuer.bind(continuer, 'next');
            var errback = continuer.bind(continuer, 'throw');
            return callback();
        };
    }
    Q.spawn = spawn;
    function spawn(makeGenerator) {
        Q.done(Q.async(makeGenerator)());
    }
    Q['return'] = _return;
    function _return(value) {
        throw new QReturnValue(value);
    }
    Q.promised = promised;
    function promised(callback) {
        return function () {
            return spread([
                this,
                all(arguments)
            ], function (self, args) {
                return callback.apply(self, args);
            });
        };
    }
    Q.dispatch = dispatch;
    function dispatch(object, op, args) {
        return Q(object).dispatch(op, args);
    }
    Promise.prototype.dispatch = function (op, args) {
        var self = this;
        var deferred = defer();
        nextTick(function () {
            self.promiseDispatch(deferred.resolve, op, args);
        });
        return deferred.promise;
    };
    Q.get = function (object, key) {
        return Q(object).dispatch('get', [key]);
    };
    Promise.prototype.get = function (key) {
        return this.dispatch('get', [key]);
    };
    Q.set = function (object, key, value) {
        return Q(object).dispatch('set', [
            key,
            value
        ]);
    };
    Promise.prototype.set = function (key, value) {
        return this.dispatch('set', [
            key,
            value
        ]);
    };
    Q.del = Q['delete'] = function (object, key) {
        return Q(object).dispatch('delete', [key]);
    };
    Promise.prototype.del = Promise.prototype['delete'] = function (key) {
        return this.dispatch('delete', [key]);
    };
    Q.mapply = Q.post = function (object, name, args) {
        return Q(object).dispatch('post', [
            name,
            args
        ]);
    };
    Promise.prototype.mapply = Promise.prototype.post = function (name, args) {
        return this.dispatch('post', [
            name,
            args
        ]);
    };
    Q.send = Q.mcall = Q.invoke = function (object, name) {
        return Q(object).dispatch('post', [
            name,
            array_slice(arguments, 2)
        ]);
    };
    Promise.prototype.send = Promise.prototype.mcall = Promise.prototype.invoke = function (name) {
        return this.dispatch('post', [
            name,
            array_slice(arguments, 1)
        ]);
    };
    Q.fapply = function (object, args) {
        return Q(object).dispatch('apply', [
            void 0,
            args
        ]);
    };
    Promise.prototype.fapply = function (args) {
        return this.dispatch('apply', [
            void 0,
            args
        ]);
    };
    Q['try'] = Q.fcall = function (object) {
        return Q(object).dispatch('apply', [
            void 0,
            array_slice(arguments, 1)
        ]);
    };
    Promise.prototype.fcall = function () {
        return this.dispatch('apply', [
            void 0,
            array_slice(arguments)
        ]);
    };
    Q.fbind = function (object) {
        var promise = Q(object);
        var args = array_slice(arguments, 1);
        return function fbound() {
            return promise.dispatch('apply', [
                this,
                args.concat(array_slice(arguments))
            ]);
        };
    };
    Promise.prototype.fbind = function () {
        var promise = this;
        var args = array_slice(arguments);
        return function fbound() {
            return promise.dispatch('apply', [
                this,
                args.concat(array_slice(arguments))
            ]);
        };
    };
    Q.keys = function (object) {
        return Q(object).dispatch('keys', []);
    };
    Promise.prototype.keys = function () {
        return this.dispatch('keys', []);
    };
    Q.all = all;
    function all(promises) {
        return when(promises, function (promises) {
            var countDown = 0;
            var deferred = defer();
            array_reduce(promises, function (undefined, promise, index) {
                var snapshot;
                if (isPromise(promise) && (snapshot = promise.inspect()).state === 'fulfilled') {
                    promises[index] = snapshot.value;
                } else {
                    ++countDown;
                    when(promise, function (value) {
                        promises[index] = value;
                        if (--countDown === 0) {
                            deferred.resolve(promises);
                        }
                    }, deferred.reject, function (progress) {
                        deferred.notify({
                            index: index,
                            value: progress
                        });
                    });
                }
            }, void 0);
            if (countDown === 0) {
                deferred.resolve(promises);
            }
            return deferred.promise;
        });
    }
    Promise.prototype.all = function () {
        return all(this);
    };
    Q.allResolved = deprecate(allResolved, 'allResolved', 'allSettled');
    function allResolved(promises) {
        return when(promises, function (promises) {
            promises = array_map(promises, Q);
            return when(all(array_map(promises, function (promise) {
                return when(promise, noop, noop);
            })), function () {
                return promises;
            });
        });
    }
    Promise.prototype.allResolved = function () {
        return allResolved(this);
    };
    Q.allSettled = allSettled;
    function allSettled(promises) {
        return Q(promises).allSettled();
    }
    Promise.prototype.allSettled = function () {
        return this.then(function (promises) {
            return all(array_map(promises, function (promise) {
                promise = Q(promise);
                function regardless() {
                    return promise.inspect();
                }
                return promise.then(regardless, regardless);
            }));
        });
    };
    Q.fail = Q['catch'] = function (object, rejected) {
        return Q(object).then(void 0, rejected);
    };
    Promise.prototype.fail = Promise.prototype['catch'] = function (rejected) {
        return this.then(void 0, rejected);
    };
    Q.progress = progress;
    function progress(object, progressed) {
        return Q(object).then(void 0, void 0, progressed);
    }
    Promise.prototype.progress = function (progressed) {
        return this.then(void 0, void 0, progressed);
    };
    Q.fin = Q['finally'] = function (object, callback) {
        return Q(object)['finally'](callback);
    };
    Promise.prototype.fin = Promise.prototype['finally'] = function (callback) {
        callback = Q(callback);
        return this.then(function (value) {
            return callback.fcall().then(function () {
                return value;
            });
        }, function (reason) {
            return callback.fcall().then(function () {
                throw reason;
            });
        });
    };
    Q.done = function (object, fulfilled, rejected, progress) {
        return Q(object).done(fulfilled, rejected, progress);
    };
    Promise.prototype.done = function (fulfilled, rejected, progress) {
        var onUnhandledError = function (error) {
            nextTick(function () {
                makeStackTraceLong(error, promise);
                if (Q.onerror) {
                    Q.onerror(error);
                } else {
                    throw error;
                }
            });
        };
        var promise = fulfilled || rejected || progress ? this.then(fulfilled, rejected, progress) : this;
        if (typeof process === 'object' && process && process.domain) {
            onUnhandledError = process.domain.bind(onUnhandledError);
        }
        promise.then(void 0, onUnhandledError);
    };
    Q.timeout = function (object, ms, message) {
        return Q(object).timeout(ms, message);
    };
    Promise.prototype.timeout = function (ms, message) {
        var deferred = defer();
        var timeoutId = setTimeout(function () {
                deferred.reject(new Error(message || 'Timed out after ' + ms + ' ms'));
            }, ms);
        this.then(function (value) {
            clearTimeout(timeoutId);
            deferred.resolve(value);
        }, function (exception) {
            clearTimeout(timeoutId);
            deferred.reject(exception);
        }, deferred.notify);
        return deferred.promise;
    };
    Q.delay = function (object, timeout) {
        if (timeout === void 0) {
            timeout = object;
            object = void 0;
        }
        return Q(object).delay(timeout);
    };
    Promise.prototype.delay = function (timeout) {
        return this.then(function (value) {
            var deferred = defer();
            setTimeout(function () {
                deferred.resolve(value);
            }, timeout);
            return deferred.promise;
        });
    };
    Q.nfapply = function (callback, args) {
        return Q(callback).nfapply(args);
    };
    Promise.prototype.nfapply = function (args) {
        var deferred = defer();
        var nodeArgs = array_slice(args);
        nodeArgs.push(deferred.makeNodeResolver());
        this.fapply(nodeArgs).fail(deferred.reject);
        return deferred.promise;
    };
    Q.nfcall = function (callback) {
        var args = array_slice(arguments, 1);
        return Q(callback).nfapply(args);
    };
    Promise.prototype.nfcall = function () {
        var nodeArgs = array_slice(arguments);
        var deferred = defer();
        nodeArgs.push(deferred.makeNodeResolver());
        this.fapply(nodeArgs).fail(deferred.reject);
        return deferred.promise;
    };
    Q.nfbind = Q.denodeify = function (callback) {
        var baseArgs = array_slice(arguments, 1);
        return function () {
            var nodeArgs = baseArgs.concat(array_slice(arguments));
            var deferred = defer();
            nodeArgs.push(deferred.makeNodeResolver());
            Q(callback).fapply(nodeArgs).fail(deferred.reject);
            return deferred.promise;
        };
    };
    Promise.prototype.nfbind = Promise.prototype.denodeify = function () {
        var args = array_slice(arguments);
        args.unshift(this);
        return Q.denodeify.apply(void 0, args);
    };
    Q.nbind = function (callback, thisp) {
        var baseArgs = array_slice(arguments, 2);
        return function () {
            var nodeArgs = baseArgs.concat(array_slice(arguments));
            var deferred = defer();
            nodeArgs.push(deferred.makeNodeResolver());
            function bound() {
                return callback.apply(thisp, arguments);
            }
            Q(bound).fapply(nodeArgs).fail(deferred.reject);
            return deferred.promise;
        };
    };
    Promise.prototype.nbind = function () {
        var args = array_slice(arguments, 0);
        args.unshift(this);
        return Q.nbind.apply(void 0, args);
    };
    Q.nmapply = Q.npost = function (object, name, args) {
        return Q(object).npost(name, args);
    };
    Promise.prototype.nmapply = Promise.prototype.npost = function (name, args) {
        var nodeArgs = array_slice(args || []);
        var deferred = defer();
        nodeArgs.push(deferred.makeNodeResolver());
        this.dispatch('post', [
            name,
            nodeArgs
        ]).fail(deferred.reject);
        return deferred.promise;
    };
    Q.nsend = Q.nmcall = Q.ninvoke = function (object, name) {
        var nodeArgs = array_slice(arguments, 2);
        var deferred = defer();
        nodeArgs.push(deferred.makeNodeResolver());
        Q(object).dispatch('post', [
            name,
            nodeArgs
        ]).fail(deferred.reject);
        return deferred.promise;
    };
    Promise.prototype.nsend = Promise.prototype.nmcall = Promise.prototype.ninvoke = function (name) {
        var nodeArgs = array_slice(arguments, 1);
        var deferred = defer();
        nodeArgs.push(deferred.makeNodeResolver());
        this.dispatch('post', [
            name,
            nodeArgs
        ]).fail(deferred.reject);
        return deferred.promise;
    };
    Q.nodeify = nodeify;
    function nodeify(object, nodeback) {
        return Q(object).nodeify(nodeback);
    }
    Promise.prototype.nodeify = function (nodeback) {
        if (nodeback) {
            this.then(function (value) {
                nextTick(function () {
                    nodeback(null, value);
                });
            }, function (error) {
                nextTick(function () {
                    nodeback(error);
                });
            });
        } else {
            return this;
        }
    };
    var qEndingLine = captureLine();
    return Q;
}));
});
require.define('11', function(module, exports, __dirname, __filename, undefined){
(function (name, context, factory) {
    if (typeof module !== 'undefined' && module.exports) {
        module.exports = factory();
    } else if (typeof context.define === 'function' && context.define.amd) {
        define(name, [], factory);
    } else {
        context[name] = factory();
    }
}('buzz', this, function () {
    var buzz = {
            defaults: {
                autoplay: false,
                duration: 5000,
                formats: [],
                loop: false,
                placeholder: '--',
                preload: 'metadata',
                volume: 80,
                document: document
            },
            types: {
                mp3: 'audio/mpeg',
                ogg: 'audio/ogg',
                wav: 'audio/wav',
                aac: 'audio/aac',
                m4a: 'audio/x-m4a'
            },
            sounds: [],
            el: document.createElement('audio'),
            sound: function (src, options) {
                options = options || {};
                var doc = options.document || buzz.defaults.document;
                var pid = 0, events = [], eventsOnce = {}, supported = buzz.isSupported();
                this.load = function () {
                    if (!supported) {
                        return this;
                    }
                    this.sound.load();
                    return this;
                };
                this.play = function () {
                    if (!supported) {
                        return this;
                    }
                    this.sound.play();
                    return this;
                };
                this.togglePlay = function () {
                    if (!supported) {
                        return this;
                    }
                    if (this.sound.paused) {
                        this.sound.play();
                    } else {
                        this.sound.pause();
                    }
                    return this;
                };
                this.pause = function () {
                    if (!supported) {
                        return this;
                    }
                    this.sound.pause();
                    return this;
                };
                this.isPaused = function () {
                    if (!supported) {
                        return null;
                    }
                    return this.sound.paused;
                };
                this.stop = function () {
                    if (!supported) {
                        return this;
                    }
                    this.setTime(0);
                    this.sound.pause();
                    return this;
                };
                this.isEnded = function () {
                    if (!supported) {
                        return null;
                    }
                    return this.sound.ended;
                };
                this.loop = function () {
                    if (!supported) {
                        return this;
                    }
                    this.sound.loop = 'loop';
                    this.bind('ended.buzzloop', function () {
                        this.currentTime = 0;
                        this.play();
                    });
                    return this;
                };
                this.unloop = function () {
                    if (!supported) {
                        return this;
                    }
                    this.sound.removeAttribute('loop');
                    this.unbind('ended.buzzloop');
                    return this;
                };
                this.mute = function () {
                    if (!supported) {
                        return this;
                    }
                    this.sound.muted = true;
                    return this;
                };
                this.unmute = function () {
                    if (!supported) {
                        return this;
                    }
                    this.sound.muted = false;
                    return this;
                };
                this.toggleMute = function () {
                    if (!supported) {
                        return this;
                    }
                    this.sound.muted = !this.sound.muted;
                    return this;
                };
                this.isMuted = function () {
                    if (!supported) {
                        return null;
                    }
                    return this.sound.muted;
                };
                this.setVolume = function (volume) {
                    if (!supported) {
                        return this;
                    }
                    if (volume < 0) {
                        volume = 0;
                    }
                    if (volume > 100) {
                        volume = 100;
                    }
                    this.volume = volume;
                    this.sound.volume = volume / 100;
                    return this;
                };
                this.getVolume = function () {
                    if (!supported) {
                        return this;
                    }
                    return this.volume;
                };
                this.increaseVolume = function (value) {
                    return this.setVolume(this.volume + (value || 1));
                };
                this.decreaseVolume = function (value) {
                    return this.setVolume(this.volume - (value || 1));
                };
                this.setTime = function (time) {
                    if (!supported) {
                        return this;
                    }
                    var set = true;
                    this.whenReady(function () {
                        if (set === true) {
                            set = false;
                            this.sound.currentTime = time;
                        }
                    });
                    return this;
                };
                this.getTime = function () {
                    if (!supported) {
                        return null;
                    }
                    var time = Math.round(this.sound.currentTime * 100) / 100;
                    return isNaN(time) ? buzz.defaults.placeholder : time;
                };
                this.setPercent = function (percent) {
                    if (!supported) {
                        return this;
                    }
                    return this.setTime(buzz.fromPercent(percent, this.sound.duration));
                };
                this.getPercent = function () {
                    if (!supported) {
                        return null;
                    }
                    var percent = Math.round(buzz.toPercent(this.sound.currentTime, this.sound.duration));
                    return isNaN(percent) ? buzz.defaults.placeholder : percent;
                };
                this.setSpeed = function (duration) {
                    if (!supported) {
                        return this;
                    }
                    this.sound.playbackRate = duration;
                    return this;
                };
                this.getSpeed = function () {
                    if (!supported) {
                        return null;
                    }
                    return this.sound.playbackRate;
                };
                this.getDuration = function () {
                    if (!supported) {
                        return null;
                    }
                    var duration = Math.round(this.sound.duration * 100) / 100;
                    return isNaN(duration) ? buzz.defaults.placeholder : duration;
                };
                this.getPlayed = function () {
                    if (!supported) {
                        return null;
                    }
                    return timerangeToArray(this.sound.played);
                };
                this.getBuffered = function () {
                    if (!supported) {
                        return null;
                    }
                    return timerangeToArray(this.sound.buffered);
                };
                this.getSeekable = function () {
                    if (!supported) {
                        return null;
                    }
                    return timerangeToArray(this.sound.seekable);
                };
                this.getErrorCode = function () {
                    if (supported && this.sound.error) {
                        return this.sound.error.code;
                    }
                    return 0;
                };
                this.getErrorMessage = function () {
                    if (!supported) {
                        return null;
                    }
                    switch (this.getErrorCode()) {
                    case 1:
                        return 'MEDIA_ERR_ABORTED';
                    case 2:
                        return 'MEDIA_ERR_NETWORK';
                    case 3:
                        return 'MEDIA_ERR_DECODE';
                    case 4:
                        return 'MEDIA_ERR_SRC_NOT_SUPPORTED';
                    default:
                        return null;
                    }
                };
                this.getStateCode = function () {
                    if (!supported) {
                        return null;
                    }
                    return this.sound.readyState;
                };
                this.getStateMessage = function () {
                    if (!supported) {
                        return null;
                    }
                    switch (this.getStateCode()) {
                    case 0:
                        return 'HAVE_NOTHING';
                    case 1:
                        return 'HAVE_METADATA';
                    case 2:
                        return 'HAVE_CURRENT_DATA';
                    case 3:
                        return 'HAVE_FUTURE_DATA';
                    case 4:
                        return 'HAVE_ENOUGH_DATA';
                    default:
                        return null;
                    }
                };
                this.getNetworkStateCode = function () {
                    if (!supported) {
                        return null;
                    }
                    return this.sound.networkState;
                };
                this.getNetworkStateMessage = function () {
                    if (!supported) {
                        return null;
                    }
                    switch (this.getNetworkStateCode()) {
                    case 0:
                        return 'NETWORK_EMPTY';
                    case 1:
                        return 'NETWORK_IDLE';
                    case 2:
                        return 'NETWORK_LOADING';
                    case 3:
                        return 'NETWORK_NO_SOURCE';
                    default:
                        return null;
                    }
                };
                this.set = function (key, value) {
                    if (!supported) {
                        return this;
                    }
                    this.sound[key] = value;
                    return this;
                };
                this.get = function (key) {
                    if (!supported) {
                        return null;
                    }
                    return key ? this.sound[key] : this.sound;
                };
                this.bind = function (types, func) {
                    if (!supported) {
                        return this;
                    }
                    types = types.split(' ');
                    var self = this, efunc = function (e) {
                            func.call(self, e);
                        };
                    for (var t = 0; t < types.length; t++) {
                        var type = types[t], idx = type;
                        type = idx.split('.')[0];
                        events.push({
                            idx: idx,
                            func: efunc
                        });
                        this.sound.addEventListener(type, efunc, true);
                    }
                    return this;
                };
                this.unbind = function (types) {
                    if (!supported) {
                        return this;
                    }
                    types = types.split(' ');
                    for (var t = 0; t < types.length; t++) {
                        var idx = types[t], type = idx.split('.')[0];
                        for (var i = 0; i < events.length; i++) {
                            var namespace = events[i].idx.split('.');
                            if (events[i].idx == idx || namespace[1] && namespace[1] == idx.replace('.', '')) {
                                this.sound.removeEventListener(type, events[i].func, true);
                                events.splice(i, 1);
                            }
                        }
                    }
                    return this;
                };
                this.bindOnce = function (type, func) {
                    if (!supported) {
                        return this;
                    }
                    var self = this;
                    eventsOnce[pid++] = false;
                    this.bind(type + '.' + pid, function () {
                        if (!eventsOnce[pid]) {
                            eventsOnce[pid] = true;
                            func.call(self);
                        }
                        self.unbind(type + '.' + pid);
                    });
                    return this;
                };
                this.trigger = function (types) {
                    if (!supported) {
                        return this;
                    }
                    types = types.split(' ');
                    for (var t = 0; t < types.length; t++) {
                        var idx = types[t];
                        for (var i = 0; i < events.length; i++) {
                            var eventType = events[i].idx.split('.');
                            if (events[i].idx == idx || eventType[0] && eventType[0] == idx.replace('.', '')) {
                                var evt = doc.createEvent('HTMLEvents');
                                evt.initEvent(eventType[0], false, true);
                                this.sound.dispatchEvent(evt);
                            }
                        }
                    }
                    return this;
                };
                this.fadeTo = function (to, duration, callback) {
                    if (!supported) {
                        return this;
                    }
                    if (duration instanceof Function) {
                        callback = duration;
                        duration = buzz.defaults.duration;
                    } else {
                        duration = duration || buzz.defaults.duration;
                    }
                    var from = this.volume, delay = duration / Math.abs(from - to), self = this;
                    this.play();
                    function doFade() {
                        setTimeout(function () {
                            if (from < to && self.volume < to) {
                                self.setVolume(self.volume += 1);
                                doFade();
                            } else if (from > to && self.volume > to) {
                                self.setVolume(self.volume -= 1);
                                doFade();
                            } else if (callback instanceof Function) {
                                callback.apply(self);
                            }
                        }, delay);
                    }
                    this.whenReady(function () {
                        doFade();
                    });
                    return this;
                };
                this.fadeIn = function (duration, callback) {
                    if (!supported) {
                        return this;
                    }
                    return this.setVolume(0).fadeTo(100, duration, callback);
                };
                this.fadeOut = function (duration, callback) {
                    if (!supported) {
                        return this;
                    }
                    return this.fadeTo(0, duration, callback);
                };
                this.fadeWith = function (sound, duration) {
                    if (!supported) {
                        return this;
                    }
                    this.fadeOut(duration, function () {
                        this.stop();
                    });
                    sound.play().fadeIn(duration);
                    return this;
                };
                this.whenReady = function (func) {
                    if (!supported) {
                        return null;
                    }
                    var self = this;
                    if (this.sound.readyState === 0) {
                        this.bind('canplay.buzzwhenready', function () {
                            func.call(self);
                        });
                    } else {
                        func.call(self);
                    }
                };
                function timerangeToArray(timeRange) {
                    var array = [], length = timeRange.length - 1;
                    for (var i = 0; i <= length; i++) {
                        array.push({
                            start: timeRange.start(i),
                            end: timeRange.end(i)
                        });
                    }
                    return array;
                }
                function getExt(filename) {
                    return filename.split('.').pop();
                }
                function addSource(sound, src) {
                    var source = doc.createElement('source');
                    source.src = src;
                    if (buzz.types[getExt(src)]) {
                        source.type = buzz.types[getExt(src)];
                    }
                    sound.appendChild(source);
                }
                if (supported && src) {
                    for (var i in buzz.defaults) {
                        if (buzz.defaults.hasOwnProperty(i)) {
                            options[i] = options[i] || buzz.defaults[i];
                        }
                    }
                    this.sound = doc.createElement('audio');
                    if (src instanceof Array) {
                        for (var j in src) {
                            if (src.hasOwnProperty(j)) {
                                addSource(this.sound, src[j]);
                            }
                        }
                    } else if (options.formats.length) {
                        for (var k in options.formats) {
                            if (options.formats.hasOwnProperty(k)) {
                                addSource(this.sound, src + '.' + options.formats[k]);
                            }
                        }
                    } else {
                        addSource(this.sound, src);
                    }
                    if (options.loop) {
                        this.loop();
                    }
                    if (options.autoplay) {
                        this.sound.autoplay = 'autoplay';
                    }
                    if (options.preload === true) {
                        this.sound.preload = 'auto';
                    } else if (options.preload === false) {
                        this.sound.preload = 'none';
                    } else {
                        this.sound.preload = options.preload;
                    }
                    this.setVolume(options.volume);
                    buzz.sounds.push(this);
                }
            },
            group: function (sounds) {
                sounds = argsToArray(sounds, arguments);
                this.getSounds = function () {
                    return sounds;
                };
                this.add = function (soundArray) {
                    soundArray = argsToArray(soundArray, arguments);
                    for (var a = 0; a < soundArray.length; a++) {
                        sounds.push(soundArray[a]);
                    }
                };
                this.remove = function (soundArray) {
                    soundArray = argsToArray(soundArray, arguments);
                    for (var a = 0; a < soundArray.length; a++) {
                        for (var i = 0; i < sounds.length; i++) {
                            if (sounds[i] == soundArray[a]) {
                                sounds.splice(i, 1);
                                break;
                            }
                        }
                    }
                };
                this.load = function () {
                    fn('load');
                    return this;
                };
                this.play = function () {
                    fn('play');
                    return this;
                };
                this.togglePlay = function () {
                    fn('togglePlay');
                    return this;
                };
                this.pause = function (time) {
                    fn('pause', time);
                    return this;
                };
                this.stop = function () {
                    fn('stop');
                    return this;
                };
                this.mute = function () {
                    fn('mute');
                    return this;
                };
                this.unmute = function () {
                    fn('unmute');
                    return this;
                };
                this.toggleMute = function () {
                    fn('toggleMute');
                    return this;
                };
                this.setVolume = function (volume) {
                    fn('setVolume', volume);
                    return this;
                };
                this.increaseVolume = function (value) {
                    fn('increaseVolume', value);
                    return this;
                };
                this.decreaseVolume = function (value) {
                    fn('decreaseVolume', value);
                    return this;
                };
                this.loop = function () {
                    fn('loop');
                    return this;
                };
                this.unloop = function () {
                    fn('unloop');
                    return this;
                };
                this.setTime = function (time) {
                    fn('setTime', time);
                    return this;
                };
                this.set = function (key, value) {
                    fn('set', key, value);
                    return this;
                };
                this.bind = function (type, func) {
                    fn('bind', type, func);
                    return this;
                };
                this.unbind = function (type) {
                    fn('unbind', type);
                    return this;
                };
                this.bindOnce = function (type, func) {
                    fn('bindOnce', type, func);
                    return this;
                };
                this.trigger = function (type) {
                    fn('trigger', type);
                    return this;
                };
                this.fade = function (from, to, duration, callback) {
                    fn('fade', from, to, duration, callback);
                    return this;
                };
                this.fadeIn = function (duration, callback) {
                    fn('fadeIn', duration, callback);
                    return this;
                };
                this.fadeOut = function (duration, callback) {
                    fn('fadeOut', duration, callback);
                    return this;
                };
                function fn() {
                    var args = argsToArray(null, arguments), func = args.shift();
                    for (var i = 0; i < sounds.length; i++) {
                        sounds[i][func].apply(sounds[i], args);
                    }
                }
                function argsToArray(array, args) {
                    return array instanceof Array ? array : Array.prototype.slice.call(args);
                }
            },
            all: function () {
                return new buzz.group(buzz.sounds);
            },
            isSupported: function () {
                return !!buzz.el.canPlayType;
            },
            isOGGSupported: function () {
                return !!buzz.el.canPlayType && buzz.el.canPlayType('audio/ogg; codecs="vorbis"');
            },
            isWAVSupported: function () {
                return !!buzz.el.canPlayType && buzz.el.canPlayType('audio/wav; codecs="1"');
            },
            isMP3Supported: function () {
                return !!buzz.el.canPlayType && buzz.el.canPlayType('audio/mpeg;');
            },
            isAACSupported: function () {
                return !!buzz.el.canPlayType && (buzz.el.canPlayType('audio/x-m4a;') || buzz.el.canPlayType('audio/aac;'));
            },
            toTimer: function (time, withHours) {
                var h, m, s;
                h = Math.floor(time / 3600);
                h = isNaN(h) ? '--' : h >= 10 ? h : '0' + h;
                m = withHours ? Math.floor(time / 60 % 60) : Math.floor(time / 60);
                m = isNaN(m) ? '--' : m >= 10 ? m : '0' + m;
                s = Math.floor(time % 60);
                s = isNaN(s) ? '--' : s >= 10 ? s : '0' + s;
                return withHours ? h + ':' + m + ':' + s : m + ':' + s;
            },
            fromTimer: function (time) {
                var splits = time.toString().split(':');
                if (splits && splits.length == 3) {
                    time = parseInt(splits[0], 10) * 3600 + parseInt(splits[1], 10) * 60 + parseInt(splits[2], 10);
                }
                if (splits && splits.length == 2) {
                    time = parseInt(splits[0], 10) * 60 + parseInt(splits[1], 10);
                }
                return time;
            },
            toPercent: function (value, total, decimal) {
                var r = Math.pow(10, decimal || 0);
                return Math.round(value * 100 / total * r) / r;
            },
            fromPercent: function (percent, total, decimal) {
                var r = Math.pow(10, decimal || 0);
                return Math.round(total / 100 * percent * r) / r;
            }
        };
    return buzz;
}));
});
require.define('27', function(module, exports, __dirname, __filename, undefined){
(function () {
    exports.Kinetic = require('28', module);
}.call(this));
});
require.define('28', function(module, exports, __dirname, __filename, undefined){
var Kinetic = {};
(function () {
    Kinetic = {
        version: '4.7.1',
        stages: [],
        idCounter: 0,
        ids: {},
        names: {},
        shapes: {},
        listenClickTap: false,
        inDblClickWindow: false,
        enableTrace: false,
        traceArrMax: 100,
        dblClickWindow: 400,
        pixelRatio: undefined,
        UA: function () {
            var ua = navigator.userAgent.toLowerCase(), match = /(chrome)[ \/]([\w.]+)/.exec(ua) || /(webkit)[ \/]([\w.]+)/.exec(ua) || /(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua) || /(msie) ([\w.]+)/.exec(ua) || ua.indexOf('compatible') < 0 && /(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua) || [];
            return {
                browser: match[1] || '',
                version: match[2] || '0'
            };
        }(),
        Filters: {},
        Node: function (config) {
            this._init(config);
        },
        Shape: function (config) {
            this.__init(config);
        },
        Container: function (config) {
            this.__init(config);
        },
        Stage: function (config) {
            this.___init(config);
        },
        Layer: function (config) {
            this.___init(config);
        },
        Group: function (config) {
            this.___init(config);
        },
        isDragging: function () {
            var dd = Kinetic.DD;
            if (!dd) {
                return false;
            } else {
                return dd.isDragging;
            }
        },
        isDragReady: function () {
            var dd = Kinetic.DD;
            if (!dd) {
                return false;
            } else {
                return !!dd.node;
            }
        },
        _addId: function (node, id) {
            if (id !== undefined) {
                this.ids[id] = node;
            }
        },
        _removeId: function (id) {
            if (id !== undefined) {
                delete this.ids[id];
            }
        },
        _addName: function (node, name) {
            if (name !== undefined) {
                if (this.names[name] === undefined) {
                    this.names[name] = [];
                }
                this.names[name].push(node);
            }
        },
        _removeName: function (name, _id) {
            if (name !== undefined) {
                var nodes = this.names[name];
                if (nodes !== undefined) {
                    for (var n = 0; n < nodes.length; n++) {
                        var no = nodes[n];
                        if (no._id === _id) {
                            nodes.splice(n, 1);
                        }
                    }
                    if (nodes.length === 0) {
                        delete this.names[name];
                    }
                }
            }
        }
    };
}());
(function (root, factory) {
    if (typeof exports === 'object') {
        module.exports = factory();
    } else if (typeof define === 'function' && define.amd) {
        define(factory);
    } else {
        root.returnExports = factory();
    }
}(this, function () {
    return Kinetic;
}));
;
(function () {
    Kinetic.Collection = function () {
        var args = [].slice.call(arguments), length = args.length, i = 0;
        this.length = length;
        for (; i < length; i++) {
            this[i] = args[i];
        }
        return this;
    };
    Kinetic.Collection.prototype = [];
    Kinetic.Collection.prototype.each = function (func) {
        for (var n = 0; n < this.length; n++) {
            func(this[n], n);
        }
    };
    Kinetic.Collection.prototype.toArray = function () {
        var arr = [], len = this.length, n;
        for (n = 0; n < len; n++) {
            arr.push(this[n]);
        }
        return arr;
    };
    Kinetic.Collection.toCollection = function (arr) {
        var collection = new Kinetic.Collection(), len = arr.length, n;
        for (n = 0; n < len; n++) {
            collection.push(arr[n]);
        }
        return collection;
    };
    Kinetic.Collection.mapMethods = function (arr) {
        var leng = arr.length, n;
        for (n = 0; n < leng; n++) {
            (function (i) {
                var method = arr[i];
                Kinetic.Collection.prototype[method] = function () {
                    var len = this.length, i;
                    args = [].slice.call(arguments);
                    for (i = 0; i < len; i++) {
                        this[i][method].apply(this[i], args);
                    }
                };
            }(n));
        }
    };
    Kinetic.Transform = function () {
        this.m = [
            1,
            0,
            0,
            1,
            0,
            0
        ];
    };
    Kinetic.Transform.prototype = {
        translate: function (x, y) {
            this.m[4] += this.m[0] * x + this.m[2] * y;
            this.m[5] += this.m[1] * x + this.m[3] * y;
        },
        scale: function (sx, sy) {
            this.m[0] *= sx;
            this.m[1] *= sx;
            this.m[2] *= sy;
            this.m[3] *= sy;
        },
        rotate: function (rad) {
            var c = Math.cos(rad);
            var s = Math.sin(rad);
            var m11 = this.m[0] * c + this.m[2] * s;
            var m12 = this.m[1] * c + this.m[3] * s;
            var m21 = this.m[0] * -s + this.m[2] * c;
            var m22 = this.m[1] * -s + this.m[3] * c;
            this.m[0] = m11;
            this.m[1] = m12;
            this.m[2] = m21;
            this.m[3] = m22;
        },
        getTranslation: function () {
            return {
                x: this.m[4],
                y: this.m[5]
            };
        },
        skew: function (sx, sy) {
            var m11 = this.m[0] + this.m[2] * sy;
            var m12 = this.m[1] + this.m[3] * sy;
            var m21 = this.m[2] + this.m[0] * sx;
            var m22 = this.m[3] + this.m[1] * sx;
            this.m[0] = m11;
            this.m[1] = m12;
            this.m[2] = m21;
            this.m[3] = m22;
        },
        multiply: function (matrix) {
            var m11 = this.m[0] * matrix.m[0] + this.m[2] * matrix.m[1];
            var m12 = this.m[1] * matrix.m[0] + this.m[3] * matrix.m[1];
            var m21 = this.m[0] * matrix.m[2] + this.m[2] * matrix.m[3];
            var m22 = this.m[1] * matrix.m[2] + this.m[3] * matrix.m[3];
            var dx = this.m[0] * matrix.m[4] + this.m[2] * matrix.m[5] + this.m[4];
            var dy = this.m[1] * matrix.m[4] + this.m[3] * matrix.m[5] + this.m[5];
            this.m[0] = m11;
            this.m[1] = m12;
            this.m[2] = m21;
            this.m[3] = m22;
            this.m[4] = dx;
            this.m[5] = dy;
        },
        invert: function () {
            var d = 1 / (this.m[0] * this.m[3] - this.m[1] * this.m[2]);
            var m0 = this.m[3] * d;
            var m1 = -this.m[1] * d;
            var m2 = -this.m[2] * d;
            var m3 = this.m[0] * d;
            var m4 = d * (this.m[2] * this.m[5] - this.m[3] * this.m[4]);
            var m5 = d * (this.m[1] * this.m[4] - this.m[0] * this.m[5]);
            this.m[0] = m0;
            this.m[1] = m1;
            this.m[2] = m2;
            this.m[3] = m3;
            this.m[4] = m4;
            this.m[5] = m5;
        },
        getMatrix: function () {
            return this.m;
        },
        setAbsolutePosition: function (x, y) {
            var m0 = this.m[0], m1 = this.m[1], m2 = this.m[2], m3 = this.m[3], m4 = this.m[4], m5 = this.m[5], yt = (m0 * (y - m5) - m1 * (x - m4)) / (m0 * m3 - m1 * m2), xt = (x - m4 - m2 * yt) / m0;
            this.translate(xt, yt);
        }
    };
    var CANVAS = 'canvas', CONTEXT_2D = '2d', OBJECT_ARRAY = '[object Array]', OBJECT_NUMBER = '[object Number]', OBJECT_STRING = '[object String]', PI_OVER_DEG180 = Math.PI / 180, DEG180_OVER_PI = 180 / Math.PI, HASH = '#', EMPTY_STRING = '', ZERO = '0', KINETIC_WARNING = 'Kinetic warning: ', KINETIC_ERROR = 'Kinetic error: ', RGB_PAREN = 'rgb(', COLORS = {
            aqua: [
                0,
                255,
                255
            ],
            lime: [
                0,
                255,
                0
            ],
            silver: [
                192,
                192,
                192
            ],
            black: [
                0,
                0,
                0
            ],
            maroon: [
                128,
                0,
                0
            ],
            teal: [
                0,
                128,
                128
            ],
            blue: [
                0,
                0,
                255
            ],
            navy: [
                0,
                0,
                128
            ],
            white: [
                255,
                255,
                255
            ],
            fuchsia: [
                255,
                0,
                255
            ],
            olive: [
                128,
                128,
                0
            ],
            yellow: [
                255,
                255,
                0
            ],
            orange: [
                255,
                165,
                0
            ],
            gray: [
                128,
                128,
                128
            ],
            purple: [
                128,
                0,
                128
            ],
            green: [
                0,
                128,
                0
            ],
            red: [
                255,
                0,
                0
            ],
            pink: [
                255,
                192,
                203
            ],
            cyan: [
                0,
                255,
                255
            ],
            transparent: [
                255,
                255,
                255,
                0
            ]
        }, RGB_REGEX = /rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;
    Kinetic.Util = {
        _isElement: function (obj) {
            return !!(obj && obj.nodeType == 1);
        },
        _isFunction: function (obj) {
            return !!(obj && obj.constructor && obj.call && obj.apply);
        },
        _isObject: function (obj) {
            return !!obj && obj.constructor == Object;
        },
        _isArray: function (obj) {
            return Object.prototype.toString.call(obj) == OBJECT_ARRAY;
        },
        _isNumber: function (obj) {
            return Object.prototype.toString.call(obj) == OBJECT_NUMBER;
        },
        _isString: function (obj) {
            return Object.prototype.toString.call(obj) == OBJECT_STRING;
        },
        _hasMethods: function (obj) {
            var names = [], key;
            for (key in obj) {
                if (this._isFunction(obj[key])) {
                    names.push(key);
                }
            }
            return names.length > 0;
        },
        _isInDocument: function (el) {
            while (el = el.parentNode) {
                if (el == document) {
                    return true;
                }
            }
            return false;
        },
        _roundArrValues: function (arr) {
            var retArr = [], len = arr.length, _isNumber = Kinetic.Util._isNumber, n, val;
            for (n = 0; n < len; n++) {
                val = arr[n];
                if (_isNumber(val)) {
                    val = Math.round(val * 1000) / 1000;
                }
                retArr.push(val);
            }
            return retArr;
        },
        _getXY: function (arg) {
            if (this._isNumber(arg)) {
                return {
                    x: arg,
                    y: arg
                };
            } else if (this._isArray(arg)) {
                if (arg.length === 1) {
                    var val = arg[0];
                    if (this._isNumber(val)) {
                        return {
                            x: val,
                            y: val
                        };
                    } else if (this._isArray(val)) {
                        return {
                            x: val[0],
                            y: val[1]
                        };
                    } else if (this._isObject(val)) {
                        return val;
                    }
                } else if (arg.length >= 2) {
                    return {
                        x: arg[0],
                        y: arg[1]
                    };
                }
            } else if (this._isObject(arg)) {
                return arg;
            }
            return null;
        },
        _getSize: function (arg) {
            if (this._isNumber(arg)) {
                return {
                    width: arg,
                    height: arg
                };
            } else if (this._isArray(arg)) {
                if (arg.length === 1) {
                    var val = arg[0];
                    if (this._isNumber(val)) {
                        return {
                            width: val,
                            height: val
                        };
                    } else if (this._isArray(val)) {
                        if (val.length >= 4) {
                            return {
                                width: val[2],
                                height: val[3]
                            };
                        } else if (val.length >= 2) {
                            return {
                                width: val[0],
                                height: val[1]
                            };
                        }
                    } else if (this._isObject(val)) {
                        return val;
                    }
                } else if (arg.length >= 4) {
                    return {
                        width: arg[2],
                        height: arg[3]
                    };
                } else if (arg.length >= 2) {
                    return {
                        width: arg[0],
                        height: arg[1]
                    };
                }
            } else if (this._isObject(arg)) {
                return arg;
            }
            return null;
        },
        _getPoints: function (arg) {
            var arr = [], n, len;
            if (arg === undefined) {
                return [];
            }
            len = arg.length;
            if (this._isArray(arg[0])) {
                for (n = 0; n < len; n++) {
                    arr.push({
                        x: arg[n][0],
                        y: arg[n][1]
                    });
                }
                return arr;
            }
            if (this._isObject(arg[0])) {
                return arg;
            } else {
                for (n = 0; n < len; n += 2) {
                    arr.push({
                        x: arg[n],
                        y: arg[n + 1]
                    });
                }
                return arr;
            }
        },
        _getImage: function (arg, callback) {
            var imageObj, canvas, context, dataUrl;
            if (!arg) {
                callback(null);
            } else if (this._isElement(arg)) {
                callback(arg);
            } else if (this._isString(arg)) {
                imageObj = new Image();
                imageObj.onload = function () {
                    callback(imageObj);
                };
                imageObj.src = arg;
            } else if (arg.data) {
                canvas = document.createElement(CANVAS);
                canvas.width = arg.width;
                canvas.height = arg.height;
                _context = canvas.getContext(CONTEXT_2D);
                _context.putImageData(arg, 0, 0);
                dataUrl = canvas.toDataURL();
                imageObj = new Image();
                imageObj.onload = function () {
                    callback(imageObj);
                };
                imageObj.src = dataUrl;
            } else {
                callback(null);
            }
        },
        _rgbToHex: function (r, g, b) {
            return ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);
        },
        _hexToRgb: function (hex) {
            hex = hex.replace(HASH, EMPTY_STRING);
            var bigint = parseInt(hex, 16);
            return {
                r: bigint >> 16 & 255,
                g: bigint >> 8 & 255,
                b: bigint & 255
            };
        },
        getRandomColor: function () {
            var randColor = (Math.random() * 16777215 << 0).toString(16);
            while (randColor.length < 6) {
                randColor = ZERO + randColor;
            }
            return HASH + randColor;
        },
        get: function (val, def) {
            if (val === undefined) {
                return def;
            } else {
                return val;
            }
        },
        getRGB: function (color) {
            var rgb;
            if (color in COLORS) {
                rgb = COLORS[color];
                return {
                    r: rgb[0],
                    g: rgb[1],
                    b: rgb[2]
                };
            } else if (color[0] === HASH) {
                return this._hexToRgb(color.substring(1));
            } else if (color.substr(0, 4) === RGB_PAREN) {
                rgb = RGB_REGEX.exec(color.replace(/ /g, ''));
                return {
                    r: parseInt(rgb[1], 10),
                    g: parseInt(rgb[2], 10),
                    b: parseInt(rgb[3], 10)
                };
            } else {
                return {
                    r: 0,
                    g: 0,
                    b: 0
                };
            }
        },
        _merge: function (o1, o2) {
            var retObj = this._clone(o2);
            for (var key in o1) {
                if (this._isObject(o1[key])) {
                    retObj[key] = this._merge(o1[key], retObj[key]);
                } else {
                    retObj[key] = o1[key];
                }
            }
            return retObj;
        },
        _clone: function (obj) {
            var retObj = {};
            for (var key in obj) {
                if (this._isObject(obj[key])) {
                    retObj[key] = this._clone(obj[key]);
                } else {
                    retObj[key] = obj[key];
                }
            }
            return retObj;
        },
        _degToRad: function (deg) {
            return deg * PI_OVER_DEG180;
        },
        _radToDeg: function (rad) {
            return rad * DEG180_OVER_PI;
        },
        _capitalize: function (str) {
            return str.charAt(0).toUpperCase() + str.slice(1);
        },
        error: function (str) {
            throw new Error(KINETIC_ERROR + str);
        },
        warn: function (str) {
            if (window.console && console.warn) {
                console.warn(KINETIC_WARNING + str);
            }
        },
        extend: function (c1, c2) {
            for (var key in c2.prototype) {
                if (!(key in c1.prototype)) {
                    c1.prototype[key] = c2.prototype[key];
                }
            }
        },
        addMethods: function (constructor, methods) {
            var key;
            for (key in methods) {
                constructor.prototype[key] = methods[key];
            }
        },
        _getControlPoints: function (p0, p1, p2, t) {
            var x0 = p0.x;
            var y0 = p0.y;
            var x1 = p1.x;
            var y1 = p1.y;
            var x2 = p2.x;
            var y2 = p2.y;
            var d01 = Math.sqrt(Math.pow(x1 - x0, 2) + Math.pow(y1 - y0, 2));
            var d12 = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));
            var fa = t * d01 / (d01 + d12);
            var fb = t * d12 / (d01 + d12);
            var p1x = x1 - fa * (x2 - x0);
            var p1y = y1 - fa * (y2 - y0);
            var p2x = x1 + fb * (x2 - x0);
            var p2y = y1 + fb * (y2 - y0);
            return [
                {
                    x: p1x,
                    y: p1y
                },
                {
                    x: p2x,
                    y: p2y
                }
            ];
        },
        _expandPoints: function (points, tension) {
            var length = points.length, allPoints = [], n, cp;
            for (n = 1; n < length - 1; n++) {
                cp = Kinetic.Util._getControlPoints(points[n - 1], points[n], points[n + 1], tension);
                allPoints.push(cp[0]);
                allPoints.push(points[n]);
                allPoints.push(cp[1]);
            }
            return allPoints;
        },
        _removeLastLetter: function (str) {
            return str.substring(0, str.length - 1);
        }
    };
}());
;
(function () {
    var canvas = document.createElement('canvas'), context = canvas.getContext('2d'), devicePixelRatio = window.devicePixelRatio || 1, backingStoreRatio = context.webkitBackingStorePixelRatio || context.mozBackingStorePixelRatio || context.msBackingStorePixelRatio || context.oBackingStorePixelRatio || context.backingStorePixelRatio || 1, _pixelRatio = devicePixelRatio / backingStoreRatio;
    Kinetic.Canvas = function (config) {
        this.init(config);
    };
    Kinetic.Canvas.prototype = {
        init: function (config) {
            config = config || {};
            var pixelRatio = config.pixelRatio || Kinetic.pixelRatio || _pixelRatio;
            this.pixelRatio = pixelRatio;
            this._canvas = document.createElement('canvas');
            this._canvas.style.padding = 0;
            this._canvas.style.margin = 0;
            this._canvas.style.border = 0;
            this._canvas.style.background = 'transparent';
            this._canvas.style.position = 'absolute';
            this._canvas.style.top = 0;
            this._canvas.style.left = 0;
        },
        getContext: function () {
            return this.context;
        },
        getPixelRatio: function () {
            return this.pixelRatio;
        },
        setPixelRatio: function (pixelRatio) {
            this.pixelRatio = pixelRatio;
            this.setSize(this.getWidth(), this.getHeight());
        },
        setWidth: function (width) {
            this.width = this._canvas.width = width * this.pixelRatio;
            this._canvas.style.width = width + 'px';
        },
        setHeight: function (height) {
            this.height = this._canvas.height = height * this.pixelRatio;
            this._canvas.style.height = height + 'px';
        },
        getWidth: function () {
            return this.width;
        },
        getHeight: function () {
            return this.height;
        },
        setSize: function (width, height) {
            this.setWidth(width);
            this.setHeight(height);
        },
        toDataURL: function (mimeType, quality) {
            try {
                return this._canvas.toDataURL(mimeType, quality);
            } catch (e) {
                try {
                    return this._canvas.toDataURL();
                } catch (err) {
                    Kinetic.Util.warn('Unable to get data URL. ' + err.message);
                    return '';
                }
            }
        }
    };
    Kinetic.SceneCanvas = function (config) {
        config = config || {};
        var width = config.width || 0, height = config.height || 0;
        Kinetic.Canvas.call(this, config);
        this.context = new Kinetic.SceneContext(this);
        this.setSize(width, height);
    };
    Kinetic.SceneCanvas.prototype = {
        setWidth: function (width) {
            var pixelRatio = this.pixelRatio, _context = this.getContext()._context;
            Kinetic.Canvas.prototype.setWidth.call(this, width);
            _context.scale(pixelRatio, pixelRatio);
        },
        setHeight: function (height) {
            var pixelRatio = this.pixelRatio, _context = this.getContext()._context;
            Kinetic.Canvas.prototype.setHeight.call(this, height);
            _context.scale(pixelRatio, pixelRatio);
        }
    };
    Kinetic.Util.extend(Kinetic.SceneCanvas, Kinetic.Canvas);
    Kinetic.HitCanvas = function (config) {
        config = config || {};
        var width = config.width || 0, height = config.height || 0;
        Kinetic.Canvas.call(this, config);
        this.context = new Kinetic.HitContext(this);
        this.setSize(width, height);
    };
    Kinetic.Util.extend(Kinetic.HitCanvas, Kinetic.Canvas);
}());
;
(function () {
    var COMMA = ',', OPEN_PAREN = '(', CLOSE_PAREN = ')', OPEN_PAREN_BRACKET = '([', CLOSE_BRACKET_PAREN = '])', SEMICOLON = ';', DOUBLE_PAREN = '()', EMPTY_STRING = '', EQUALS = '=', SET = 'set', CONTEXT_METHODS = [
            'arc',
            'arcTo',
            'beginPath',
            'bezierCurveTo',
            'clearRect',
            'clip',
            'closePath',
            'createLinearGradient',
            'createPattern',
            'createRadialGradient',
            'drawImage',
            'fill',
            'fillText',
            'getImageData',
            'lineTo',
            'moveTo',
            'putImageData',
            'quadraticCurveTo',
            'rect',
            'restore',
            'rotate',
            'save',
            'scale',
            'setLineDash',
            'setTransform',
            'stroke',
            'strokeText',
            'transform',
            'translate'
        ];
    Kinetic.Context = function (canvas) {
        this.init(canvas);
    };
    Kinetic.Context.prototype = {
        init: function (canvas) {
            this.canvas = canvas;
            this._context = canvas._canvas.getContext('2d');
            if (Kinetic.enableTrace) {
                this.traceArr = [];
                this._enableTrace();
            }
        },
        getTrace: function (relaxed) {
            var traceArr = this.traceArr, len = traceArr.length, str = '', n, trace, method, args;
            for (n = 0; n < len; n++) {
                trace = traceArr[n];
                method = trace.method;
                if (method) {
                    args = trace.args;
                    str += method;
                    if (relaxed) {
                        str += DOUBLE_PAREN;
                    } else {
                        if (Kinetic.Util._isArray(args[0])) {
                            str += OPEN_PAREN_BRACKET + args.join(COMMA) + CLOSE_BRACKET_PAREN;
                        } else {
                            str += OPEN_PAREN + args.join(COMMA) + CLOSE_PAREN;
                        }
                    }
                } else {
                    str += trace.property;
                    if (!relaxed) {
                        str += EQUALS + trace.val;
                    }
                }
                str += SEMICOLON;
            }
            return str;
        },
        clearTrace: function () {
            this.traceArr = [];
        },
        _trace: function (str) {
            var traceArr = this.traceArr, len;
            traceArr.push(str);
            len = traceArr.length;
            if (len >= Kinetic.traceArrMax) {
                traceArr.shift();
            }
        },
        reset: function () {
            var pixelRatio = this.getCanvas().getPixelRatio();
            this.setTransform(1 * pixelRatio, 0, 0, 1 * pixelRatio, 0, 0);
        },
        getCanvas: function () {
            return this.canvas;
        },
        clear: function () {
            var args = [].slice.call(arguments), canvas = this.getCanvas(), pos, size;
            if (args.length) {
                pos = Kinetic.Util._getXY(args);
                size = Kinetic.Util._getSize(args);
                this.clearRect(pos.x || 0, pos.y || 0, size.width, size.height);
            } else {
                this.clearRect(0, 0, canvas.getWidth(), canvas.getHeight());
            }
        },
        fillShape: function (shape) {
            if (shape.getFillEnabled()) {
                this._fill(shape);
            }
        },
        strokeShape: function (shape) {
            if (shape.getStrokeEnabled()) {
                this._stroke(shape);
            }
        },
        fillStrokeShape: function (shape) {
            var fillEnabled = shape.getFillEnabled();
            if (fillEnabled) {
                this._fill(shape);
            }
            if (shape.getStrokeEnabled()) {
                this._stroke(shape, shape.hasShadow() && shape.hasFill() && fillEnabled);
            }
        },
        _applyLineCap: function (shape) {
            var lineCap = shape.getLineCap();
            if (lineCap) {
                this.setAttr('lineCap', lineCap);
            }
        },
        _applyOpacity: function (shape) {
            var absOpacity = shape.getAbsoluteOpacity();
            if (absOpacity !== 1) {
                this.setAttr('globalAlpha', absOpacity);
            }
        },
        _applyLineJoin: function (shape) {
            var lineJoin = shape.getLineJoin();
            if (lineJoin) {
                this.setAttr('lineJoin', lineJoin);
            }
        },
        _applyAncestorTransforms: function (shape) {
            var m = shape.getAbsoluteTransform().getMatrix();
            this.transform(m[0], m[1], m[2], m[3], m[4], m[5]);
        },
        _clip: function (container) {
            var clipX = container.getClipX() || 0, clipY = container.getClipY() || 0, clipWidth = container.getClipWidth(), clipHeight = container.getClipHeight();
            this.save();
            this._applyAncestorTransforms(container);
            this.beginPath();
            this.rect(clipX, clipY, clipWidth, clipHeight);
            this.clip();
            this.reset();
            container._drawChildren(this.getCanvas());
            this.restore();
        },
        setAttr: function (attr, val) {
            this._context[attr] = val;
        },
        arc: function () {
            var a = arguments;
            this._context.arc(a[0], a[1], a[2], a[3], a[4], a[5]);
        },
        beginPath: function () {
            this._context.beginPath();
        },
        bezierCurveTo: function () {
            var a = arguments;
            this._context.bezierCurveTo(a[0], a[1], a[2], a[3], a[4], a[5]);
        },
        clearRect: function () {
            var a = arguments;
            this._context.clearRect(a[0], a[1], a[2], a[3]);
        },
        clip: function () {
            this._context.clip();
        },
        closePath: function () {
            this._context.closePath();
        },
        createLinearGradient: function () {
            var a = arguments;
            return this._context.createLinearGradient(a[0], a[1], a[2], a[3]);
        },
        createPattern: function () {
            var a = arguments;
            return this._context.createPattern(a[0], a[1]);
        },
        createRadialGradient: function () {
            var a = arguments;
            return this._context.createRadialGradient(a[0], a[1], a[2], a[3], a[4], a[5]);
        },
        drawImage: function () {
            var a = arguments, _context = this._context;
            if (a.length === 3) {
                _context.drawImage(a[0], a[1], a[2]);
            } else if (a.length === 5) {
                _context.drawImage(a[0], a[1], a[2], a[3], a[4]);
            } else if (a.length === 9) {
                _context.drawImage(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);
            }
        },
        fill: function () {
            this._context.fill();
        },
        fillText: function () {
            var a = arguments;
            this._context.fillText(a[0], a[1], a[2]);
        },
        getImageData: function () {
            var a = arguments;
            return this._context.getImageData(a[0], a[1], a[2], a[3]);
        },
        lineTo: function () {
            var a = arguments;
            this._context.lineTo(a[0], a[1]);
        },
        moveTo: function () {
            var a = arguments;
            this._context.moveTo(a[0], a[1]);
        },
        rect: function () {
            var a = arguments;
            this._context.rect(a[0], a[1], a[2], a[3]);
        },
        putImageData: function () {
            var a = arguments;
            this._context.putImageData(a[0], a[1], a[2]);
        },
        quadraticCurveTo: function () {
            var a = arguments;
            this._context.quadraticCurveTo(a[0], a[1], a[2], a[3]);
        },
        restore: function () {
            this._context.restore();
        },
        rotate: function () {
            var a = arguments;
            this._context.rotate(a[0]);
        },
        save: function () {
            this._context.save();
        },
        scale: function () {
            var a = arguments;
            this._context.scale(a[0], a[1]);
        },
        setLineDash: function () {
            var a = arguments, _context = this._context;
            if (this._context.setLineDash) {
                _context.setLineDash(a[0]);
            } else if ('mozDash' in _context) {
                _context.mozDash = a[0];
            } else if ('webkitLineDash' in _context) {
                _context.webkitLineDash = a[0];
            }
        },
        setTransform: function () {
            var a = arguments;
            this._context.setTransform(a[0], a[1], a[2], a[3], a[4], a[5]);
        },
        stroke: function () {
            this._context.stroke();
        },
        strokeText: function () {
            var a = arguments;
            this._context.strokeText(a[0], a[1], a[2]);
        },
        transform: function () {
            var a = arguments;
            this._context.transform(a[0], a[1], a[2], a[3], a[4], a[5]);
        },
        translate: function () {
            var a = arguments;
            this._context.translate(a[0], a[1]);
        },
        _enableTrace: function () {
            var that = this, len = CONTEXT_METHODS.length, _roundArrValues = Kinetic.Util._roundArrValues, origSetter = this.setAttr, n, args;
            for (n = 0; n < len; n++) {
                (function (methodName) {
                    var origMethod = that[methodName], ret;
                    that[methodName] = function () {
                        args = _roundArrValues(Array.prototype.slice.call(arguments, 0));
                        ret = origMethod.apply(that, arguments);
                        that._trace({
                            method: methodName,
                            args: args
                        });
                        return ret;
                    };
                }(CONTEXT_METHODS[n]));
            }
            that.setAttr = function () {
                origSetter.apply(that, arguments);
                that._trace({
                    property: arguments[0],
                    val: arguments[1]
                });
            };
        }
    };
    Kinetic.SceneContext = function (canvas) {
        Kinetic.Context.call(this, canvas);
    };
    Kinetic.SceneContext.prototype = {
        _fillColor: function (shape) {
            var fill = shape.getFill();
            this.setAttr('fillStyle', fill);
            shape._fillFunc(this);
        },
        _fillPattern: function (shape) {
            var fillPatternImage = shape.getFillPatternImage(), fillPatternX = shape.getFillPatternX(), fillPatternY = shape.getFillPatternY(), fillPatternScale = shape.getFillPatternScale(), fillPatternRotation = shape.getFillPatternRotation(), fillPatternOffset = shape.getFillPatternOffset(), fillPatternRepeat = shape.getFillPatternRepeat();
            if (fillPatternX || fillPatternY) {
                this.translate(fillPatternX || 0, fillPatternY || 0);
            }
            if (fillPatternRotation) {
                this.rotate(fillPatternRotation);
            }
            if (fillPatternScale) {
                this.scale(fillPatternScale.x, fillPatternScale.y);
            }
            if (fillPatternOffset) {
                this.translate(-1 * fillPatternOffset.x, -1 * fillPatternOffset.y);
            }
            this.setAttr('fillStyle', this.createPattern(fillPatternImage, fillPatternRepeat || 'repeat'));
            this.fill();
        },
        _fillLinearGradient: function (shape) {
            var start = shape.getFillLinearGradientStartPoint(), end = shape.getFillLinearGradientEndPoint(), colorStops = shape.getFillLinearGradientColorStops(), grd = this.createLinearGradient(start.x, start.y, end.x, end.y);
            if (colorStops) {
                for (var n = 0; n < colorStops.length; n += 2) {
                    grd.addColorStop(colorStops[n], colorStops[n + 1]);
                }
                this.setAttr('fillStyle', grd);
                this.fill();
            }
        },
        _fillRadialGradient: function (shape) {
            var start = shape.getFillRadialGradientStartPoint(), end = shape.getFillRadialGradientEndPoint(), startRadius = shape.getFillRadialGradientStartRadius(), endRadius = shape.getFillRadialGradientEndRadius(), colorStops = shape.getFillRadialGradientColorStops(), grd = this.createRadialGradient(start.x, start.y, startRadius, end.x, end.y, endRadius);
            for (var n = 0; n < colorStops.length; n += 2) {
                grd.addColorStop(colorStops[n], colorStops[n + 1]);
            }
            this.setAttr('fillStyle', grd);
            this.fill();
        },
        _fill: function (shape, skipShadow) {
            var hasColor = shape.getFill(), hasPattern = shape.getFillPatternImage(), hasLinearGradient = shape.getFillLinearGradientColorStops(), hasRadialGradient = shape.getFillRadialGradientColorStops(), fillPriority = shape.getFillPriority();
            if (!skipShadow && shape.hasShadow()) {
                this.save();
                this._applyShadow(shape);
            }
            if (hasColor && fillPriority === 'color') {
                this._fillColor(shape);
            } else if (hasPattern && fillPriority === 'pattern') {
                this._fillPattern(shape);
            } else if (hasLinearGradient && fillPriority === 'linear-gradient') {
                this._fillLinearGradient(shape);
            } else if (hasRadialGradient && fillPriority === 'radial-gradient') {
                this._fillRadialGradient(shape);
            } else if (hasColor) {
                this._fillColor(shape);
            } else if (hasPattern) {
                this._fillPattern(shape);
            } else if (hasLinearGradient) {
                this._fillLinearGradient(shape);
            } else if (hasRadialGradient) {
                this._fillRadialGradient(shape);
            }
            if (!skipShadow && shape.hasShadow()) {
                this.restore();
                this._fill(shape, true);
            }
        },
        _stroke: function (shape, skipShadow) {
            var stroke = shape.getStroke(), strokeWidth = shape.getStrokeWidth(), dashArray = shape.getDashArray(), strokeScaleEnabled = shape.getStrokeScaleEnabled();
            if (stroke || strokeWidth) {
                if (!strokeScaleEnabled) {
                    this.save();
                    this.setTransform(1, 0, 0, 1, 0, 0);
                }
                this._applyLineCap(shape);
                if (dashArray && shape.getDashArrayEnabled()) {
                    this.setLineDash(dashArray);
                }
                if (!skipShadow && shape.hasShadow()) {
                    this._applyShadow(shape);
                }
                this.setAttr('lineWidth', strokeWidth || 2);
                this.setAttr('strokeStyle', stroke || 'black');
                shape._strokeFunc(this);
                if (!skipShadow && shape.hasShadow()) {
                    this._stroke(shape, true);
                }
                if (!strokeScaleEnabled) {
                    this.restore();
                }
            }
        },
        applyShadow: function (shape, drawFunc) {
            this.save();
            this._applyShadow(shape);
            drawFunc();
            this.restore();
            drawFunc();
        },
        _applyShadow: function (shape) {
            var util, absOpacity, color, blur, offset, shadowOpacity;
            if (shape.hasShadow() && shape.getShadowEnabled()) {
                util = Kinetic.Util;
                absOpacity = shape.getAbsoluteOpacity();
                color = util.get(shape.getShadowColor(), 'black');
                blur = util.get(shape.getShadowBlur(), 5);
                shadowOpacity = util.get(shape.getShadowOpacity(), 0);
                offset = util.get(shape.getShadowOffset(), {
                    x: 0,
                    y: 0
                });
                if (shadowOpacity) {
                    this.setAttr('globalAlpha', shadowOpacity * absOpacity);
                }
                this.setAttr('shadowColor', color);
                this.setAttr('shadowBlur', blur);
                this.setAttr('shadowOffsetX', offset.x);
                this.setAttr('shadowOffsetY', offset.y);
            }
        }
    };
    Kinetic.Util.extend(Kinetic.SceneContext, Kinetic.Context);
    Kinetic.HitContext = function (canvas) {
        Kinetic.Context.call(this, canvas);
    };
    Kinetic.HitContext.prototype = {
        _fill: function (shape) {
            this.save();
            this.setAttr('fillStyle', shape.colorKey);
            shape._fillFuncHit(this);
            this.restore();
        },
        _stroke: function (shape) {
            var stroke = shape.getStroke(), strokeWidth = shape.getStrokeWidth();
            if (stroke || strokeWidth) {
                this._applyLineCap(shape);
                this.setAttr('lineWidth', strokeWidth || 2);
                this.setAttr('strokeStyle', shape.colorKey);
                shape._strokeFuncHit(this);
            }
        }
    };
    Kinetic.Util.extend(Kinetic.HitContext, Kinetic.Context);
}());
;
(function () {
    var ABSOLUTE_OPACITY = 'absoluteOpacity', ABSOLUTE_TRANSFORM = 'absoluteTransform', ADD = 'add', B = 'b', BEFORE = 'before', BLACK = 'black', CHANGE = 'Change', CHILDREN = 'children', DEG = 'Deg', DOT = '.', EMPTY_STRING = '', G = 'g', GET = 'get', HASH = '#', ID = 'id', KINETIC = 'kinetic', LISTENING = 'listening', MOUSEENTER = 'mouseenter', MOUSELEAVE = 'mouseleave', NAME = 'name', OFF = 'off', ON = 'on', PRIVATE_GET = '_get', R = 'r', RGB = 'RGB', SET = 'set', SHAPE = 'Shape', SPACE = ' ', STAGE = 'Stage', TRANSFORM = 'transform', UPPER_B = 'B', UPPER_G = 'G', UPPER_HEIGHT = 'Height', UPPER_R = 'R', UPPER_WIDTH = 'Width', UPPER_X = 'X', UPPER_Y = 'Y', VISIBLE = 'visible', X = 'x', Y = 'y';
    Kinetic.Factory = {
        addGetterSetter: function (constructor, attr, def) {
            this.addGetter(constructor, attr, def);
            this.addSetter(constructor, attr);
        },
        addPointGetterSetter: function (constructor, attr, def) {
            this.addPointGetter(constructor, attr, def);
            this.addPointSetter(constructor, attr);
            this.addGetter(constructor, attr + UPPER_X, def);
            this.addGetter(constructor, attr + UPPER_Y, def);
            this.addSetter(constructor, attr + UPPER_X);
            this.addSetter(constructor, attr + UPPER_Y);
        },
        addBoxGetterSetter: function (constructor, attr, def) {
            this.addBoxGetter(constructor, attr, def);
            this.addBoxSetter(constructor, attr);
            this.addGetter(constructor, attr + UPPER_X, def);
            this.addGetter(constructor, attr + UPPER_Y, def);
            this.addGetter(constructor, attr + UPPER_WIDTH, def);
            this.addGetter(constructor, attr + UPPER_HEIGHT, def);
            this.addSetter(constructor, attr + UPPER_X);
            this.addSetter(constructor, attr + UPPER_Y);
            this.addSetter(constructor, attr + UPPER_WIDTH);
            this.addSetter(constructor, attr + UPPER_HEIGHT);
        },
        addPointsGetterSetter: function (constructor, attr) {
            this.addPointsGetter(constructor, attr);
            this.addPointsSetter(constructor, attr);
            this.addPointAdder(constructor, attr);
        },
        addRotationGetterSetter: function (constructor, attr, def) {
            this.addRotationGetter(constructor, attr, def);
            this.addRotationSetter(constructor, attr);
        },
        addColorGetterSetter: function (constructor, attr) {
            this.addGetter(constructor, attr);
            this.addSetter(constructor, attr);
            this.addColorRGBGetter(constructor, attr);
            this.addColorComponentGetter(constructor, attr, R);
            this.addColorComponentGetter(constructor, attr, G);
            this.addColorComponentGetter(constructor, attr, B);
            this.addColorRGBSetter(constructor, attr);
            this.addColorComponentSetter(constructor, attr, R);
            this.addColorComponentSetter(constructor, attr, G);
            this.addColorComponentSetter(constructor, attr, B);
        },
        addColorRGBGetter: function (constructor, attr) {
            var method = GET + Kinetic.Util._capitalize(attr) + RGB;
            constructor.prototype[method] = function () {
                return Kinetic.Util.getRGB(this.attrs[attr]);
            };
        },
        addColorComponentGetter: function (constructor, attr, c) {
            var prefix = GET + Kinetic.Util._capitalize(attr), method = prefix + Kinetic.Util._capitalize(c);
            constructor.prototype[method] = function () {
                return this[prefix + RGB]()[c];
            };
        },
        addPointsGetter: function (constructor, attr) {
            var that = this, method = GET + Kinetic.Util._capitalize(attr);
            constructor.prototype[method] = function () {
                var val = this.attrs[attr];
                return val === undefined ? [] : val;
            };
        },
        addGetter: function (constructor, attr, def) {
            var that = this, method = GET + Kinetic.Util._capitalize(attr);
            constructor.prototype[method] = function () {
                var val = this.attrs[attr];
                return val === undefined ? def : val;
            };
        },
        addPointGetter: function (constructor, attr) {
            var that = this, baseMethod = GET + Kinetic.Util._capitalize(attr);
            constructor.prototype[baseMethod] = function () {
                var that = this;
                return {
                    x: that[baseMethod + UPPER_X](),
                    y: that[baseMethod + UPPER_Y]()
                };
            };
        },
        addBoxGetter: function (constructor, attr) {
            var that = this, baseMethod = GET + Kinetic.Util._capitalize(attr);
            constructor.prototype[baseMethod] = function () {
                var that = this;
                return {
                    x: that[baseMethod + UPPER_X](),
                    y: that[baseMethod + UPPER_Y](),
                    width: that[baseMethod + UPPER_WIDTH](),
                    height: that[baseMethod + UPPER_HEIGHT]()
                };
            };
        },
        addRotationGetter: function (constructor, attr, def) {
            var that = this, method = GET + Kinetic.Util._capitalize(attr);
            constructor.prototype[method] = function () {
                var val = this.attrs[attr];
                if (val === undefined) {
                    val = def;
                }
                return val;
            };
            constructor.prototype[method + DEG] = function () {
                var val = this.attrs[attr];
                if (val === undefined) {
                    val = def;
                }
                return Kinetic.Util._radToDeg(val);
            };
        },
        addColorRGBSetter: function (constructor, attr) {
            var method = SET + Kinetic.Util._capitalize(attr) + RGB;
            constructor.prototype[method] = function (obj) {
                var r = obj && obj.r !== undefined ? obj.r | 0 : this.getAttr(attr + UPPER_R), g = obj && obj.g !== undefined ? obj.g | 0 : this.getAttr(attr + UPPER_G), b = obj && obj.b !== undefined ? obj.b | 0 : this.getAttr(attr + UPPER_B);
                this._setAttr(attr, HASH + Kinetic.Util._rgbToHex(r, g, b));
            };
        },
        addColorComponentSetter: function (constructor, attr, c) {
            var prefix = SET + Kinetic.Util._capitalize(attr), method = prefix + Kinetic.Util._capitalize(c);
            constructor.prototype[method] = function (val) {
                var obj = {};
                obj[c] = val;
                this[prefix + RGB](obj);
            };
        },
        addPointsSetter: function (constructor, attr) {
            var method = SET + Kinetic.Util._capitalize(attr);
            constructor.prototype[method] = function (val) {
                var points = Kinetic.Util._getPoints(val);
                this._setAttr('points', points);
            };
        },
        addSetter: function (constructor, attr) {
            var method = SET + Kinetic.Util._capitalize(attr);
            constructor.prototype[method] = function (val) {
                this._setAttr(attr, val);
            };
        },
        addPointSetter: function (constructor, attr) {
            var that = this, baseMethod = SET + Kinetic.Util._capitalize(attr);
            constructor.prototype[baseMethod] = function () {
                var pos = Kinetic.Util._getXY([].slice.call(arguments)), oldVal = this.attrs[attr], x = 0, y = 0;
                if (pos) {
                    x = pos.x;
                    y = pos.y;
                    this._fireBeforeChangeEvent(attr, oldVal, pos);
                    if (x !== undefined) {
                        this[baseMethod + UPPER_X](x);
                    }
                    if (y !== undefined) {
                        this[baseMethod + UPPER_Y](y);
                    }
                    this._fireChangeEvent(attr, oldVal, pos);
                }
            };
        },
        addBoxSetter: function (constructor, attr) {
            var that = this, baseMethod = SET + Kinetic.Util._capitalize(attr);
            constructor.prototype[baseMethod] = function () {
                var config = [].slice.call(arguments), pos = Kinetic.Util._getXY(config), size = Kinetic.Util._getSize(config), both = Kinetic.Util._merge(pos, size), oldVal = this.attrs[attr], x, y, width, height;
                if (both) {
                    x = both.x;
                    y = both.y;
                    width = both.width;
                    height = both.height;
                    this._fireBeforeChangeEvent(attr, oldVal, both);
                    if (x !== undefined) {
                        this[baseMethod + UPPER_X](x);
                    }
                    if (y !== undefined) {
                        this[baseMethod + UPPER_Y](y);
                    }
                    if (width !== undefined) {
                        this[baseMethod + UPPER_WIDTH](width);
                    }
                    if (height !== undefined) {
                        this[baseMethod + UPPER_HEIGHT](height);
                    }
                    this._fireChangeEvent(attr, oldVal, both);
                }
            };
        },
        addRotationSetter: function (constructor, attr) {
            var that = this, method = SET + Kinetic.Util._capitalize(attr);
            constructor.prototype[method] = function (val) {
                this._setAttr(attr, val);
            };
            constructor.prototype[method + DEG] = function (deg) {
                this._setAttr(attr, Kinetic.Util._degToRad(deg));
            };
        },
        addPointAdder: function (constructor, attr) {
            var that = this, baseMethod = ADD + Kinetic.Util._removeLastLetter(Kinetic.Util._capitalize(attr));
            constructor.prototype[baseMethod] = function () {
                var pos = Kinetic.Util._getXY([].slice.call(arguments)), oldVal = this.attrs[attr];
                if (pos) {
                    this._fireBeforeChangeEvent(attr, oldVal, pos);
                    this.attrs[attr].push(pos);
                    this._fireChangeEvent(attr, oldVal, pos);
                }
            };
        }
    };
}());
;
(function () {
    var ABSOLUTE_OPACITY = 'absoluteOpacity', ABSOLUTE_TRANSFORM = 'absoluteTransform', ADD = 'add', B = 'b', BEFORE = 'before', BLACK = 'black', CHANGE = 'Change', CHILDREN = 'children', DEG = 'Deg', DOT = '.', EMPTY_STRING = '', G = 'g', GET = 'get', HASH = '#', ID = 'id', KINETIC = 'kinetic', LISTENING = 'listening', MOUSEENTER = 'mouseenter', MOUSELEAVE = 'mouseleave', NAME = 'name', OFF = 'off', ON = 'on', PRIVATE_GET = '_get', R = 'r', RGB = 'RGB', SET = 'set', SHAPE = 'Shape', SPACE = ' ', STAGE = 'stage', TRANSFORM = 'transform', UPPER_B = 'B', UPPER_G = 'G', UPPER_HEIGHT = 'Height', UPPER_R = 'R', UPPER_STAGE = 'Stage', UPPER_WIDTH = 'Width', UPPER_X = 'X', UPPER_Y = 'Y', VISIBLE = 'visible', X = 'x', Y = 'y', transformChangeStr = [
            'xChange.kinetic',
            'yChange.kinetic',
            'scaleXChange.kinetic',
            'scaleYChange.kinetic',
            'skewXChange.kinetic',
            'skewYChange.kinetic',
            'rotationChange.kinetic',
            'offsetXChange.kinetic',
            'offsetYChange.kinetic'
        ].join(SPACE);
    Kinetic.Util.addMethods(Kinetic.Node, {
        _init: function (config) {
            var that = this;
            this._id = Kinetic.idCounter++;
            this.eventListeners = {};
            this.attrs = {};
            this.cache = {};
            this.setAttrs(config);
            this.on(transformChangeStr, function () {
                this._clearCache(TRANSFORM);
                that._clearSelfAndChildrenCache(ABSOLUTE_TRANSFORM);
            });
            this.on('visibleChange.kinetic', function () {
                that._clearSelfAndChildrenCache(VISIBLE);
            });
            this.on('listeningChange.kinetic', function () {
                that._clearSelfAndChildrenCache(LISTENING);
            });
            this.on('opacityChange.kinetic', function () {
                that._clearSelfAndChildrenCache(ABSOLUTE_OPACITY);
            });
        },
        clearCache: function () {
            this.cache = {};
        },
        _clearCache: function (attr) {
            delete this.cache[attr];
        },
        _getCache: function (attr, privateGetter) {
            var cache = this.cache[attr];
            if (cache === undefined) {
                this.cache[attr] = privateGetter.call(this);
            }
            return this.cache[attr];
        },
        _clearSelfAndChildrenCache: function (attr) {
            var that = this;
            this._clearCache(attr);
            if (this.children) {
                this.getChildren().each(function (node) {
                    node._clearSelfAndChildrenCache(attr);
                });
            }
        },
        on: function (evtStr, handler) {
            var events = evtStr.split(SPACE), len = events.length, n, event, parts, baseEvent, name;
            for (n = 0; n < len; n++) {
                event = events[n];
                parts = event.split(DOT);
                baseEvent = parts[0];
                name = parts[1] || EMPTY_STRING;
                if (!this.eventListeners[baseEvent]) {
                    this.eventListeners[baseEvent] = [];
                }
                this.eventListeners[baseEvent].push({
                    name: name,
                    handler: handler
                });
            }
            return this;
        },
        off: function (evtStr) {
            var events = evtStr.split(SPACE), len = events.length, n, i, t, event, parts, baseEvent, name;
            for (n = 0; n < len; n++) {
                event = events[n];
                parts = event.split(DOT);
                baseEvent = parts[0];
                name = parts[1];
                if (baseEvent) {
                    if (this.eventListeners[baseEvent]) {
                        this._off(baseEvent, name);
                    }
                } else {
                    for (t in this.eventListeners) {
                        this._off(t, name);
                    }
                }
            }
            return this;
        },
        remove: function () {
            var parent = this.getParent();
            if (parent && parent.children) {
                parent.children.splice(this.index, 1);
                parent._setChildrenIndices();
                delete this.parent;
            }
            this._clearSelfAndChildrenCache(STAGE);
            this._clearSelfAndChildrenCache(ABSOLUTE_TRANSFORM);
            this._clearSelfAndChildrenCache(VISIBLE);
            this._clearSelfAndChildrenCache(LISTENING);
            this._clearSelfAndChildrenCache(ABSOLUTE_OPACITY);
            return this;
        },
        destroy: function () {
            Kinetic._removeId(this.getId());
            Kinetic._removeName(this.getName(), this._id);
            this.remove();
        },
        getAttr: function (attr) {
            var method = GET + Kinetic.Util._capitalize(attr);
            if (Kinetic.Util._isFunction(this[method])) {
                return this[method]();
            } else {
                return this.attrs[attr];
            }
        },
        getAncestors: function () {
            var parent = this.getParent(), ancestors = new Kinetic.Collection();
            while (parent) {
                ancestors.push(parent);
                parent = parent.getParent();
            }
            return ancestors;
        },
        setAttr: function () {
            var args = Array.prototype.slice.call(arguments), attr = args[0], method = SET + Kinetic.Util._capitalize(attr), func = this[method];
            args.shift();
            if (Kinetic.Util._isFunction(func)) {
                func.apply(this, args);
            } else {
                this.attrs[attr] = args[0];
            }
            return this;
        },
        getAttrs: function () {
            return this.attrs || {};
        },
        setAttrs: function (config) {
            var key, method;
            if (config) {
                for (key in config) {
                    if (key === CHILDREN) {
                    } else {
                        method = SET + Kinetic.Util._capitalize(key);
                        if (Kinetic.Util._isFunction(this[method])) {
                            this[method](config[key]);
                        } else {
                            this._setAttr(key, config[key]);
                        }
                    }
                }
            }
            return this;
        },
        isListening: function () {
            return this._getCache(LISTENING, this._isListening);
        },
        _isListening: function () {
            var listening = this.getListening(), parent = this.getParent();
            if (listening && parent && !parent.isListening()) {
                return false;
            }
            return listening;
        },
        isVisible: function () {
            return this._getCache(VISIBLE, this._isVisible);
        },
        _isVisible: function () {
            var visible = this.getVisible(), parent = this.getParent();
            if (visible && parent && !parent.isVisible()) {
                return false;
            }
            return visible;
        },
        show: function () {
            this.setVisible(true);
            return this;
        },
        hide: function () {
            this.setVisible(false);
            return this;
        },
        getZIndex: function () {
            return this.index || 0;
        },
        getAbsoluteZIndex: function () {
            var level = this.getLevel(), that = this, index = 0, nodes, len, n, child;
            function addChildren(children) {
                nodes = [];
                len = children.length;
                for (n = 0; n < len; n++) {
                    child = children[n];
                    index++;
                    if (child.nodeType !== SHAPE) {
                        nodes = nodes.concat(child.getChildren().toArray());
                    }
                    if (child._id === that._id) {
                        n = len;
                    }
                }
                if (nodes.length > 0 && nodes[0].getLevel() <= level) {
                    addChildren(nodes);
                }
            }
            if (that.nodeType !== UPPER_STAGE) {
                addChildren(that.getStage().getChildren());
            }
            return index;
        },
        getLevel: function () {
            var level = 0, parent = this.parent;
            while (parent) {
                level++;
                parent = parent.parent;
            }
            return level;
        },
        setPosition: function () {
            var pos = Kinetic.Util._getXY([].slice.call(arguments));
            this.setX(pos.x);
            this.setY(pos.y);
            return this;
        },
        getPosition: function () {
            return {
                x: this.getX(),
                y: this.getY()
            };
        },
        getAbsolutePosition: function () {
            var absoluteMatrix = this.getAbsoluteTransform().getMatrix(), absoluteTransform = new Kinetic.Transform(), o = this.getOffset();
            absoluteTransform.m = absoluteMatrix.slice();
            absoluteTransform.translate(o.x, o.y);
            return absoluteTransform.getTranslation();
        },
        setAbsolutePosition: function () {
            var pos = Kinetic.Util._getXY([].slice.call(arguments)), trans = this._clearTransform(), it;
            this.attrs.x = trans.x;
            this.attrs.y = trans.y;
            delete trans.x;
            delete trans.y;
            it = this.getAbsoluteTransform();
            it.invert();
            it.translate(pos.x, pos.y);
            pos = {
                x: this.attrs.x + it.getTranslation().x,
                y: this.attrs.y + it.getTranslation().y
            };
            this.setPosition(pos.x, pos.y);
            this._setTransform(trans);
            return this;
        },
        _setTransform: function (trans) {
            var key;
            for (key in trans) {
                this.attrs[key] = trans[key];
            }
            this._clearCache(TRANSFORM);
            this._clearSelfAndChildrenCache(ABSOLUTE_TRANSFORM);
        },
        _clearTransform: function () {
            var trans = {
                    x: this.getX(),
                    y: this.getY(),
                    rotation: this.getRotation(),
                    scaleX: this.getScaleX(),
                    scaleY: this.getScaleY(),
                    offsetX: this.getOffsetX(),
                    offsetY: this.getOffsetY(),
                    skewX: this.getSkewX(),
                    skewY: this.getSkewY()
                };
            this.attrs.x = 0;
            this.attrs.y = 0;
            this.attrs.rotation = 0;
            this.attrs.scaleX = 1;
            this.attrs.scaleY = 1;
            this.attrs.offsetX = 0;
            this.attrs.offsetY = 0;
            this.attrs.skewX = 0;
            this.attrs.skewY = 0;
            this._clearCache(TRANSFORM);
            this._clearSelfAndChildrenCache(ABSOLUTE_TRANSFORM);
            return trans;
        },
        move: function () {
            var pos = Kinetic.Util._getXY([].slice.call(arguments)), x = this.getX(), y = this.getY();
            if (pos.x !== undefined) {
                x += pos.x;
            }
            if (pos.y !== undefined) {
                y += pos.y;
            }
            this.setPosition(x, y);
            return this;
        },
        _eachAncestorReverse: function (func, includeSelf) {
            var family = [], parent = this.getParent(), len, n;
            if (includeSelf) {
                family.unshift(this);
            }
            while (parent) {
                family.unshift(parent);
                parent = parent.parent;
            }
            len = family.length;
            for (n = 0; n < len; n++) {
                func(family[n]);
            }
        },
        rotate: function (theta) {
            this.setRotation(this.getRotation() + theta);
            return this;
        },
        rotateDeg: function (deg) {
            this.setRotation(this.getRotation() + Kinetic.Util._degToRad(deg));
            return this;
        },
        moveToTop: function () {
            var index = this.index;
            this.parent.children.splice(index, 1);
            this.parent.children.push(this);
            this.parent._setChildrenIndices();
            return true;
        },
        moveUp: function () {
            var index = this.index, len = this.parent.getChildren().length;
            if (index < len - 1) {
                this.parent.children.splice(index, 1);
                this.parent.children.splice(index + 1, 0, this);
                this.parent._setChildrenIndices();
                return true;
            }
            return false;
        },
        moveDown: function () {
            var index = this.index;
            if (index > 0) {
                this.parent.children.splice(index, 1);
                this.parent.children.splice(index - 1, 0, this);
                this.parent._setChildrenIndices();
                return true;
            }
            return false;
        },
        moveToBottom: function () {
            var index = this.index;
            if (index > 0) {
                this.parent.children.splice(index, 1);
                this.parent.children.unshift(this);
                this.parent._setChildrenIndices();
                return true;
            }
            return false;
        },
        setZIndex: function (zIndex) {
            var index = this.index;
            this.parent.children.splice(index, 1);
            this.parent.children.splice(zIndex, 0, this);
            this.parent._setChildrenIndices();
            return this;
        },
        getAbsoluteOpacity: function () {
            return this._getCache(ABSOLUTE_OPACITY, this._getAbsoluteOpacity);
        },
        _getAbsoluteOpacity: function () {
            var absOpacity = this.getOpacity();
            if (this.getParent()) {
                absOpacity *= this.getParent().getAbsoluteOpacity();
            }
            return absOpacity;
        },
        moveTo: function (newContainer) {
            Kinetic.Node.prototype.remove.call(this);
            newContainer.add(this);
            return this;
        },
        toObject: function () {
            var type = Kinetic.Util, obj = {}, attrs = this.getAttrs(), key, val;
            obj.attrs = {};
            for (key in attrs) {
                val = attrs[key];
                if (!type._isFunction(val) && !type._isElement(val) && !(type._isObject(val) && type._hasMethods(val))) {
                    obj.attrs[key] = val;
                }
            }
            obj.className = this.getClassName();
            return obj;
        },
        toJSON: function () {
            return JSON.stringify(this.toObject());
        },
        getParent: function () {
            return this.parent;
        },
        getLayer: function () {
            return this.getParent().getLayer();
        },
        getStage: function () {
            return this._getCache(STAGE, this._getStage);
        },
        _getStage: function () {
            var parent = this.getParent();
            if (parent) {
                return parent.getStage();
            } else {
                return undefined;
            }
        },
        fire: function (eventType, evt, bubble) {
            if (bubble) {
                this._fireAndBubble(eventType, evt || {});
            } else {
                this._fire(eventType, evt || {});
            }
            return this;
        },
        getAbsoluteTransform: function () {
            return this._getCache(ABSOLUTE_TRANSFORM, this._getAbsoluteTransform);
        },
        _getAbsoluteTransform: function () {
            var am = new Kinetic.Transform(), m;
            this._eachAncestorReverse(function (node) {
                m = node.getTransform();
                am.multiply(m);
            }, true);
            return am;
        },
        _getTransform: function () {
            var m = new Kinetic.Transform(), x = this.getX(), y = this.getY(), rotation = this.getRotation(), scaleX = this.getScaleX(), scaleY = this.getScaleY(), skewX = this.getSkewX(), skewY = this.getSkewY(), offsetX = this.getOffsetX(), offsetY = this.getOffsetY();
            if (x !== 0 || y !== 0) {
                m.translate(x, y);
            }
            if (rotation !== 0) {
                m.rotate(rotation);
            }
            if (skewX !== 0 || skewY !== 0) {
                m.skew(skewX, skewY);
            }
            if (scaleX !== 1 || scaleY !== 1) {
                m.scale(scaleX, scaleY);
            }
            if (offsetX !== 0 || offsetY !== 0) {
                m.translate(-1 * offsetX, -1 * offsetY);
            }
            return m;
        },
        clone: function (obj) {
            var className = this.getClassName(), node = new Kinetic[className](this.attrs), key, allListeners, len, n, listener;
            for (key in this.eventListeners) {
                allListeners = this.eventListeners[key];
                len = allListeners.length;
                for (n = 0; n < len; n++) {
                    listener = allListeners[n];
                    if (listener.name.indexOf(KINETIC) < 0) {
                        if (!node.eventListeners[key]) {
                            node.eventListeners[key] = [];
                        }
                        node.eventListeners[key].push(listener);
                    }
                }
            }
            node.setAttrs(obj);
            return node;
        },
        toDataURL: function (config) {
            config = config || {};
            var mimeType = config.mimeType || null, quality = config.quality || null, stage = this.getStage(), x = config.x || 0, y = config.y || 0, canvas = new Kinetic.SceneCanvas({
                    width: config.width || stage.getWidth(),
                    height: config.height || stage.getHeight(),
                    pixelRatio: 1
                }), context = canvas.getContext();
            context.save();
            if (x || y) {
                context.translate(-1 * x, -1 * y);
            }
            this.drawScene(canvas);
            context.restore();
            return canvas.toDataURL(mimeType, quality);
        },
        toImage: function (config) {
            Kinetic.Util._getImage(this.toDataURL(config), function (img) {
                config.callback(img);
            });
        },
        setSize: function () {
            var size = Kinetic.Util._getSize(Array.prototype.slice.call(arguments));
            this.setWidth(size.width);
            this.setHeight(size.height);
            return this;
        },
        getSize: function () {
            return {
                width: this.getWidth(),
                height: this.getHeight()
            };
        },
        getWidth: function () {
            return this.attrs.width || 0;
        },
        getHeight: function () {
            return this.attrs.height || 0;
        },
        getClassName: function () {
            return this.className || this.nodeType;
        },
        getType: function () {
            return this.nodeType;
        },
        _get: function (selector) {
            return this.nodeType === selector ? [this] : [];
        },
        _off: function (type, name) {
            var evtListeners = this.eventListeners[type], i, evtName;
            for (i = 0; i < evtListeners.length; i++) {
                evtName = evtListeners[i].name;
                if ((evtName !== 'kinetic' || name === 'kinetic') && (!name || evtName === name)) {
                    evtListeners.splice(i, 1);
                    if (evtListeners.length === 0) {
                        delete this.eventListeners[type];
                        break;
                    }
                    i--;
                }
            }
        },
        _fireBeforeChangeEvent: function (attr, oldVal, newVal) {
            this._fire(BEFORE + Kinetic.Util._capitalize(attr) + CHANGE, {
                oldVal: oldVal,
                newVal: newVal
            });
        },
        _fireChangeEvent: function (attr, oldVal, newVal) {
            this._fire(attr + CHANGE, {
                oldVal: oldVal,
                newVal: newVal
            });
        },
        setId: function (id) {
            var oldId = this.getId();
            Kinetic._removeId(oldId);
            Kinetic._addId(this, id);
            this._setAttr(ID, id);
            return this;
        },
        setName: function (name) {
            var oldName = this.getName();
            Kinetic._removeName(oldName, this._id);
            Kinetic._addName(this, name);
            this._setAttr(NAME, name);
            return this;
        },
        _setAttr: function (key, val) {
            var oldVal;
            if (val !== undefined) {
                oldVal = this.attrs[key];
                this._fireBeforeChangeEvent(key, oldVal, val);
                this.attrs[key] = val;
                this._fireChangeEvent(key, oldVal, val);
            }
        },
        _fireAndBubble: function (eventType, evt, compareShape) {
            var okayToRun = true;
            if (evt && this.nodeType === SHAPE) {
                evt.targetNode = this;
            }
            if (eventType === MOUSEENTER && compareShape && this._id === compareShape._id) {
                okayToRun = false;
            } else if (eventType === MOUSELEAVE && compareShape && this._id === compareShape._id) {
                okayToRun = false;
            }
            if (okayToRun) {
                this._fire(eventType, evt);
                if (evt && !evt.cancelBubble && this.parent) {
                    if (compareShape && compareShape.parent) {
                        this._fireAndBubble.call(this.parent, eventType, evt, compareShape.parent);
                    } else {
                        this._fireAndBubble.call(this.parent, eventType, evt);
                    }
                }
            }
        },
        _fire: function (eventType, evt) {
            var events = this.eventListeners[eventType], len, i;
            if (events) {
                len = events.length;
                for (i = 0; i < len; i++) {
                    events[i].handler.call(this, evt);
                }
            }
        },
        draw: function () {
            this.drawScene();
            this.drawHit();
            return this;
        },
        shouldDrawHit: function () {
            return this.isListening() && this.isVisible() && !Kinetic.isDragging();
        },
        isDraggable: function () {
            return false;
        },
        getTransform: function () {
            return this._getCache(TRANSFORM, this._getTransform);
        }
    });
    Kinetic.Node.create = function (json, container) {
        return this._createNode(JSON.parse(json), container);
    };
    Kinetic.Node._createNode = function (obj, container) {
        var className = Kinetic.Node.prototype.getClassName.call(obj), children = obj.children, no, len, n;
        if (container) {
            obj.attrs.container = container;
        }
        no = new Kinetic[className](obj.attrs);
        if (children) {
            len = children.length;
            for (n = 0; n < len; n++) {
                no.add(this._createNode(children[n]));
            }
        }
        return no;
    };
    Kinetic.Factory.addGetterSetter(Kinetic.Node, 'x', 0);
    Kinetic.Factory.addGetterSetter(Kinetic.Node, 'y', 0);
    Kinetic.Factory.addGetterSetter(Kinetic.Node, 'opacity', 1);
    Kinetic.Factory.addGetter(Kinetic.Node, 'name');
    Kinetic.Factory.addGetter(Kinetic.Node, 'id');
    Kinetic.Factory.addRotationGetterSetter(Kinetic.Node, 'rotation', 0);
    Kinetic.Factory.addPointGetterSetter(Kinetic.Node, 'scale', 1);
    Kinetic.Factory.addPointGetterSetter(Kinetic.Node, 'skew', 0);
    Kinetic.Factory.addPointGetterSetter(Kinetic.Node, 'offset', 0);
    Kinetic.Factory.addSetter(Kinetic.Node, 'width');
    Kinetic.Factory.addSetter(Kinetic.Node, 'height');
    Kinetic.Factory.addGetterSetter(Kinetic.Node, 'listening', true);
    Kinetic.Factory.addGetterSetter(Kinetic.Node, 'visible', true);
    Kinetic.Collection.mapMethods([
        'on',
        'off',
        'remove',
        'destroy',
        'show',
        'hide',
        'move',
        'rotate',
        'moveToTop',
        'moveUp',
        'moveDown',
        'moveToBottom',
        'moveTo',
        'fire',
        'draw'
    ]);
}());
;
(function () {
    var BATCH_DRAW_STOP_TIME_DIFF = 500;
    Kinetic.Animation = function (func, layers) {
        this.func = func;
        this.setLayers(layers);
        this.id = Kinetic.Animation.animIdCounter++;
        this.frame = {
            time: 0,
            timeDiff: 0,
            lastTime: new Date().getTime()
        };
    };
    Kinetic.Animation.prototype = {
        setLayers: function (layers) {
            var lays = [];
            if (!layers) {
                lays = [];
            } else if (layers.length > 0) {
                lays = layers;
            } else {
                lays = [layers];
            }
            this.layers = lays;
        },
        getLayers: function () {
            return this.layers;
        },
        addLayer: function (layer) {
            var layers = this.layers, len, n;
            if (layers) {
                len = layers.length;
                for (n = 0; n < len; n++) {
                    if (layers[n]._id === layer._id) {
                        return false;
                    }
                }
            } else {
                this.layers = [];
            }
            this.layers.push(layer);
            return true;
        },
        isRunning: function () {
            var a = Kinetic.Animation, animations = a.animations;
            for (var n = 0; n < animations.length; n++) {
                if (animations[n].id === this.id) {
                    return true;
                }
            }
            return false;
        },
        start: function () {
            this.stop();
            this.frame.timeDiff = 0;
            this.frame.lastTime = new Date().getTime();
            Kinetic.Animation._addAnimation(this);
        },
        stop: function () {
            Kinetic.Animation._removeAnimation(this);
        },
        _updateFrameObject: function (time) {
            this.frame.timeDiff = time - this.frame.lastTime;
            this.frame.lastTime = time;
            this.frame.time += this.frame.timeDiff;
            this.frame.frameRate = 1000 / this.frame.timeDiff;
        }
    };
    Kinetic.Animation.animations = [];
    Kinetic.Animation.animIdCounter = 0;
    Kinetic.Animation.animRunning = false;
    Kinetic.Animation._addAnimation = function (anim) {
        this.animations.push(anim);
        this._handleAnimation();
    };
    Kinetic.Animation._removeAnimation = function (anim) {
        var id = anim.id, animations = this.animations, len = animations.length;
        for (var n = 0; n < len; n++) {
            if (animations[n].id === id) {
                this.animations.splice(n, 1);
                break;
            }
        }
    };
    Kinetic.Animation._runFrames = function () {
        var layerHash = {}, animations = this.animations, anim, layers, func, n, i, layersLen, layer, key;
        for (n = 0; n < animations.length; n++) {
            anim = animations[n];
            layers = anim.layers;
            func = anim.func;
            anim._updateFrameObject(new Date().getTime());
            layersLen = layers.length;
            for (i = 0; i < layersLen; i++) {
                layer = layers[i];
                if (layer._id !== undefined) {
                    layerHash[layer._id] = layer;
                }
            }
            if (func) {
                func.call(anim, anim.frame);
            }
        }
        for (key in layerHash) {
            layerHash[key].draw();
        }
    };
    Kinetic.Animation._animationLoop = function () {
        var that = this;
        if (this.animations.length > 0) {
            this._runFrames();
            Kinetic.Animation.requestAnimFrame(function () {
                that._animationLoop();
            });
        } else {
            this.animRunning = false;
        }
    };
    Kinetic.Animation._handleAnimation = function () {
        var that = this;
        if (!this.animRunning) {
            this.animRunning = true;
            that._animationLoop();
        }
    };
    RAF = function () {
        return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || FRAF;
    }();
    function FRAF(callback) {
        window.setTimeout(callback, 1000 / 60);
    }
    Kinetic.Animation.requestAnimFrame = function (callback) {
        var raf = Kinetic.DD && Kinetic.DD.isDragging ? FRAF : RAF;
        raf(callback);
    };
    var moveTo = Kinetic.Node.prototype.moveTo;
    Kinetic.Node.prototype.moveTo = function (container) {
        moveTo.call(this, container);
    };
    Kinetic.Layer.prototype.batchDraw = function () {
        var that = this;
        if (!this.batchAnim) {
            this.batchAnim = new Kinetic.Animation(function () {
                if (that.lastBatchDrawTime && new Date().getTime() - that.lastBatchDrawTime > BATCH_DRAW_STOP_TIME_DIFF) {
                    that.batchAnim.stop();
                }
            }, this);
        }
        this.lastBatchDrawTime = new Date().getTime();
        if (!this.batchAnim.isRunning()) {
            this.draw();
            this.batchAnim.start();
        }
    };
    Kinetic.Stage.prototype.batchDraw = function () {
        this.getChildren().each(function (layer) {
            layer.batchDraw();
        });
    };
}());
;
(function () {
    var blacklist = {
            node: 1,
            duration: 1,
            easing: 1,
            onFinish: 1,
            yoyo: 1
        }, PAUSED = 1, PLAYING = 2, REVERSING = 3, idCounter = 0;
    Kinetic.Tween = function (config) {
        var that = this, node = config.node, nodeId = node._id, duration = config.duration || 1, easing = config.easing || Kinetic.Easings.Linear, yoyo = !!config.yoyo, key, tween, start, tweenId;
        this.node = node;
        this._id = idCounter++;
        this.anim = new Kinetic.Animation(function () {
            that.tween.onEnterFrame();
        }, node.getLayer() || node.getLayers());
        this.tween = new Tween(key, function (i) {
            that._tweenFunc(i);
        }, easing, 0, 1, duration * 1000, yoyo);
        this._addListeners();
        if (!Kinetic.Tween.attrs[nodeId]) {
            Kinetic.Tween.attrs[nodeId] = {};
        }
        if (!Kinetic.Tween.attrs[nodeId][this._id]) {
            Kinetic.Tween.attrs[nodeId][this._id] = {};
        }
        if (!Kinetic.Tween.tweens[nodeId]) {
            Kinetic.Tween.tweens[nodeId] = {};
        }
        for (key in config) {
            if (blacklist[key] === undefined) {
                this._addAttr(key, config[key]);
            }
        }
        this.reset();
        this.onFinish = config.onFinish;
        this.onReset = config.onReset;
    };
    Kinetic.Tween.attrs = {};
    Kinetic.Tween.tweens = {};
    Kinetic.Tween.prototype = {
        _addAttr: function (key, end) {
            var node = this.node, nodeId = node._id, start, diff, tweenId, n, len, startVal, endVal;
            tweenId = Kinetic.Tween.tweens[nodeId][key];
            if (tweenId) {
                delete Kinetic.Tween.attrs[nodeId][tweenId][key];
            }
            start = node.getAttr(key);
            if (Kinetic.Util._isArray(end)) {
                end = Kinetic.Util._getPoints(end);
                diff = [];
                len = end.length;
                for (n = 0; n < len; n++) {
                    startVal = start[n];
                    endVal = end[n];
                    diff.push({
                        x: endVal.x - startVal.x,
                        y: endVal.y - startVal.y
                    });
                }
            } else {
                diff = end - start;
            }
            Kinetic.Tween.attrs[nodeId][this._id][key] = {
                start: start,
                diff: diff
            };
            Kinetic.Tween.tweens[nodeId][key] = this._id;
        },
        _tweenFunc: function (i) {
            var node = this.node, attrs = Kinetic.Tween.attrs[node._id][this._id], key, attr, start, diff, newVal, n, len, startVal, diffVal;
            for (key in attrs) {
                attr = attrs[key];
                start = attr.start;
                diff = attr.diff;
                if (Kinetic.Util._isArray(start)) {
                    newVal = [];
                    len = start.length;
                    for (n = 0; n < len; n++) {
                        startVal = start[n];
                        diffVal = diff[n];
                        newVal.push({
                            x: startVal.x + diffVal.x * i,
                            y: startVal.y + diffVal.y * i
                        });
                    }
                } else {
                    newVal = start + diff * i;
                }
                node.setAttr(key, newVal);
            }
        },
        _addListeners: function () {
            var that = this;
            this.tween.onPlay = function () {
                that.anim.start();
            };
            this.tween.onReverse = function () {
                that.anim.start();
            };
            this.tween.onPause = function () {
                that.anim.stop();
            };
            this.tween.onFinish = function () {
                if (that.onFinish) {
                    that.onFinish();
                }
            };
            this.tween.onReset = function () {
                if (that.onReset) {
                    that.onReset();
                }
            };
        },
        play: function () {
            this.tween.play();
            return this;
        },
        reverse: function () {
            this.tween.reverse();
            return this;
        },
        reset: function () {
            var node = this.node;
            this.tween.reset();
            (node.getLayer() || node.getLayers()).draw();
            return this;
        },
        seek: function (t) {
            var node = this.node;
            this.tween.seek(t * 1000);
            (node.getLayer() || node.getLayers()).draw();
            return this;
        },
        pause: function () {
            this.tween.pause();
            return this;
        },
        finish: function () {
            var node = this.node;
            this.tween.finish();
            (node.getLayer() || node.getLayers()).draw();
            return this;
        },
        destroy: function () {
            var nodeId = this.node._id, thisId = this._id, attrs = Kinetic.Tween.tweens[nodeId], key;
            this.pause();
            for (key in attrs) {
                delete Kinetic.Tween.tweens[nodeId][key];
            }
            delete Kinetic.Tween.attrs[nodeId][thisId];
        }
    };
    var Tween = function (prop, propFunc, func, begin, finish, duration, yoyo) {
        this.prop = prop;
        this.propFunc = propFunc;
        this.begin = begin;
        this._pos = begin;
        this.duration = duration;
        this._change = 0;
        this.prevPos = 0;
        this.yoyo = yoyo;
        this._time = 0;
        this._position = 0;
        this._startTime = 0;
        this._finish = 0;
        this.func = func;
        this._change = finish - this.begin;
        this.pause();
    };
    Tween.prototype = {
        fire: function (str) {
            var handler = this[str];
            if (handler) {
                handler();
            }
        },
        setTime: function (t) {
            if (t > this.duration) {
                if (this.yoyo) {
                    this._time = this.duration;
                    this.reverse();
                } else {
                    this.finish();
                }
            } else if (t < 0) {
                if (this.yoyo) {
                    this._time = 0;
                    this.play();
                } else {
                    this.reset();
                }
            } else {
                this._time = t;
                this.update();
            }
        },
        getTime: function () {
            return this._time;
        },
        setPosition: function (p) {
            this.prevPos = this._pos;
            this.propFunc(p);
            this._pos = p;
        },
        getPosition: function (t) {
            if (t === undefined) {
                t = this._time;
            }
            return this.func(t, this.begin, this._change, this.duration);
        },
        play: function () {
            this.state = PLAYING;
            this._startTime = this.getTimer() - this._time;
            this.onEnterFrame();
            this.fire('onPlay');
        },
        reverse: function () {
            this.state = REVERSING;
            this._time = this.duration - this._time;
            this._startTime = this.getTimer() - this._time;
            this.onEnterFrame();
            this.fire('onReverse');
        },
        seek: function (t) {
            this.pause();
            this._time = t;
            this.update();
            this.fire('onSeek');
        },
        reset: function () {
            this.pause();
            this._time = 0;
            this.update();
            this.fire('onReset');
        },
        finish: function () {
            this.pause();
            this._time = this.duration;
            this.update();
            this.fire('onFinish');
        },
        update: function () {
            this.setPosition(this.getPosition(this._time));
        },
        onEnterFrame: function () {
            var t = this.getTimer() - this._startTime;
            if (this.state === PLAYING) {
                this.setTime(t);
            } else if (this.state === REVERSING) {
                this.setTime(this.duration - t);
            }
        },
        pause: function () {
            this.state = PAUSED;
            this.fire('onPause');
        },
        getTimer: function () {
            return new Date().getTime();
        }
    };
    Kinetic.Easings = {
        'BackEaseIn': function (t, b, c, d, a, p) {
            var s = 1.70158;
            return c * (t /= d) * t * ((s + 1) * t - s) + b;
        },
        'BackEaseOut': function (t, b, c, d, a, p) {
            var s = 1.70158;
            return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;
        },
        'BackEaseInOut': function (t, b, c, d, a, p) {
            var s = 1.70158;
            if ((t /= d / 2) < 1) {
                return c / 2 * (t * t * (((s *= 1.525) + 1) * t - s)) + b;
            }
            return c / 2 * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + b;
        },
        'ElasticEaseIn': function (t, b, c, d, a, p) {
            var s = 0;
            if (t === 0) {
                return b;
            }
            if ((t /= d) == 1) {
                return b + c;
            }
            if (!p) {
                p = d * 0.3;
            }
            if (!a || a < Math.abs(c)) {
                a = c;
                s = p / 4;
            } else {
                s = p / (2 * Math.PI) * Math.asin(c / a);
            }
            return -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;
        },
        'ElasticEaseOut': function (t, b, c, d, a, p) {
            var s = 0;
            if (t === 0) {
                return b;
            }
            if ((t /= d) == 1) {
                return b + c;
            }
            if (!p) {
                p = d * 0.3;
            }
            if (!a || a < Math.abs(c)) {
                a = c;
                s = p / 4;
            } else {
                s = p / (2 * Math.PI) * Math.asin(c / a);
            }
            return a * Math.pow(2, -10 * t) * Math.sin((t * d - s) * (2 * Math.PI) / p) + c + b;
        },
        'ElasticEaseInOut': function (t, b, c, d, a, p) {
            var s = 0;
            if (t === 0) {
                return b;
            }
            if ((t /= d / 2) == 2) {
                return b + c;
            }
            if (!p) {
                p = d * (0.3 * 1.5);
            }
            if (!a || a < Math.abs(c)) {
                a = c;
                s = p / 4;
            } else {
                s = p / (2 * Math.PI) * Math.asin(c / a);
            }
            if (t < 1) {
                return -0.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;
            }
            return a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p) * 0.5 + c + b;
        },
        'BounceEaseOut': function (t, b, c, d) {
            if ((t /= d) < 1 / 2.75) {
                return c * (7.5625 * t * t) + b;
            } else if (t < 2 / 2.75) {
                return c * (7.5625 * (t -= 1.5 / 2.75) * t + 0.75) + b;
            } else if (t < 2.5 / 2.75) {
                return c * (7.5625 * (t -= 2.25 / 2.75) * t + 0.9375) + b;
            } else {
                return c * (7.5625 * (t -= 2.625 / 2.75) * t + 0.984375) + b;
            }
        },
        'BounceEaseIn': function (t, b, c, d) {
            return c - Kinetic.Easings.BounceEaseOut(d - t, 0, c, d) + b;
        },
        'BounceEaseInOut': function (t, b, c, d) {
            if (t < d / 2) {
                return Kinetic.Easings.BounceEaseIn(t * 2, 0, c, d) * 0.5 + b;
            } else {
                return Kinetic.Easings.BounceEaseOut(t * 2 - d, 0, c, d) * 0.5 + c * 0.5 + b;
            }
        },
        'EaseIn': function (t, b, c, d) {
            return c * (t /= d) * t + b;
        },
        'EaseOut': function (t, b, c, d) {
            return -c * (t /= d) * (t - 2) + b;
        },
        'EaseInOut': function (t, b, c, d) {
            if ((t /= d / 2) < 1) {
                return c / 2 * t * t + b;
            }
            return -c / 2 * (--t * (t - 2) - 1) + b;
        },
        'StrongEaseIn': function (t, b, c, d) {
            return c * (t /= d) * t * t * t * t + b;
        },
        'StrongEaseOut': function (t, b, c, d) {
            return c * ((t = t / d - 1) * t * t * t * t + 1) + b;
        },
        'StrongEaseInOut': function (t, b, c, d) {
            if ((t /= d / 2) < 1) {
                return c / 2 * t * t * t * t * t + b;
            }
            return c / 2 * ((t -= 2) * t * t * t * t + 2) + b;
        },
        'Linear': function (t, b, c, d) {
            return c * t / d + b;
        }
    };
}());
;
(function () {
    Kinetic.DD = {
        anim: new Kinetic.Animation(),
        isDragging: false,
        offset: {
            x: 0,
            y: 0
        },
        node: null,
        _drag: function (evt) {
            var dd = Kinetic.DD, node = dd.node;
            if (node) {
                node._setDragPosition(evt);
                if (!dd.isDragging) {
                    dd.isDragging = true;
                    node.fire('dragstart', evt, true);
                }
                node.fire('dragmove', evt, true);
            }
        },
        _endDragBefore: function (evt) {
            var dd = Kinetic.DD, node = dd.node, nodeType, layer;
            if (node) {
                nodeType = node.nodeType, layer = node.getLayer();
                dd.anim.stop();
                if (dd.isDragging) {
                    dd.isDragging = false;
                    Kinetic.listenClickTap = false;
                    if (evt) {
                        evt.dragEndNode = node;
                    }
                }
                delete dd.node;
                (layer || node).draw();
            }
        },
        _endDragAfter: function (evt) {
            evt = evt || {};
            var dragEndNode = evt.dragEndNode;
            if (evt && dragEndNode) {
                dragEndNode.fire('dragend', evt, true);
            }
        }
    };
    Kinetic.Node.prototype.startDrag = function () {
        var dd = Kinetic.DD, stage = this.getStage(), layer = this.getLayer(), pos = stage.getPointerPosition(), ap = this.getAbsolutePosition();
        if (pos) {
            if (dd.node) {
                dd.node.stopDrag();
            }
            dd.node = this;
            dd.offset.x = pos.x - ap.x;
            dd.offset.y = pos.y - ap.y;
            dd.anim.setLayers(layer || this.getLayers());
            dd.anim.start();
            this._setDragPosition();
        }
    };
    Kinetic.Node.prototype._setDragPosition = function (evt) {
        var dd = Kinetic.DD, pos = this.getStage().getPointerPosition(), dbf = this.getDragBoundFunc(), newNodePos = {
                x: pos.x - dd.offset.x,
                y: pos.y - dd.offset.y
            };
        if (dbf !== undefined) {
            newNodePos = dbf.call(this, newNodePos, evt);
        }
        this.setAbsolutePosition(newNodePos);
    };
    Kinetic.Node.prototype.stopDrag = function () {
        var dd = Kinetic.DD, evt = {};
        dd._endDragBefore(evt);
        dd._endDragAfter(evt);
    };
    Kinetic.Node.prototype.setDraggable = function (draggable) {
        this._setAttr('draggable', draggable);
        this._dragChange();
    };
    var origDestroy = Kinetic.Node.prototype.destroy;
    Kinetic.Node.prototype.destroy = function () {
        var dd = Kinetic.DD;
        if (dd.node && dd.node._id === this._id) {
            this.stopDrag();
        }
        origDestroy.call(this);
    };
    Kinetic.Node.prototype.isDragging = function () {
        var dd = Kinetic.DD;
        return dd.node && dd.node._id === this._id && dd.isDragging;
    };
    Kinetic.Node.prototype._listenDrag = function () {
        this._dragCleanup();
        var that = this;
        this.on('mousedown.kinetic touchstart.kinetic', function (evt) {
            if (!Kinetic.DD.node) {
                that.startDrag(evt);
            }
        });
    };
    Kinetic.Node.prototype._dragChange = function () {
        if (this.attrs.draggable) {
            this._listenDrag();
        } else {
            this._dragCleanup();
            var stage = this.getStage();
            var dd = Kinetic.DD;
            if (stage && dd.node && dd.node._id === this._id) {
                dd.node.stopDrag();
            }
        }
    };
    Kinetic.Node.prototype._dragCleanup = function () {
        this.off('mousedown.kinetic');
        this.off('touchstart.kinetic');
    };
    Kinetic.Factory.addGetterSetter(Kinetic.Node, 'dragBoundFunc');
    Kinetic.Factory.addGetter(Kinetic.Node, 'draggable', false);
    Kinetic.Node.prototype.isDraggable = Kinetic.Node.prototype.getDraggable;
    var html = document.getElementsByTagName('html')[0];
    html.addEventListener('mouseup', Kinetic.DD._endDragBefore, true);
    html.addEventListener('touchend', Kinetic.DD._endDragBefore, true);
    html.addEventListener('mouseup', Kinetic.DD._endDragAfter, false);
    html.addEventListener('touchend', Kinetic.DD._endDragAfter, false);
}());
;
(function () {
    Kinetic.Util.addMethods(Kinetic.Container, {
        __init: function (config) {
            this.children = new Kinetic.Collection();
            Kinetic.Node.call(this, config);
        },
        getChildren: function () {
            return this.children;
        },
        hasChildren: function () {
            return this.getChildren().length > 0;
        },
        removeChildren: function () {
            var children = this.children, child;
            while (children.length > 0) {
                child = children[0];
                if (child.hasChildren()) {
                    child.removeChildren();
                }
                child.remove();
            }
            return this;
        },
        destroyChildren: function () {
            var children = this.children;
            while (children.length > 0) {
                children[0].destroy();
            }
            return this;
        },
        add: function (child) {
            var children = this.children;
            this._validateAdd(child);
            child.index = children.length;
            child.parent = this;
            children.push(child);
            this._fire('add', { child: child });
            return this;
        },
        destroy: function () {
            if (this.hasChildren()) {
                this.destroyChildren();
            }
            Kinetic.Node.prototype.destroy.call(this);
        },
        find: function (selector) {
            var retArr = [], selectorArr = selector.replace(/ /g, '').split(','), len = selectorArr.length, n, i, sel, arr, node, children, clen;
            for (n = 0; n < len; n++) {
                sel = selectorArr[n];
                if (sel.charAt(0) === '#') {
                    node = this._getNodeById(sel.slice(1));
                    if (node) {
                        retArr.push(node);
                    }
                } else if (sel.charAt(0) === '.') {
                    arr = this._getNodesByName(sel.slice(1));
                    retArr = retArr.concat(arr);
                } else {
                    children = this.getChildren();
                    clen = children.length;
                    for (i = 0; i < clen; i++) {
                        retArr = retArr.concat(children[i]._get(sel));
                    }
                }
            }
            return Kinetic.Collection.toCollection(retArr);
        },
        _getNodeById: function (key) {
            var node = Kinetic.ids[key];
            if (node !== undefined && this.isAncestorOf(node)) {
                return node;
            }
            return null;
        },
        _getNodesByName: function (key) {
            var arr = Kinetic.names[key] || [];
            return this._getDescendants(arr);
        },
        _get: function (selector) {
            var retArr = Kinetic.Node.prototype._get.call(this, selector);
            var children = this.getChildren();
            var len = children.length;
            for (var n = 0; n < len; n++) {
                retArr = retArr.concat(children[n]._get(selector));
            }
            return retArr;
        },
        toObject: function () {
            var obj = Kinetic.Node.prototype.toObject.call(this);
            obj.children = [];
            var children = this.getChildren();
            var len = children.length;
            for (var n = 0; n < len; n++) {
                var child = children[n];
                obj.children.push(child.toObject());
            }
            return obj;
        },
        _getDescendants: function (arr) {
            var retArr = [];
            var len = arr.length;
            for (var n = 0; n < len; n++) {
                var node = arr[n];
                if (this.isAncestorOf(node)) {
                    retArr.push(node);
                }
            }
            return retArr;
        },
        isAncestorOf: function (node) {
            var parent = node.getParent();
            while (parent) {
                if (parent._id === this._id) {
                    return true;
                }
                parent = parent.getParent();
            }
            return false;
        },
        clone: function (obj) {
            var node = Kinetic.Node.prototype.clone.call(this, obj);
            this.getChildren().each(function (no) {
                node.add(no.clone());
            });
            return node;
        },
        getAllIntersections: function () {
            var pos = Kinetic.Util._getXY(Array.prototype.slice.call(arguments));
            var arr = [];
            var shapes = this.find('Shape');
            var len = shapes.length;
            for (var n = 0; n < len; n++) {
                var shape = shapes[n];
                if (shape.isVisible() && shape.intersects(pos)) {
                    arr.push(shape);
                }
            }
            return arr;
        },
        _setChildrenIndices: function () {
            this.children.each(function (child, n) {
                child.index = n;
            });
        },
        drawScene: function (canvas) {
            var layer = this.getLayer(), clip = this.getClipWidth() && this.getClipHeight(), children, n, len;
            if (!canvas && layer) {
                canvas = layer.getCanvas();
            }
            if (this.isVisible()) {
                if (clip) {
                    canvas.getContext()._clip(this);
                } else {
                    this._drawChildren(canvas);
                }
            }
            return this;
        },
        _drawChildren: function (canvas) {
            this.children.each(function (child) {
                child.drawScene(canvas);
            });
        },
        drawHit: function () {
            var hasClip = this.getClipWidth() && this.getClipHeight() && this.nodeType !== 'Stage', n = 0, len = 0, children = [], hitCanvas;
            if (this.shouldDrawHit()) {
                if (hasClip) {
                    hitCanvas = this.getLayer().hitCanvas;
                    hitCanvas.getContext()._clip(this);
                }
                children = this.children;
                len = children.length;
                for (n = 0; n < len; n++) {
                    children[n].drawHit();
                }
                if (hasClip) {
                    hitCanvas.getContext()._context.restore();
                }
            }
            return this;
        }
    });
    Kinetic.Util.extend(Kinetic.Container, Kinetic.Node);
    Kinetic.Container.prototype.get = Kinetic.Container.prototype.find;
    Kinetic.Factory.addBoxGetterSetter(Kinetic.Container, 'clip');
}());
;
(function () {
    var HAS_SHADOW = 'hasShadow';
    function _fillFunc(context) {
        context.fill();
    }
    function _strokeFunc(context) {
        context.stroke();
    }
    function _fillFuncHit(context) {
        context.fill();
    }
    function _strokeFuncHit(context) {
        context.stroke();
    }
    function _clearHasShadowCache() {
        this._clearCache(HAS_SHADOW);
    }
    Kinetic.Util.addMethods(Kinetic.Shape, {
        __init: function (config) {
            this.nodeType = 'Shape';
            this._fillFunc = _fillFunc;
            this._strokeFunc = _strokeFunc;
            this._fillFuncHit = _fillFuncHit;
            this._strokeFuncHit = _strokeFuncHit;
            var shapes = Kinetic.shapes;
            var key;
            while (true) {
                key = Kinetic.Util.getRandomColor();
                if (key && !(key in shapes)) {
                    break;
                }
            }
            this.colorKey = key;
            shapes[key] = this;
            Kinetic.Node.call(this, config);
            this._setDrawFuncs();
            this.on('shadowColorChange.kinetic shadowBlurChange.kinetic shadowOffsetChange.kinetic shadowOpacityChange.kinetic', _clearHasShadowCache);
        },
        hasChildren: function () {
            return false;
        },
        getChildren: function () {
            return [];
        },
        getContext: function () {
            return this.getLayer().getContext();
        },
        getCanvas: function () {
            return this.getLayer().getCanvas();
        },
        hasShadow: function () {
            return this._getCache(HAS_SHADOW, this._hasShadow);
        },
        _hasShadow: function () {
            return this.getShadowOpacity() !== 0 && !!(this.getShadowColor() || this.getShadowBlur() || this.getShadowOffsetX() || this.getShadowOffsetY());
        },
        hasFill: function () {
            return !!(this.getFill() || this.getFillPatternImage() || this.getFillLinearGradientColorStops() || this.getFillRadialGradientColorStops());
        },
        _get: function (selector) {
            return this.className === selector || this.nodeType === selector ? [this] : [];
        },
        intersects: function () {
            var pos = Kinetic.Util._getXY(Array.prototype.slice.call(arguments));
            var stage = this.getStage();
            var hitCanvas = stage.hitCanvas;
            hitCanvas.getContext().clear();
            this.drawScene(hitCanvas);
            var p = hitCanvas.context.getImageData(pos.x | 0, pos.y | 0, 1, 1).data;
            return p[3] > 0;
        },
        enableFill: function () {
            this._setAttr('fillEnabled', true);
            return this;
        },
        disableFill: function () {
            this._setAttr('fillEnabled', false);
            return this;
        },
        enableStroke: function () {
            this._setAttr('strokeEnabled', true);
            return this;
        },
        disableStroke: function () {
            this._setAttr('strokeEnabled', false);
            return this;
        },
        enableStrokeScale: function () {
            this._setAttr('strokeScaleEnabled', true);
            return this;
        },
        disableStrokeScale: function () {
            this._setAttr('strokeScaleEnabled', false);
            return this;
        },
        enableShadow: function () {
            this._setAttr('shadowEnabled', true);
            return this;
        },
        disableShadow: function () {
            this._setAttr('shadowEnabled', false);
            return this;
        },
        enableDashArray: function () {
            this._setAttr('dashArrayEnabled', true);
            return this;
        },
        disableDashArray: function () {
            this._setAttr('dashArrayEnabled', false);
            return this;
        },
        destroy: function () {
            Kinetic.Node.prototype.destroy.call(this);
            delete Kinetic.shapes[this.colorKey];
            return this;
        },
        drawScene: function (canvas) {
            canvas = canvas || this.getLayer().getCanvas();
            var drawFunc = this.getDrawFunc(), context = canvas.getContext();
            if (drawFunc && this.isVisible()) {
                context.save();
                context._applyOpacity(this);
                context._applyLineJoin(this);
                context._applyAncestorTransforms(this);
                drawFunc.call(this, context);
                context.restore();
            }
            return this;
        },
        drawHit: function () {
            var attrs = this.getAttrs(), drawFunc = attrs.drawHitFunc || attrs.drawFunc, canvas = this.getLayer().hitCanvas, context = canvas.getContext();
            if (drawFunc && this.shouldDrawHit()) {
                context.save();
                context._applyLineJoin(this);
                context._applyAncestorTransforms(this);
                drawFunc.call(this, context);
                context.restore();
            }
            return this;
        },
        _setDrawFuncs: function () {
            if (!this.attrs.drawFunc && this.drawFunc) {
                this.setDrawFunc(this.drawFunc);
            }
            if (!this.attrs.drawHitFunc && this.drawHitFunc) {
                this.setDrawHitFunc(this.drawHitFunc);
            }
        }
    });
    Kinetic.Util.extend(Kinetic.Shape, Kinetic.Node);
    Kinetic.Factory.addColorGetterSetter(Kinetic.Shape, 'stroke');
    Kinetic.Factory.addGetterSetter(Kinetic.Shape, 'lineJoin');
    Kinetic.Factory.addGetterSetter(Kinetic.Shape, 'lineCap');
    Kinetic.Factory.addGetterSetter(Kinetic.Shape, 'strokeWidth');
    Kinetic.Factory.addGetterSetter(Kinetic.Shape, 'drawFunc');
    Kinetic.Factory.addGetterSetter(Kinetic.Shape, 'drawHitFunc');
    Kinetic.Factory.addGetterSetter(Kinetic.Shape, 'dashArray');
    Kinetic.Factory.addColorGetterSetter(Kinetic.Shape, 'shadowColor');
    Kinetic.Factory.addGetterSetter(Kinetic.Shape, 'shadowBlur');
    Kinetic.Factory.addGetterSetter(Kinetic.Shape, 'shadowOpacity');
    Kinetic.Factory.addGetterSetter(Kinetic.Shape, 'fillPatternImage');
    Kinetic.Factory.addColorGetterSetter(Kinetic.Shape, 'fill');
    Kinetic.Factory.addGetterSetter(Kinetic.Shape, 'fillPatternX');
    Kinetic.Factory.addGetterSetter(Kinetic.Shape, 'fillPatternY');
    Kinetic.Factory.addGetterSetter(Kinetic.Shape, 'fillLinearGradientColorStops');
    Kinetic.Factory.addGetterSetter(Kinetic.Shape, 'fillRadialGradientStartRadius');
    Kinetic.Factory.addGetterSetter(Kinetic.Shape, 'fillRadialGradientEndRadius');
    Kinetic.Factory.addGetterSetter(Kinetic.Shape, 'fillRadialGradientColorStops');
    Kinetic.Factory.addGetterSetter(Kinetic.Shape, 'fillPatternRepeat');
    Kinetic.Factory.addGetterSetter(Kinetic.Shape, 'fillEnabled', true);
    Kinetic.Factory.addGetterSetter(Kinetic.Shape, 'strokeEnabled', true);
    Kinetic.Factory.addGetterSetter(Kinetic.Shape, 'shadowEnabled', true);
    Kinetic.Factory.addGetterSetter(Kinetic.Shape, 'dashArrayEnabled', true);
    Kinetic.Factory.addGetterSetter(Kinetic.Shape, 'fillPriority', 'color');
    Kinetic.Factory.addGetterSetter(Kinetic.Shape, 'strokeScaleEnabled', true);
    Kinetic.Factory.addPointGetterSetter(Kinetic.Shape, 'fillPatternOffset', 0);
    Kinetic.Factory.addPointGetterSetter(Kinetic.Shape, 'fillPatternScale', 1);
    Kinetic.Factory.addPointGetterSetter(Kinetic.Shape, 'fillLinearGradientStartPoint', 0);
    Kinetic.Factory.addPointGetterSetter(Kinetic.Shape, 'fillLinearGradientEndPoint', 0);
    Kinetic.Factory.addPointGetterSetter(Kinetic.Shape, 'fillRadialGradientStartPoint', 0);
    Kinetic.Factory.addPointGetterSetter(Kinetic.Shape, 'fillRadialGradientEndPoint', 0);
    Kinetic.Factory.addPointGetterSetter(Kinetic.Shape, 'shadowOffset', 0);
    Kinetic.Factory.addRotationGetterSetter(Kinetic.Shape, 'fillPatternRotation', 0);
}());
;
(function () {
    var STAGE = 'Stage', STRING = 'string', PX = 'px', MOUSEOUT = 'mouseout', MOUSELEAVE = 'mouseleave', MOUSEOVER = 'mouseover', MOUSEENTER = 'mouseenter', MOUSEMOVE = 'mousemove', MOUSEDOWN = 'mousedown', MOUSEUP = 'mouseup', CLICK = 'click', DBL_CLICK = 'dblclick', TOUCHSTART = 'touchstart', TOUCHEND = 'touchend', TAP = 'tap', DBL_TAP = 'dbltap', TOUCHMOVE = 'touchmove', CONTENT_MOUSEOUT = 'contentMouseout', CONTENT_MOUSELEAVE = 'contentMouseleave', CONTENT_MOUSEOVER = 'contentMouseover', CONTENT_MOUSEENTER = 'contentMouseenter', CONTENT_MOUSEMOVE = 'contentMousemove', CONTENT_MOUSEDOWN = 'contentMousedown', CONTENT_MOUSEUP = 'contentMouseup', CONTENT_CLICK = 'contentClick', CONTENT_DBL_CLICK = 'contentDblclick', CONTENT_TOUCHSTART = 'contentTouchstart', CONTENT_TOUCHEND = 'contentTouchend', CONTENT_TAP = 'contentTap', CONTENT_DBL_TAP = 'contentDbltap', CONTENT_TOUCHMOVE = 'contentTouchmove', DIV = 'div', RELATIVE = 'relative', INLINE_BLOCK = 'inline-block', KINETICJS_CONTENT = 'kineticjs-content', SPACE = ' ', UNDERSCORE = '_', CONTAINER = 'container', EMPTY_STRING = '', EVENTS = [
            MOUSEDOWN,
            MOUSEMOVE,
            MOUSEUP,
            MOUSEOUT,
            TOUCHSTART,
            TOUCHMOVE,
            TOUCHEND,
            MOUSEOVER
        ], eventsLength = EVENTS.length;
    function addEvent(ctx, eventName) {
        ctx.content.addEventListener(eventName, function (evt) {
            ctx[UNDERSCORE + eventName](evt);
        }, false);
    }
    Kinetic.Util.addMethods(Kinetic.Stage, {
        ___init: function (config) {
            Kinetic.Container.call(this, config);
            this.nodeType = STAGE;
            this._id = Kinetic.idCounter++;
            this._buildDOM();
            this._bindContentEvents();
            Kinetic.stages.push(this);
        },
        _validateAdd: function (child) {
            if (child.getType() !== 'Layer') {
                Kinetic.Util.error('You may only add layers to the stage.');
            }
        },
        setContainer: function (container) {
            if (typeof container === STRING) {
                container = document.getElementById(container);
            }
            this._setAttr(CONTAINER, container);
            return this;
        },
        draw: function () {
            Kinetic.Node.prototype.draw.call(this);
            return this;
        },
        setHeight: function (height) {
            Kinetic.Node.prototype.setHeight.call(this, height);
            this._resizeDOM();
            return this;
        },
        setWidth: function (width) {
            Kinetic.Node.prototype.setWidth.call(this, width);
            this._resizeDOM();
            return this;
        },
        clear: function () {
            var layers = this.children, len = layers.length, n;
            for (n = 0; n < len; n++) {
                layers[n].clear();
            }
            return this;
        },
        destroy: function () {
            var content = this.content;
            Kinetic.Container.prototype.destroy.call(this);
            if (content && Kinetic.Util._isInDocument(content)) {
                this.getContainer().removeChild(content);
            }
        },
        getMousePosition: function () {
            return this.mousePos;
        },
        getTouchPosition: function () {
            return this.touchPos;
        },
        getPointerPosition: function () {
            return this.getTouchPosition() || this.getMousePosition();
        },
        getStage: function () {
            return this;
        },
        getContent: function () {
            return this.content;
        },
        toDataURL: function (config) {
            config = config || {};
            var mimeType = config.mimeType || null, quality = config.quality || null, x = config.x || 0, y = config.y || 0, canvas = new Kinetic.SceneCanvas({
                    width: config.width || this.getWidth(),
                    height: config.height || this.getHeight(),
                    pixelRatio: 1
                }), _context = canvas.getContext()._context, layers = this.children;
            if (x || y) {
                _context.translate(-1 * x, -1 * y);
            }
            function drawLayer(n) {
                var layer = layers[n], layerUrl = layer.toDataURL(), imageObj = new Image();
                imageObj.onload = function () {
                    _context.drawImage(imageObj, 0, 0);
                    if (n < layers.length - 1) {
                        drawLayer(n + 1);
                    } else {
                        config.callback(canvas.toDataURL(mimeType, quality));
                    }
                };
                imageObj.src = layerUrl;
            }
            drawLayer(0);
        },
        toImage: function (config) {
            var cb = config.callback;
            config.callback = function (dataUrl) {
                Kinetic.Util._getImage(dataUrl, function (img) {
                    cb(img);
                });
            };
            this.toDataURL(config);
        },
        getIntersection: function () {
            var pos = Kinetic.Util._getXY(Array.prototype.slice.call(arguments)), layers = this.getChildren(), len = layers.length, end = len - 1, n, obj;
            for (n = end; n >= 0; n--) {
                obj = layers[n].getIntersection(pos);
                if (obj) {
                    return obj;
                }
            }
            return null;
        },
        _resizeDOM: function () {
            if (this.content) {
                var width = this.getWidth(), height = this.getHeight(), layers = this.getChildren(), len = layers.length, n, layer;
                this.content.style.width = width + PX;
                this.content.style.height = height + PX;
                this.bufferCanvas.setSize(width, height, 1);
                this.hitCanvas.setSize(width, height);
                for (n = 0; n < len; n++) {
                    layer = layers[n];
                    layer.getCanvas().setSize(width, height);
                    layer.hitCanvas.setSize(width, height);
                    layer.draw();
                }
            }
        },
        add: function (layer) {
            Kinetic.Container.prototype.add.call(this, layer);
            layer.canvas.setSize(this.attrs.width, this.attrs.height);
            layer.hitCanvas.setSize(this.attrs.width, this.attrs.height);
            layer.draw();
            this.content.appendChild(layer.canvas._canvas);
            return this;
        },
        getParent: function () {
            return null;
        },
        getLayer: function () {
            return null;
        },
        getLayers: function () {
            return this.getChildren();
        },
        _setPointerPosition: function (evt) {
            if (!evt) {
                evt = window.event;
            }
            this._setMousePosition(evt);
            this._setTouchPosition(evt);
        },
        _bindContentEvents: function () {
            var that = this, n;
            for (n = 0; n < eventsLength; n++) {
                addEvent(this, EVENTS[n]);
            }
        },
        _mouseover: function (evt) {
            this._fire(CONTENT_MOUSEOVER, evt);
        },
        _mouseout: function (evt) {
            this._setPointerPosition(evt);
            var targetShape = this.targetShape;
            if (targetShape && !Kinetic.isDragging()) {
                targetShape._fireAndBubble(MOUSEOUT, evt);
                targetShape._fireAndBubble(MOUSELEAVE, evt);
                this.targetShape = null;
            }
            this.mousePos = undefined;
            this._fire(CONTENT_MOUSEOUT, evt);
        },
        _mousemove: function (evt) {
            this._setPointerPosition(evt);
            var dd = Kinetic.DD, obj = this.getIntersection(this.getPointerPosition()), shape = obj && obj.shape ? obj.shape : undefined;
            if (shape) {
                if (!Kinetic.isDragging() && obj.pixel[3] === 255 && (!this.targetShape || this.targetShape._id !== shape._id)) {
                    if (this.targetShape) {
                        this.targetShape._fireAndBubble(MOUSEOUT, evt, shape);
                        this.targetShape._fireAndBubble(MOUSELEAVE, evt, shape);
                    }
                    shape._fireAndBubble(MOUSEOVER, evt, this.targetShape);
                    shape._fireAndBubble(MOUSEENTER, evt, this.targetShape);
                    this.targetShape = shape;
                } else {
                    shape._fireAndBubble(MOUSEMOVE, evt);
                }
            } else {
                if (this.targetShape && !Kinetic.isDragging()) {
                    this.targetShape._fireAndBubble(MOUSEOUT, evt);
                    this.targetShape._fireAndBubble(MOUSELEAVE, evt);
                    this.targetShape = null;
                }
            }
            this._fire(CONTENT_MOUSEMOVE, evt);
            if (dd) {
                dd._drag(evt);
            }
            if (evt.preventDefault) {
                evt.preventDefault();
            }
        },
        _mousedown: function (evt) {
            this._setPointerPosition(evt);
            var obj = this.getIntersection(this.getPointerPosition()), shape = obj && obj.shape ? obj.shape : undefined;
            Kinetic.listenClickTap = true;
            if (shape) {
                this.clickStartShape = shape;
                shape._fireAndBubble(MOUSEDOWN, evt);
            }
            this._fire(CONTENT_MOUSEDOWN);
            if (evt.preventDefault) {
                evt.preventDefault();
            }
        },
        _mouseup: function (evt) {
            this._setPointerPosition(evt);
            var that = this, obj = this.getIntersection(this.getPointerPosition()), shape = obj && obj.shape ? obj.shape : undefined, fireDblClick = false;
            if (Kinetic.inDblClickWindow) {
                fireDblClick = true;
                Kinetic.inDblClickWindow = false;
            } else {
                Kinetic.inDblClickWindow = true;
            }
            setTimeout(function () {
                Kinetic.inDblClickWindow = false;
            }, Kinetic.dblClickWindow);
            if (shape) {
                shape._fireAndBubble(MOUSEUP, evt);
                if (Kinetic.listenClickTap && shape._id === this.clickStartShape._id) {
                    shape._fireAndBubble(CLICK, evt);
                    if (fireDblClick) {
                        shape._fireAndBubble(DBL_CLICK, evt);
                    }
                }
            }
            this._fire(CONTENT_MOUSEUP);
            if (Kinetic.listenClickTap) {
                this._fire(CONTENT_CLICK, evt);
                if (fireDblClick) {
                    this._fire(CONTENT_DBL_CLICK, evt);
                }
            }
            Kinetic.listenClickTap = false;
            if (evt.preventDefault) {
                evt.preventDefault();
            }
        },
        _touchstart: function (evt) {
            this._setPointerPosition(evt);
            var obj = this.getIntersection(this.getPointerPosition()), shape = obj && obj.shape ? obj.shape : undefined;
            Kinetic.listenClickTap = true;
            if (shape) {
                this.tapStartShape = shape;
                shape._fireAndBubble(TOUCHSTART, evt);
                if (shape.isListening() && evt.preventDefault) {
                    evt.preventDefault();
                }
            }
            this._fire(CONTENT_TOUCHSTART, evt);
        },
        _touchend: function (evt) {
            this._setPointerPosition(evt);
            var that = this, obj = this.getIntersection(this.getPointerPosition()), shape = obj && obj.shape ? obj.shape : undefined, fireDblClick = false;
            if (Kinetic.inDblClickWindow) {
                fireDblClick = true;
                Kinetic.inDblClickWindow = false;
            } else {
                Kinetic.inDblClickWindow = true;
            }
            setTimeout(function () {
                Kinetic.inDblClickWindow = false;
            }, Kinetic.dblClickWindow);
            if (shape) {
                shape._fireAndBubble(TOUCHEND, evt);
                if (Kinetic.listenClickTap && shape._id === this.tapStartShape._id) {
                    shape._fireAndBubble(TAP, evt);
                    if (fireDblClick) {
                        shape._fireAndBubble(DBL_TAP, evt);
                    }
                }
                if (shape.isListening() && evt.preventDefault) {
                    evt.preventDefault();
                }
            }
            if (Kinetic.listenClickTap) {
                this._fire(CONTENT_TOUCHEND, evt);
                if (fireDblClick) {
                    this._fire(CONTENT_DBL_TAP, evt);
                }
            }
            Kinetic.listenClickTap = false;
        },
        _touchmove: function (evt) {
            this._setPointerPosition(evt);
            var dd = Kinetic.DD, obj = this.getIntersection(this.getPointerPosition()), shape = obj && obj.shape ? obj.shape : undefined;
            if (shape) {
                shape._fireAndBubble(TOUCHMOVE, evt);
                if (shape.isListening() && evt.preventDefault) {
                    evt.preventDefault();
                }
            }
            this._fire(CONTENT_TOUCHMOVE, evt);
            if (dd) {
                dd._drag(evt);
            }
        },
        _setMousePosition: function (evt) {
            var mouseX = evt.offsetX !== undefined ? evt.offsetX : evt.layerX || evt.clientX - this._getContentPosition().left, mouseY = evt.offsetY !== undefined ? evt.offsetY : evt.layerY || evt.clientY - this._getContentPosition().top;
            this.mousePos = {
                x: mouseX,
                y: mouseY
            };
        },
        _setTouchPosition: function (evt) {
            var touch, touchX, touchY;
            if (evt.touches !== undefined && evt.touches.length === 1) {
                touch = evt.touches[0];
                touchX = touch.clientX - this._getContentPosition().left;
                touchY = touch.clientY - this._getContentPosition().top;
                this.touchPos = {
                    x: touchX,
                    y: touchY
                };
            }
        },
        _getContentPosition: function () {
            var rect = this.content.getBoundingClientRect();
            return {
                top: rect.top,
                left: rect.left
            };
        },
        _buildDOM: function () {
            var container = this.getContainer();
            container.innerHTML = EMPTY_STRING;
            this.content = document.createElement(DIV);
            this.content.style.position = RELATIVE;
            this.content.style.display = INLINE_BLOCK;
            this.content.className = KINETICJS_CONTENT;
            container.appendChild(this.content);
            this.bufferCanvas = new Kinetic.SceneCanvas();
            this.hitCanvas = new Kinetic.HitCanvas();
            this._resizeDOM();
        },
        _onContent: function (typesStr, handler) {
            var types = typesStr.split(SPACE), len = types.length, n, baseEvent;
            for (n = 0; n < len; n++) {
                baseEvent = types[n];
                this.content.addEventListener(baseEvent, handler, false);
            }
        }
    });
    Kinetic.Util.extend(Kinetic.Stage, Kinetic.Container);
    Kinetic.Factory.addGetter(Kinetic.Stage, 'container');
}());
;
(function () {
    var HASH = '#', BEFORE_DRAW = 'beforeDraw', DRAW = 'draw';
    Kinetic.Util.addMethods(Kinetic.Layer, {
        ___init: function (config) {
            this.nodeType = 'Layer';
            this.canvas = new Kinetic.SceneCanvas();
            this.hitCanvas = new Kinetic.HitCanvas();
            Kinetic.Container.call(this, config);
        },
        _validateAdd: function (child) {
            var type = child.getType();
            if (type !== 'Group' && type !== 'Shape') {
                Kinetic.Util.error('You may only add groups and shapes to a layer.');
            }
        },
        getIntersection: function () {
            var pos = Kinetic.Util._getXY(Array.prototype.slice.call(arguments)), p, colorKey, shape;
            if (this.isVisible() && this.isListening()) {
                p = this.hitCanvas.context._context.getImageData(pos.x | 0, pos.y | 0, 1, 1).data;
                if (p[3] === 255) {
                    colorKey = Kinetic.Util._rgbToHex(p[0], p[1], p[2]);
                    shape = Kinetic.shapes[HASH + colorKey];
                    return {
                        shape: shape,
                        pixel: p
                    };
                } else if (p[0] > 0 || p[1] > 0 || p[2] > 0 || p[3] > 0) {
                    return { pixel: p };
                }
            }
            return null;
        },
        drawScene: function (canvas) {
            canvas = canvas || this.getCanvas();
            this._fire(BEFORE_DRAW, { node: this });
            if (this.getClearBeforeDraw()) {
                canvas.getContext().clear();
            }
            Kinetic.Container.prototype.drawScene.call(this, canvas);
            this._fire(DRAW, { node: this });
            return this;
        },
        drawHit: function () {
            var layer = this.getLayer();
            if (layer && layer.getClearBeforeDraw()) {
                layer.getHitCanvas().getContext().clear();
            }
            Kinetic.Container.prototype.drawHit.call(this);
            return this;
        },
        getCanvas: function () {
            return this.canvas;
        },
        getHitCanvas: function () {
            return this.hitCanvas;
        },
        getContext: function () {
            return this.getCanvas().getContext();
        },
        clear: function () {
            var context = this.getContext(), hitContext = this.getHitCanvas().getContext();
            context.clear.apply(context, arguments);
            hitContext.clear.apply(hitContext, arguments);
            return this;
        },
        setVisible: function (visible) {
            Kinetic.Node.prototype.setVisible.call(this, visible);
            if (visible) {
                this.getCanvas()._canvas.style.display = 'block';
                this.hitCanvas._canvas.style.display = 'block';
            } else {
                this.getCanvas()._canvas.style.display = 'none';
                this.hitCanvas._canvas.style.display = 'none';
            }
            return this;
        },
        setZIndex: function (index) {
            Kinetic.Node.prototype.setZIndex.call(this, index);
            var stage = this.getStage();
            if (stage) {
                stage.content.removeChild(this.getCanvas()._canvas);
                if (index < stage.getChildren().length - 1) {
                    stage.content.insertBefore(this.getCanvas()._canvas, stage.getChildren()[index + 1].getCanvas()._canvas);
                } else {
                    stage.content.appendChild(this.getCanvas()._canvas);
                }
            }
            return this;
        },
        moveToTop: function () {
            Kinetic.Node.prototype.moveToTop.call(this);
            var stage = this.getStage();
            if (stage) {
                stage.content.removeChild(this.getCanvas()._canvas);
                stage.content.appendChild(this.getCanvas()._canvas);
            }
        },
        moveUp: function () {
            if (Kinetic.Node.prototype.moveUp.call(this)) {
                var stage = this.getStage();
                if (stage) {
                    stage.content.removeChild(this.getCanvas()._canvas);
                    if (this.index < stage.getChildren().length - 1) {
                        stage.content.insertBefore(this.getCanvas()._canvas, stage.getChildren()[this.index + 1].getCanvas()._canvas);
                    } else {
                        stage.content.appendChild(this.getCanvas()._canvas);
                    }
                }
            }
        },
        moveDown: function () {
            if (Kinetic.Node.prototype.moveDown.call(this)) {
                var stage = this.getStage();
                if (stage) {
                    var children = stage.getChildren();
                    stage.content.removeChild(this.getCanvas()._canvas);
                    stage.content.insertBefore(this.getCanvas()._canvas, children[this.index + 1].getCanvas()._canvas);
                }
            }
        },
        moveToBottom: function () {
            if (Kinetic.Node.prototype.moveToBottom.call(this)) {
                var stage = this.getStage();
                if (stage) {
                    var children = stage.getChildren();
                    stage.content.removeChild(this.getCanvas()._canvas);
                    stage.content.insertBefore(this.getCanvas()._canvas, children[1].getCanvas()._canvas);
                }
            }
        },
        getLayer: function () {
            return this;
        },
        remove: function () {
            var stage = this.getStage(), canvas = this.getCanvas(), _canvas = canvas._canvas;
            Kinetic.Node.prototype.remove.call(this);
            if (stage && _canvas && Kinetic.Util._isInDocument(_canvas)) {
                stage.content.removeChild(_canvas);
            }
            return this;
        },
        getStage: function () {
            return this.parent;
        }
    });
    Kinetic.Util.extend(Kinetic.Layer, Kinetic.Container);
    Kinetic.Factory.addGetterSetter(Kinetic.Layer, 'clearBeforeDraw', true);
}());
;
(function () {
    Kinetic.Util.addMethods(Kinetic.Group, {
        ___init: function (config) {
            this.nodeType = 'Group';
            Kinetic.Container.call(this, config);
        },
        _validateAdd: function (child) {
            var type = child.getType();
            if (type !== 'Group' && type !== 'Shape') {
                Kinetic.Util.error('You may only add groups and shapes to groups.');
            }
        }
    });
    Kinetic.Util.extend(Kinetic.Group, Kinetic.Container);
}());
;
(function () {
    Kinetic.Rect = function (config) {
        this.___init(config);
    };
    Kinetic.Rect.prototype = {
        ___init: function (config) {
            Kinetic.Shape.call(this, config);
            this.className = 'Rect';
        },
        drawFunc: function (context) {
            var cornerRadius = this.getCornerRadius(), width = this.getWidth(), height = this.getHeight();
            context.beginPath();
            if (!cornerRadius) {
                context.rect(0, 0, width, height);
            } else {
                context.moveTo(cornerRadius, 0);
                context.lineTo(width - cornerRadius, 0);
                context.arc(width - cornerRadius, cornerRadius, cornerRadius, Math.PI * 3 / 2, 0, false);
                context.lineTo(width, height - cornerRadius);
                context.arc(width - cornerRadius, height - cornerRadius, cornerRadius, 0, Math.PI / 2, false);
                context.lineTo(cornerRadius, height);
                context.arc(cornerRadius, height - cornerRadius, cornerRadius, Math.PI / 2, Math.PI, false);
                context.lineTo(0, cornerRadius);
                context.arc(cornerRadius, cornerRadius, cornerRadius, Math.PI, Math.PI * 3 / 2, false);
            }
            context.closePath();
            context.fillStrokeShape(this);
        }
    };
    Kinetic.Util.extend(Kinetic.Rect, Kinetic.Shape);
    Kinetic.Factory.addGetterSetter(Kinetic.Rect, 'cornerRadius', 0);
}());
;
(function () {
    var PIx2 = Math.PI * 2 - 0.0001, CIRCLE = 'Circle';
    Kinetic.Circle = function (config) {
        this.___init(config);
    };
    Kinetic.Circle.prototype = {
        ___init: function (config) {
            Kinetic.Shape.call(this, config);
            this.className = CIRCLE;
        },
        drawFunc: function (context) {
            context.beginPath();
            context.arc(0, 0, this.getRadius(), 0, PIx2, false);
            context.closePath();
            context.fillStrokeShape(this);
        },
        getWidth: function () {
            return this.getRadius() * 2;
        },
        getHeight: function () {
            return this.getRadius() * 2;
        },
        setWidth: function (width) {
            Kinetic.Node.prototype.setWidth.call(this, width);
            this.setRadius(width / 2);
        },
        setHeight: function (height) {
            Kinetic.Node.prototype.setHeight.call(this, height);
            this.setRadius(height / 2);
        }
    };
    Kinetic.Util.extend(Kinetic.Circle, Kinetic.Shape);
    Kinetic.Factory.addGetterSetter(Kinetic.Circle, 'radius', 0);
}());
;
(function () {
    var PIx2 = Math.PI * 2 - 0.0001, ELLIPSE = 'Ellipse';
    Kinetic.Ellipse = function (config) {
        this.___init(config);
    };
    Kinetic.Ellipse.prototype = {
        ___init: function (config) {
            Kinetic.Shape.call(this, config);
            this.className = ELLIPSE;
        },
        drawFunc: function (context) {
            var r = this.getRadius();
            context.beginPath();
            context.save();
            if (r.x !== r.y) {
                context.scale(1, r.y / r.x);
            }
            context.arc(0, 0, r.x, 0, PIx2, false);
            context.restore();
            context.closePath();
            context.fillStrokeShape(this);
        },
        getWidth: function () {
            return this.getRadius().x * 2;
        },
        getHeight: function () {
            return this.getRadius().y * 2;
        },
        setWidth: function (width) {
            Kinetic.Node.prototype.setWidth.call(this, width);
            this.setRadius({ x: width / 2 });
        },
        setHeight: function (height) {
            Kinetic.Node.prototype.setHeight.call(this, height);
            this.setRadius({ y: height / 2 });
        }
    };
    Kinetic.Util.extend(Kinetic.Ellipse, Kinetic.Shape);
    Kinetic.Factory.addPointGetterSetter(Kinetic.Ellipse, 'radius', 0);
}());
;
(function () {
    Kinetic.Wedge = function (config) {
        this.___init(config);
    };
    Kinetic.Wedge.prototype = {
        ___init: function (config) {
            Kinetic.Shape.call(this, config);
            this.className = 'Wedge';
        },
        drawFunc: function (context) {
            context.beginPath();
            context.arc(0, 0, this.getRadius(), 0, this.getAngle(), this.getClockwise());
            context.lineTo(0, 0);
            context.closePath();
            context.fillStrokeShape(this);
        }
    };
    Kinetic.Util.extend(Kinetic.Wedge, Kinetic.Shape);
    Kinetic.Factory.addGetterSetter(Kinetic.Wedge, 'radius', 0);
    Kinetic.Factory.addRotationGetterSetter(Kinetic.Wedge, 'angle', 0);
    Kinetic.Factory.addGetterSetter(Kinetic.Wedge, 'clockwise', false);
}());
;
(function () {
    var IMAGE = 'Image', CROP = 'crop', SET = 'set';
    Kinetic.Image = function (config) {
        this.___init(config);
    };
    Kinetic.Image.prototype = {
        ___init: function (config) {
            var that = this;
            Kinetic.Shape.call(this, config);
            this.className = IMAGE;
        },
        drawFunc: function (context) {
            var width = this.getWidth(), height = this.getHeight(), params, that = this, cropX = this.getCropX() || 0, cropY = this.getCropY() || 0, cropWidth = this.getCropWidth(), cropHeight = this.getCropHeight(), image;
            if (this.getFilter() && this._applyFilter) {
                this.applyFilter();
                this._applyFilter = false;
            }
            if (this.filterCanvas) {
                image = this.filterCanvas._canvas;
            } else {
                image = this.getImage();
            }
            context.beginPath();
            context.rect(0, 0, width, height);
            context.closePath();
            context.fillStrokeShape(this);
            if (image) {
                if (cropWidth && cropHeight) {
                    params = [
                        image,
                        cropX,
                        cropY,
                        cropWidth,
                        cropHeight,
                        0,
                        0,
                        width,
                        height
                    ];
                } else {
                    params = [
                        image,
                        0,
                        0,
                        width,
                        height
                    ];
                }
                if (this.hasShadow()) {
                    context.applyShadow(this, function () {
                        context.drawImage.apply(context, params);
                    });
                } else {
                    context.drawImage.apply(context, params);
                }
            }
        },
        drawHitFunc: function (context) {
            var width = this.getWidth(), height = this.getHeight(), imageHitRegion = this.imageHitRegion;
            if (imageHitRegion) {
                context.drawImage(imageHitRegion, 0, 0, width, height);
                context.beginPath();
                context.rect(0, 0, width, height);
                context.closePath();
                context.strokeShape(this);
            } else {
                context.beginPath();
                context.rect(0, 0, width, height);
                context.closePath();
                context.fillStrokeShape(this);
            }
        },
        applyFilter: function () {
            var image = this.getImage(), that = this, width = this.getWidth(), height = this.getHeight(), filter = this.getFilter(), filterCanvas, context, imageData;
            if (this.filterCanvas) {
                filterCanvas = this.filterCanvas;
                filterCanvas.getContext().clear();
            } else {
                filterCanvas = this.filterCanvas = new Kinetic.SceneCanvas({
                    width: width,
                    height: height,
                    pixelRatio: 1
                });
            }
            context = filterCanvas.getContext();
            try {
                context.drawImage(image, 0, 0, filterCanvas.getWidth(), filterCanvas.getHeight());
                imageData = context.getImageData(0, 0, filterCanvas.getWidth(), filterCanvas.getHeight());
                filter.call(this, imageData);
                context.putImageData(imageData, 0, 0);
            } catch (e) {
                this.clearFilter();
                Kinetic.Util.warn('Unable to apply filter. ' + e.message);
            }
        },
        clearFilter: function () {
            this.filterCanvas = null;
            this._applyFilter = false;
        },
        createImageHitRegion: function (callback) {
            var that = this, width = this.getWidth(), height = this.getHeight(), canvas = new Kinetic.SceneCanvas({
                    width: width,
                    height: height
                }), _context = canvas.getContext()._context, image = this.getImage(), imageData, data, rgbColorKey, i, len;
            _context.drawImage(image, 0, 0);
            try {
                imageData = _context.getImageData(0, 0, width, height);
                data = imageData.data;
                len = data.length;
                rgbColorKey = Kinetic.Util._hexToRgb(this.colorKey);
                for (i = 0; i < len; i += 4) {
                    if (data[i + 3] > 0) {
                        data[i] = rgbColorKey.r;
                        data[i + 1] = rgbColorKey.g;
                        data[i + 2] = rgbColorKey.b;
                    }
                }
                Kinetic.Util._getImage(imageData, function (imageObj) {
                    that.imageHitRegion = imageObj;
                    if (callback) {
                        callback();
                    }
                });
            } catch (e) {
                Kinetic.Util.warn('Unable to create image hit region. ' + e.message);
            }
        },
        clearImageHitRegion: function () {
            delete this.imageHitRegion;
        },
        getWidth: function () {
            var image = this.getImage();
            return this.attrs.width || (image ? image.width : 0);
        },
        getHeight: function () {
            var image = this.getImage();
            return this.attrs.height || (image ? image.height : 0);
        }
    };
    Kinetic.Util.extend(Kinetic.Image, Kinetic.Shape);
    Kinetic.Factory.addFilterGetterSetter = function (constructor, attr, def) {
        this.addGetter(constructor, attr, def);
        this.addFilterSetter(constructor, attr);
    };
    Kinetic.Factory.addFilterSetter = function (constructor, attr) {
        var that = this, method = SET + Kinetic.Util._capitalize(attr);
        constructor.prototype[method] = function (val) {
            this._setAttr(attr, val);
            this._applyFilter = true;
        };
    };
    Kinetic.Factory.addGetterSetter(Kinetic.Image, 'image');
    Kinetic.Factory.addBoxGetterSetter(Kinetic.Image, 'crop');
    Kinetic.Factory.addFilterGetterSetter(Kinetic.Image, 'filter');
}());
;
(function () {
    Kinetic.Polygon = function (config) {
        this.___init(config);
    };
    Kinetic.Polygon.prototype = {
        ___init: function (config) {
            Kinetic.Shape.call(this, config);
            this.className = 'Polygon';
        },
        drawFunc: function (context) {
            var points = this.getPoints(), length = points.length;
            context.beginPath();
            context.moveTo(points[0].x, points[0].y);
            for (var n = 1; n < length; n++) {
                context.lineTo(points[n].x, points[n].y);
            }
            context.closePath();
            context.fillStrokeShape(this);
        }
    };
    Kinetic.Util.extend(Kinetic.Polygon, Kinetic.Shape);
    Kinetic.Factory.addPointsGetterSetter(Kinetic.Polygon, 'points');
}());
;
(function () {
    var AUTO = 'auto', CALIBRI = 'Calibri', CANVAS = 'canvas', CENTER = 'center', CHANGE_KINETIC = 'Change.kinetic', CONTEXT_2D = '2d', DASH = '-', EMPTY_STRING = '', LEFT = 'left', NEW_LINE = '\n', TEXT = 'text', TEXT_UPPER = 'Text', TOP = 'top', MIDDLE = 'middle', NORMAL = 'normal', PX_SPACE = 'px ', SPACE = ' ', RIGHT = 'right', WORD = 'word', CHAR = 'char', NONE = 'none', ATTR_CHANGE_LIST = [
            'fontFamily',
            'fontSize',
            'fontStyle',
            'padding',
            'align',
            'lineHeight',
            'text',
            'width',
            'height',
            'wrap'
        ], attrChangeListLen = ATTR_CHANGE_LIST.length, dummyContext = document.createElement(CANVAS).getContext(CONTEXT_2D);
    Kinetic.Text = function (config) {
        this.___init(config);
    };
    function _fillFunc(context) {
        context.fillText(this.partialText, 0, 0);
    }
    function _strokeFunc(context) {
        context.strokeText(this.partialText, 0, 0);
    }
    Kinetic.Text.prototype = {
        ___init: function (config) {
            var that = this;
            if (config.width === undefined) {
                config.width = AUTO;
            }
            if (config.height === undefined) {
                config.height = AUTO;
            }
            Kinetic.Shape.call(this, config);
            this._fillFunc = _fillFunc;
            this._strokeFunc = _strokeFunc;
            this.className = TEXT_UPPER;
            for (var n = 0; n < attrChangeListLen; n++) {
                this.on(ATTR_CHANGE_LIST[n] + CHANGE_KINETIC, that._setTextData);
            }
            this._setTextData();
        },
        drawFunc: function (context) {
            var p = this.getPadding(), fontStyle = this.getFontStyle(), fontSize = this.getFontSize(), fontFamily = this.getFontFamily(), textHeight = this.getTextHeight(), lineHeightPx = this.getLineHeight() * textHeight, textArr = this.textArr, textArrLen = textArr.length, totalWidth = this.getWidth();
            context.setAttr('font', this._getContextFont());
            context.setAttr('textBaseline', MIDDLE);
            context.setAttr('textAlign', LEFT);
            context.save();
            context.translate(p, 0);
            context.translate(0, p + textHeight / 2);
            for (var n = 0; n < textArrLen; n++) {
                var obj = textArr[n], text = obj.text, width = obj.width;
                context.save();
                if (this.getAlign() === RIGHT) {
                    context.translate(totalWidth - width - p * 2, 0);
                } else if (this.getAlign() === CENTER) {
                    context.translate((totalWidth - width - p * 2) / 2, 0);
                }
                this.partialText = text;
                context.fillStrokeShape(this);
                context.restore();
                context.translate(0, lineHeightPx);
            }
            context.restore();
        },
        drawHitFunc: function (context) {
            var width = this.getWidth(), height = this.getHeight();
            context.beginPath();
            context.rect(0, 0, width, height);
            context.closePath();
            context.fillStrokeShape(this);
        },
        setText: function (text) {
            var str = Kinetic.Util._isString(text) ? text : text.toString();
            this._setAttr(TEXT, str);
        },
        getWidth: function () {
            return this.attrs.width === AUTO ? this.getTextWidth() + this.getPadding() * 2 : this.attrs.width;
        },
        getHeight: function () {
            return this.attrs.height === AUTO ? this.getTextHeight() * this.textArr.length * this.getLineHeight() + this.getPadding() * 2 : this.attrs.height;
        },
        getTextWidth: function () {
            return this.textWidth;
        },
        getTextHeight: function () {
            return this.textHeight;
        },
        _getTextSize: function (text) {
            var _context = dummyContext, fontSize = this.getFontSize(), metrics;
            _context.save();
            _context.font = this._getContextFont();
            metrics = _context.measureText(text);
            _context.restore();
            return {
                width: metrics.width,
                height: parseInt(fontSize, 10)
            };
        },
        _getContextFont: function () {
            return this.getFontStyle() + SPACE + this.getFontSize() + PX_SPACE + this.getFontFamily();
        },
        _addTextLine: function (line, width, height) {
            return this.textArr.push({
                text: line,
                width: width
            });
        },
        _getTextWidth: function (text) {
            return dummyContext.measureText(text).width;
        },
        _setTextData: function () {
            var lines = this.getText().split('\n'), fontSize = +this.getFontSize(), textWidth = 0, lineHeightPx = this.getLineHeight() * fontSize, width = this.attrs.width, height = this.attrs.height, fixedWidth = width !== AUTO, fixedHeight = height !== AUTO, padding = this.getPadding(), maxWidth = width - padding * 2, maxHeightPx = height - padding * 2, currentHeightPx = 0, wrap = this.getWrap(), shouldWrap = wrap !== NONE, wrapAtWord = wrap !== CHAR && shouldWrap;
            this.textArr = [];
            dummyContext.save();
            dummyContext.font = this.getFontStyle() + SPACE + fontSize + PX_SPACE + this.getFontFamily();
            for (var i = 0, max = lines.length; i < max; ++i) {
                var line = lines[i], lineWidth = this._getTextWidth(line);
                if (fixedWidth && lineWidth > maxWidth) {
                    while (line.length > 0) {
                        var low = 0, high = line.length, match = '', matchWidth = 0;
                        while (low < high) {
                            var mid = low + high >>> 1, substr = line.slice(0, mid + 1), substrWidth = this._getTextWidth(substr);
                            if (substrWidth <= maxWidth) {
                                low = mid + 1;
                                match = substr;
                                matchWidth = substrWidth;
                            } else {
                                high = mid;
                            }
                        }
                        if (match) {
                            if (wrapAtWord) {
                                var wrapIndex = Math.max(match.lastIndexOf(SPACE), match.lastIndexOf(DASH)) + 1;
                                if (wrapIndex > 0) {
                                    low = wrapIndex;
                                    match = match.slice(0, low);
                                    matchWidth = this._getTextWidth(match);
                                }
                            }
                            this._addTextLine(match, matchWidth);
                            currentHeightPx += lineHeightPx;
                            if (!shouldWrap || fixedHeight && currentHeightPx + lineHeightPx > maxHeightPx) {
                                break;
                            }
                            line = line.slice(low);
                            if (line.length > 0) {
                                lineWidth = this._getTextWidth(line);
                                if (lineWidth <= maxWidth) {
                                    this._addTextLine(line, lineWidth);
                                    currentHeightPx += lineHeightPx;
                                    break;
                                }
                            }
                        } else {
                            break;
                        }
                    }
                } else {
                    this._addTextLine(line, lineWidth);
                    currentHeightPx += lineHeightPx;
                    textWidth = Math.max(textWidth, lineWidth);
                }
                if (fixedHeight && currentHeightPx + lineHeightPx > maxHeightPx) {
                    break;
                }
            }
            dummyContext.restore();
            this.textHeight = fontSize;
            this.textWidth = textWidth;
        }
    };
    Kinetic.Util.extend(Kinetic.Text, Kinetic.Shape);
    Kinetic.Factory.addGetterSetter(Kinetic.Text, 'fontFamily', CALIBRI);
    Kinetic.Factory.addGetterSetter(Kinetic.Text, 'fontSize', 12);
    Kinetic.Factory.addGetterSetter(Kinetic.Text, 'fontStyle', NORMAL);
    Kinetic.Factory.addGetterSetter(Kinetic.Text, 'padding', 0);
    Kinetic.Factory.addGetterSetter(Kinetic.Text, 'align', LEFT);
    Kinetic.Factory.addGetterSetter(Kinetic.Text, 'lineHeight', 1);
    Kinetic.Factory.addGetterSetter(Kinetic.Text, 'wrap', WORD);
    Kinetic.Factory.addGetter(Kinetic.Text, TEXT, EMPTY_STRING);
    Kinetic.Factory.addSetter(Kinetic.Text, 'width');
    Kinetic.Factory.addSetter(Kinetic.Text, 'height');
}());
;
(function () {
    Kinetic.Line = function (config) {
        this.___init(config);
    };
    Kinetic.Line.prototype = {
        ___init: function (config) {
            Kinetic.Shape.call(this, config);
            this.className = 'Line';
        },
        drawFunc: function (context) {
            var points = this.getPoints(), length = points.length, n, point;
            context.beginPath();
            context.moveTo(points[0].x, points[0].y);
            for (n = 1; n < length; n++) {
                point = points[n];
                context.lineTo(point.x, point.y);
            }
            context.strokeShape(this);
        }
    };
    Kinetic.Util.extend(Kinetic.Line, Kinetic.Shape);
    Kinetic.Factory.addPointsGetterSetter(Kinetic.Line, 'points');
}());
;
(function () {
    Kinetic.Spline = function (config) {
        this.___init(config);
    };
    Kinetic.Spline.prototype = {
        ___init: function (config) {
            var that = this;
            Kinetic.Shape.call(this, config);
            this.className = 'Spline';
            this.on('pointsChange.kinetic tensionChange.kinetic', function () {
                that._setAllPoints();
            });
            this._setAllPoints();
        },
        drawFunc: function (context) {
            var points = this.getPoints(), length = points.length, tension = this.getTension(), ap, len, n, point;
            context.beginPath();
            context.moveTo(points[0].x, points[0].y);
            if (tension !== 0 && length > 2) {
                ap = this.allPoints;
                len = ap.length;
                n = 2;
                context.quadraticCurveTo(ap[0].x, ap[0].y, ap[1].x, ap[1].y);
                while (n < len - 1) {
                    context.bezierCurveTo(ap[n].x, ap[n++].y, ap[n].x, ap[n++].y, ap[n].x, ap[n++].y);
                }
                context.quadraticCurveTo(ap[len - 1].x, ap[len - 1].y, points[length - 1].x, points[length - 1].y);
            } else {
                for (n = 1; n < length; n++) {
                    point = points[n];
                    context.lineTo(point.x, point.y);
                }
            }
            context.strokeShape(this);
        },
        _setAllPoints: function () {
            this.allPoints = Kinetic.Util._expandPoints(this.getPoints(), this.getTension());
        }
    };
    Kinetic.Util.extend(Kinetic.Spline, Kinetic.Shape);
    Kinetic.Factory.addGetterSetter(Kinetic.Spline, 'tension', 1);
    Kinetic.Factory.addPointsGetterSetter(Kinetic.Spline, 'points');
}());
;
(function () {
    Kinetic.Blob = function (config) {
        this.___init(config);
    };
    Kinetic.Blob.prototype = {
        ___init: function (config) {
            var that = this;
            Kinetic.Shape.call(this, config);
            this.className = 'Blob';
            this.on('pointsChange.kinetic tensionChange.kinetic', function () {
                that._setAllPoints();
            });
            this._setAllPoints();
        },
        drawFunc: function (context) {
            var points = this.getPoints(), length = points.length, tension = this.getTension(), ap, len, n, point;
            context.beginPath();
            context.moveTo(points[0].x, points[0].y);
            if (tension !== 0 && length > 2) {
                ap = this.allPoints;
                len = ap.length;
                n = 0;
                while (n < len - 1) {
                    context.bezierCurveTo(ap[n].x, ap[n++].y, ap[n].x, ap[n++].y, ap[n].x, ap[n++].y);
                }
            } else {
                for (n = 1; n < length; n++) {
                    point = points[n];
                    context.lineTo(point.x, point.y);
                }
            }
            context.closePath();
            context.fillStrokeShape(this);
        },
        _setAllPoints: function () {
            var points = this.getPoints(), length = points.length, tension = this.getTension(), util = Kinetic.Util, firstControlPoints = util._getControlPoints(points[length - 1], points[0], points[1], tension), lastControlPoints = util._getControlPoints(points[length - 2], points[length - 1], points[0], tension);
            this.allPoints = Kinetic.Util._expandPoints(this.getPoints(), this.getTension());
            this.allPoints.unshift(firstControlPoints[1]);
            this.allPoints.push(lastControlPoints[0]);
            this.allPoints.push(points[length - 1]);
            this.allPoints.push(lastControlPoints[1]);
            this.allPoints.push(firstControlPoints[0]);
            this.allPoints.push(points[0]);
        }
    };
    Kinetic.Util.extend(Kinetic.Blob, Kinetic.Shape);
    Kinetic.Factory.addGetterSetter(Kinetic.Blob, 'tension', 1);
    Kinetic.Factory.addPointsGetterSetter(Kinetic.Blob, 'points');
}());
;
(function () {
    Kinetic.Sprite = function (config) {
        this.___init(config);
    };
    Kinetic.Sprite.prototype = {
        ___init: function (config) {
            Kinetic.Shape.call(this, config);
            this.className = 'Sprite';
            this.anim = new Kinetic.Animation();
            var that = this;
            this.on('animationChange.kinetic', function () {
                that.setIndex(0);
            });
        },
        drawFunc: function (context) {
            var anim = this.getAnimation(), index = this.getIndex(), f = this.getAnimations()[anim][index], image = this.getImage();
            if (image) {
                context.drawImage(image, f.x, f.y, f.width, f.height, 0, 0, f.width, f.height);
            }
        },
        drawHitFunc: function (context) {
            var anim = this.getAnimation(), index = this.getIndex(), f = this.getAnimations()[anim][index];
            context.beginPath();
            context.rect(0, 0, f.width, f.height);
            context.closePath();
            context.fill(this);
        },
        start: function () {
            var that = this;
            var layer = this.getLayer();
            this.anim.setLayers(layer);
            this.interval = setInterval(function () {
                var index = that.getIndex();
                that._updateIndex();
                if (that.afterFrameFunc && index === that.afterFrameIndex) {
                    that.afterFrameFunc();
                    delete that.afterFrameFunc;
                    delete that.afterFrameIndex;
                }
            }, 1000 / this.getFrameRate());
            this.anim.start();
        },
        stop: function () {
            this.anim.stop();
            clearInterval(this.interval);
        },
        afterFrame: function (index, func) {
            this.afterFrameIndex = index;
            this.afterFrameFunc = func;
        },
        _updateIndex: function () {
            var index = this.getIndex(), animation = this.getAnimation(), animations = this.getAnimations(), anim = animations[animation], len = anim.length;
            if (index < len - 1) {
                this.setIndex(index + 1);
            } else {
                this.setIndex(0);
            }
        }
    };
    Kinetic.Util.extend(Kinetic.Sprite, Kinetic.Shape);
    Kinetic.Factory.addGetterSetter(Kinetic.Sprite, 'animation');
    Kinetic.Factory.addGetterSetter(Kinetic.Sprite, 'animations');
    Kinetic.Factory.addGetterSetter(Kinetic.Sprite, 'image');
    Kinetic.Factory.addGetterSetter(Kinetic.Sprite, 'index', 0);
    Kinetic.Factory.addGetterSetter(Kinetic.Sprite, 'frameRate', 17);
}());
;
(function () {
    Kinetic.Path = function (config) {
        this.___init(config);
    };
    Kinetic.Path.prototype = {
        ___init: function (config) {
            this.dataArray = [];
            var that = this;
            Kinetic.Shape.call(this, config);
            this.className = 'Path';
            this.dataArray = Kinetic.Path.parsePathData(this.getData());
            this.on('dataChange.kinetic', function () {
                that.dataArray = Kinetic.Path.parsePathData(this.getData());
            });
        },
        drawFunc: function (context) {
            var ca = this.dataArray, closedPath = false;
            context.beginPath();
            for (var n = 0; n < ca.length; n++) {
                var c = ca[n].command;
                var p = ca[n].points;
                switch (c) {
                case 'L':
                    context.lineTo(p[0], p[1]);
                    break;
                case 'M':
                    context.moveTo(p[0], p[1]);
                    break;
                case 'C':
                    context.bezierCurveTo(p[0], p[1], p[2], p[3], p[4], p[5]);
                    break;
                case 'Q':
                    context.quadraticCurveTo(p[0], p[1], p[2], p[3]);
                    break;
                case 'A':
                    var cx = p[0], cy = p[1], rx = p[2], ry = p[3], theta = p[4], dTheta = p[5], psi = p[6], fs = p[7];
                    var r = rx > ry ? rx : ry;
                    var scaleX = rx > ry ? 1 : rx / ry;
                    var scaleY = rx > ry ? ry / rx : 1;
                    context.translate(cx, cy);
                    context.rotate(psi);
                    context.scale(scaleX, scaleY);
                    context.arc(0, 0, r, theta, theta + dTheta, 1 - fs);
                    context.scale(1 / scaleX, 1 / scaleY);
                    context.rotate(-psi);
                    context.translate(-cx, -cy);
                    break;
                case 'z':
                    context.closePath();
                    closedPath = true;
                    break;
                }
            }
            if (closedPath) {
                context.fillStrokeShape(this);
            } else {
                context.strokeShape(this);
            }
        }
    };
    Kinetic.Util.extend(Kinetic.Path, Kinetic.Shape);
    Kinetic.Path.getLineLength = function (x1, y1, x2, y2) {
        return Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));
    };
    Kinetic.Path.getPointOnLine = function (dist, P1x, P1y, P2x, P2y, fromX, fromY) {
        if (fromX === undefined) {
            fromX = P1x;
        }
        if (fromY === undefined) {
            fromY = P1y;
        }
        var m = (P2y - P1y) / (P2x - P1x + 1e-8);
        var run = Math.sqrt(dist * dist / (1 + m * m));
        if (P2x < P1x)
            run *= -1;
        var rise = m * run;
        var pt;
        if (P2x === P1x) {
            pt = {
                x: fromX,
                y: fromY + rise
            };
        } else if ((fromY - P1y) / (fromX - P1x + 1e-8) === m) {
            pt = {
                x: fromX + run,
                y: fromY + rise
            };
        } else {
            var ix, iy;
            var len = this.getLineLength(P1x, P1y, P2x, P2y);
            if (len < 1e-8) {
                return undefined;
            }
            var u = (fromX - P1x) * (P2x - P1x) + (fromY - P1y) * (P2y - P1y);
            u = u / (len * len);
            ix = P1x + u * (P2x - P1x);
            iy = P1y + u * (P2y - P1y);
            var pRise = this.getLineLength(fromX, fromY, ix, iy);
            var pRun = Math.sqrt(dist * dist - pRise * pRise);
            run = Math.sqrt(pRun * pRun / (1 + m * m));
            if (P2x < P1x)
                run *= -1;
            rise = m * run;
            pt = {
                x: ix + run,
                y: iy + rise
            };
        }
        return pt;
    };
    Kinetic.Path.getPointOnCubicBezier = function (pct, P1x, P1y, P2x, P2y, P3x, P3y, P4x, P4y) {
        function CB1(t) {
            return t * t * t;
        }
        function CB2(t) {
            return 3 * t * t * (1 - t);
        }
        function CB3(t) {
            return 3 * t * (1 - t) * (1 - t);
        }
        function CB4(t) {
            return (1 - t) * (1 - t) * (1 - t);
        }
        var x = P4x * CB1(pct) + P3x * CB2(pct) + P2x * CB3(pct) + P1x * CB4(pct);
        var y = P4y * CB1(pct) + P3y * CB2(pct) + P2y * CB3(pct) + P1y * CB4(pct);
        return {
            x: x,
            y: y
        };
    };
    Kinetic.Path.getPointOnQuadraticBezier = function (pct, P1x, P1y, P2x, P2y, P3x, P3y) {
        function QB1(t) {
            return t * t;
        }
        function QB2(t) {
            return 2 * t * (1 - t);
        }
        function QB3(t) {
            return (1 - t) * (1 - t);
        }
        var x = P3x * QB1(pct) + P2x * QB2(pct) + P1x * QB3(pct);
        var y = P3y * QB1(pct) + P2y * QB2(pct) + P1y * QB3(pct);
        return {
            x: x,
            y: y
        };
    };
    Kinetic.Path.getPointOnEllipticalArc = function (cx, cy, rx, ry, theta, psi) {
        var cosPsi = Math.cos(psi), sinPsi = Math.sin(psi);
        var pt = {
                x: rx * Math.cos(theta),
                y: ry * Math.sin(theta)
            };
        return {
            x: cx + (pt.x * cosPsi - pt.y * sinPsi),
            y: cy + (pt.x * sinPsi + pt.y * cosPsi)
        };
    };
    Kinetic.Path.parsePathData = function (data) {
        if (!data) {
            return [];
        }
        var cs = data;
        var cc = [
                'm',
                'M',
                'l',
                'L',
                'v',
                'V',
                'h',
                'H',
                'z',
                'Z',
                'c',
                'C',
                'q',
                'Q',
                't',
                'T',
                's',
                'S',
                'a',
                'A'
            ];
        cs = cs.replace(new RegExp(' ', 'g'), ',');
        for (var n = 0; n < cc.length; n++) {
            cs = cs.replace(new RegExp(cc[n], 'g'), '|' + cc[n]);
        }
        var arr = cs.split('|');
        var ca = [];
        var cpx = 0;
        var cpy = 0;
        for (n = 1; n < arr.length; n++) {
            var str = arr[n];
            var c = str.charAt(0);
            str = str.slice(1);
            str = str.replace(new RegExp(',-', 'g'), '-');
            str = str.replace(new RegExp('-', 'g'), ',-');
            str = str.replace(new RegExp('e,-', 'g'), 'e-');
            var p = str.split(',');
            if (p.length > 0 && p[0] === '') {
                p.shift();
            }
            for (var i = 0; i < p.length; i++) {
                p[i] = parseFloat(p[i]);
            }
            while (p.length > 0) {
                if (isNaN(p[0]))
                    break;
                var cmd = null;
                var points = [];
                var startX = cpx, startY = cpy;
                var prevCmd, ctlPtx, ctlPty;
                var rx, ry, psi, fa, fs, x1, y1;
                switch (c) {
                case 'l':
                    cpx += p.shift();
                    cpy += p.shift();
                    cmd = 'L';
                    points.push(cpx, cpy);
                    break;
                case 'L':
                    cpx = p.shift();
                    cpy = p.shift();
                    points.push(cpx, cpy);
                    break;
                case 'm':
                    cpx += p.shift();
                    cpy += p.shift();
                    cmd = 'M';
                    points.push(cpx, cpy);
                    c = 'l';
                    break;
                case 'M':
                    cpx = p.shift();
                    cpy = p.shift();
                    cmd = 'M';
                    points.push(cpx, cpy);
                    c = 'L';
                    break;
                case 'h':
                    cpx += p.shift();
                    cmd = 'L';
                    points.push(cpx, cpy);
                    break;
                case 'H':
                    cpx = p.shift();
                    cmd = 'L';
                    points.push(cpx, cpy);
                    break;
                case 'v':
                    cpy += p.shift();
                    cmd = 'L';
                    points.push(cpx, cpy);
                    break;
                case 'V':
                    cpy = p.shift();
                    cmd = 'L';
                    points.push(cpx, cpy);
                    break;
                case 'C':
                    points.push(p.shift(), p.shift(), p.shift(), p.shift());
                    cpx = p.shift();
                    cpy = p.shift();
                    points.push(cpx, cpy);
                    break;
                case 'c':
                    points.push(cpx + p.shift(), cpy + p.shift(), cpx + p.shift(), cpy + p.shift());
                    cpx += p.shift();
                    cpy += p.shift();
                    cmd = 'C';
                    points.push(cpx, cpy);
                    break;
                case 'S':
                    ctlPtx = cpx, ctlPty = cpy;
                    prevCmd = ca[ca.length - 1];
                    if (prevCmd.command === 'C') {
                        ctlPtx = cpx + (cpx - prevCmd.points[2]);
                        ctlPty = cpy + (cpy - prevCmd.points[3]);
                    }
                    points.push(ctlPtx, ctlPty, p.shift(), p.shift());
                    cpx = p.shift();
                    cpy = p.shift();
                    cmd = 'C';
                    points.push(cpx, cpy);
                    break;
                case 's':
                    ctlPtx = cpx, ctlPty = cpy;
                    prevCmd = ca[ca.length - 1];
                    if (prevCmd.command === 'C') {
                        ctlPtx = cpx + (cpx - prevCmd.points[2]);
                        ctlPty = cpy + (cpy - prevCmd.points[3]);
                    }
                    points.push(ctlPtx, ctlPty, cpx + p.shift(), cpy + p.shift());
                    cpx += p.shift();
                    cpy += p.shift();
                    cmd = 'C';
                    points.push(cpx, cpy);
                    break;
                case 'Q':
                    points.push(p.shift(), p.shift());
                    cpx = p.shift();
                    cpy = p.shift();
                    points.push(cpx, cpy);
                    break;
                case 'q':
                    points.push(cpx + p.shift(), cpy + p.shift());
                    cpx += p.shift();
                    cpy += p.shift();
                    cmd = 'Q';
                    points.push(cpx, cpy);
                    break;
                case 'T':
                    ctlPtx = cpx, ctlPty = cpy;
                    prevCmd = ca[ca.length - 1];
                    if (prevCmd.command === 'Q') {
                        ctlPtx = cpx + (cpx - prevCmd.points[0]);
                        ctlPty = cpy + (cpy - prevCmd.points[1]);
                    }
                    cpx = p.shift();
                    cpy = p.shift();
                    cmd = 'Q';
                    points.push(ctlPtx, ctlPty, cpx, cpy);
                    break;
                case 't':
                    ctlPtx = cpx, ctlPty = cpy;
                    prevCmd = ca[ca.length - 1];
                    if (prevCmd.command === 'Q') {
                        ctlPtx = cpx + (cpx - prevCmd.points[0]);
                        ctlPty = cpy + (cpy - prevCmd.points[1]);
                    }
                    cpx += p.shift();
                    cpy += p.shift();
                    cmd = 'Q';
                    points.push(ctlPtx, ctlPty, cpx, cpy);
                    break;
                case 'A':
                    rx = p.shift(), ry = p.shift(), psi = p.shift(), fa = p.shift(), fs = p.shift();
                    x1 = cpx, y1 = cpy;
                    cpx = p.shift(), cpy = p.shift();
                    cmd = 'A';
                    points = this.convertEndpointToCenterParameterization(x1, y1, cpx, cpy, fa, fs, rx, ry, psi);
                    break;
                case 'a':
                    rx = p.shift(), ry = p.shift(), psi = p.shift(), fa = p.shift(), fs = p.shift();
                    x1 = cpx, y1 = cpy;
                    cpx += p.shift(), cpy += p.shift();
                    cmd = 'A';
                    points = this.convertEndpointToCenterParameterization(x1, y1, cpx, cpy, fa, fs, rx, ry, psi);
                    break;
                }
                ca.push({
                    command: cmd || c,
                    points: points,
                    start: {
                        x: startX,
                        y: startY
                    },
                    pathLength: this.calcLength(startX, startY, cmd || c, points)
                });
            }
            if (c === 'z' || c === 'Z') {
                ca.push({
                    command: 'z',
                    points: [],
                    start: undefined,
                    pathLength: 0
                });
            }
        }
        return ca;
    };
    Kinetic.Path.calcLength = function (x, y, cmd, points) {
        var len, p1, p2;
        var path = Kinetic.Path;
        switch (cmd) {
        case 'L':
            return path.getLineLength(x, y, points[0], points[1]);
        case 'C':
            len = 0;
            p1 = path.getPointOnCubicBezier(0, x, y, points[0], points[1], points[2], points[3], points[4], points[5]);
            for (t = 0.01; t <= 1; t += 0.01) {
                p2 = path.getPointOnCubicBezier(t, x, y, points[0], points[1], points[2], points[3], points[4], points[5]);
                len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);
                p1 = p2;
            }
            return len;
        case 'Q':
            len = 0;
            p1 = path.getPointOnQuadraticBezier(0, x, y, points[0], points[1], points[2], points[3]);
            for (t = 0.01; t <= 1; t += 0.01) {
                p2 = path.getPointOnQuadraticBezier(t, x, y, points[0], points[1], points[2], points[3]);
                len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);
                p1 = p2;
            }
            return len;
        case 'A':
            len = 0;
            var start = points[4];
            var dTheta = points[5];
            var end = points[4] + dTheta;
            var inc = Math.PI / 180;
            if (Math.abs(start - end) < inc) {
                inc = Math.abs(start - end);
            }
            p1 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], start, 0);
            if (dTheta < 0) {
                for (t = start - inc; t > end; t -= inc) {
                    p2 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], t, 0);
                    len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);
                    p1 = p2;
                }
            } else {
                for (t = start + inc; t < end; t += inc) {
                    p2 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], t, 0);
                    len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);
                    p1 = p2;
                }
            }
            p2 = path.getPointOnEllipticalArc(points[0], points[1], points[2], points[3], end, 0);
            len += path.getLineLength(p1.x, p1.y, p2.x, p2.y);
            return len;
        }
        return 0;
    };
    Kinetic.Path.convertEndpointToCenterParameterization = function (x1, y1, x2, y2, fa, fs, rx, ry, psiDeg) {
        var psi = psiDeg * (Math.PI / 180);
        var xp = Math.cos(psi) * (x1 - x2) / 2 + Math.sin(psi) * (y1 - y2) / 2;
        var yp = -1 * Math.sin(psi) * (x1 - x2) / 2 + Math.cos(psi) * (y1 - y2) / 2;
        var lambda = xp * xp / (rx * rx) + yp * yp / (ry * ry);
        if (lambda > 1) {
            rx *= Math.sqrt(lambda);
            ry *= Math.sqrt(lambda);
        }
        var f = Math.sqrt((rx * rx * (ry * ry) - rx * rx * (yp * yp) - ry * ry * (xp * xp)) / (rx * rx * (yp * yp) + ry * ry * (xp * xp)));
        if (fa == fs) {
            f *= -1;
        }
        if (isNaN(f)) {
            f = 0;
        }
        var cxp = f * rx * yp / ry;
        var cyp = f * -ry * xp / rx;
        var cx = (x1 + x2) / 2 + Math.cos(psi) * cxp - Math.sin(psi) * cyp;
        var cy = (y1 + y2) / 2 + Math.sin(psi) * cxp + Math.cos(psi) * cyp;
        var vMag = function (v) {
            return Math.sqrt(v[0] * v[0] + v[1] * v[1]);
        };
        var vRatio = function (u, v) {
            return (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v));
        };
        var vAngle = function (u, v) {
            return (u[0] * v[1] < u[1] * v[0] ? -1 : 1) * Math.acos(vRatio(u, v));
        };
        var theta = vAngle([
                1,
                0
            ], [
                (xp - cxp) / rx,
                (yp - cyp) / ry
            ]);
        var u = [
                (xp - cxp) / rx,
                (yp - cyp) / ry
            ];
        var v = [
                (-1 * xp - cxp) / rx,
                (-1 * yp - cyp) / ry
            ];
        var dTheta = vAngle(u, v);
        if (vRatio(u, v) <= -1) {
            dTheta = Math.PI;
        }
        if (vRatio(u, v) >= 1) {
            dTheta = 0;
        }
        if (fs === 0 && dTheta > 0) {
            dTheta = dTheta - 2 * Math.PI;
        }
        if (fs == 1 && dTheta < 0) {
            dTheta = dTheta + 2 * Math.PI;
        }
        return [
            cx,
            cy,
            rx,
            ry,
            theta,
            dTheta,
            psi,
            fs
        ];
    };
    Kinetic.Factory.addGetterSetter(Kinetic.Path, 'data');
}());
;
(function () {
    var EMPTY_STRING = '', CALIBRI = 'Calibri', NORMAL = 'normal';
    Kinetic.TextPath = function (config) {
        this.___init(config);
    };
    function _fillFunc(context) {
        context.fillText(this.partialText, 0, 0);
    }
    function _strokeFunc(context) {
        context.strokeText(this.partialText, 0, 0);
    }
    Kinetic.TextPath.prototype = {
        ___init: function (config) {
            var that = this;
            this.dummyCanvas = document.createElement('canvas');
            this.dataArray = [];
            Kinetic.Shape.call(this, config);
            this._fillFunc = _fillFunc;
            this._strokeFunc = _strokeFunc;
            this.className = 'TextPath';
            this.dataArray = Kinetic.Path.parsePathData(this.attrs.data);
            this.on('dataChange.kinetic', function () {
                that.dataArray = Kinetic.Path.parsePathData(this.attrs.data);
            });
            this.on('textChange.kinetic textStroke.kinetic textStrokeWidth.kinetic', that._setTextData);
            that._setTextData();
        },
        drawFunc: function (context) {
            var charArr = this.charArr;
            context.setAttr('font', this._getContextFont());
            context.setAttr('textBaseline', 'middle');
            context.setAttr('textAlign', 'left');
            context.save();
            var glyphInfo = this.glyphInfo;
            for (var i = 0; i < glyphInfo.length; i++) {
                context.save();
                var p0 = glyphInfo[i].p0;
                var p1 = glyphInfo[i].p1;
                var ht = parseFloat(this.attrs.fontSize);
                context.translate(p0.x, p0.y);
                context.rotate(glyphInfo[i].rotation);
                this.partialText = glyphInfo[i].text;
                context.fillStrokeShape(this);
                context.restore();
            }
            context.restore();
        },
        getTextWidth: function () {
            return this.textWidth;
        },
        getTextHeight: function () {
            return this.textHeight;
        },
        setText: function (text) {
            Kinetic.Text.prototype.setText.call(this, text);
        },
        _getTextSize: function (text) {
            var dummyCanvas = this.dummyCanvas;
            var _context = dummyCanvas.getContext('2d');
            _context.save();
            _context.font = this._getContextFont();
            var metrics = _context.measureText(text);
            _context.restore();
            return {
                width: metrics.width,
                height: parseInt(this.attrs.fontSize, 10)
            };
        },
        _setTextData: function () {
            var that = this;
            var size = this._getTextSize(this.attrs.text);
            this.textWidth = size.width;
            this.textHeight = size.height;
            this.glyphInfo = [];
            var charArr = this.attrs.text.split('');
            var p0, p1, pathCmd;
            var pIndex = -1;
            var currentT = 0;
            var getNextPathSegment = function () {
                currentT = 0;
                var pathData = that.dataArray;
                for (var i = pIndex + 1; i < pathData.length; i++) {
                    if (pathData[i].pathLength > 0) {
                        pIndex = i;
                        return pathData[i];
                    } else if (pathData[i].command == 'M') {
                        p0 = {
                            x: pathData[i].points[0],
                            y: pathData[i].points[1]
                        };
                    }
                }
                return {};
            };
            var findSegmentToFitCharacter = function (c, before) {
                var glyphWidth = that._getTextSize(c).width;
                var currLen = 0;
                var attempts = 0;
                var needNextSegment = false;
                p1 = undefined;
                while (Math.abs(glyphWidth - currLen) / glyphWidth > 0.01 && attempts < 25) {
                    attempts++;
                    var cumulativePathLength = currLen;
                    while (pathCmd === undefined) {
                        pathCmd = getNextPathSegment();
                        if (pathCmd && cumulativePathLength + pathCmd.pathLength < glyphWidth) {
                            cumulativePathLength += pathCmd.pathLength;
                            pathCmd = undefined;
                        }
                    }
                    if (pathCmd === {} || p0 === undefined)
                        return undefined;
                    var needNewSegment = false;
                    switch (pathCmd.command) {
                    case 'L':
                        if (Kinetic.Path.getLineLength(p0.x, p0.y, pathCmd.points[0], pathCmd.points[1]) > glyphWidth) {
                            p1 = Kinetic.Path.getPointOnLine(glyphWidth, p0.x, p0.y, pathCmd.points[0], pathCmd.points[1], p0.x, p0.y);
                        } else
                            pathCmd = undefined;
                        break;
                    case 'A':
                        var start = pathCmd.points[4];
                        var dTheta = pathCmd.points[5];
                        var end = pathCmd.points[4] + dTheta;
                        if (currentT === 0)
                            currentT = start + 1e-8;
                        else if (glyphWidth > currLen)
                            currentT += Math.PI / 180 * dTheta / Math.abs(dTheta);
                        else
                            currentT -= Math.PI / 360 * dTheta / Math.abs(dTheta);
                        if (dTheta < 0 && currentT < end || dTheta >= 0 && currentT > end) {
                            currentT = end;
                            needNewSegment = true;
                        }
                        p1 = Kinetic.Path.getPointOnEllipticalArc(pathCmd.points[0], pathCmd.points[1], pathCmd.points[2], pathCmd.points[3], currentT, pathCmd.points[6]);
                        break;
                    case 'C':
                        if (currentT === 0) {
                            if (glyphWidth > pathCmd.pathLength)
                                currentT = 1e-8;
                            else
                                currentT = glyphWidth / pathCmd.pathLength;
                        } else if (glyphWidth > currLen)
                            currentT += (glyphWidth - currLen) / pathCmd.pathLength;
                        else
                            currentT -= (currLen - glyphWidth) / pathCmd.pathLength;
                        if (currentT > 1) {
                            currentT = 1;
                            needNewSegment = true;
                        }
                        p1 = Kinetic.Path.getPointOnCubicBezier(currentT, pathCmd.start.x, pathCmd.start.y, pathCmd.points[0], pathCmd.points[1], pathCmd.points[2], pathCmd.points[3], pathCmd.points[4], pathCmd.points[5]);
                        break;
                    case 'Q':
                        if (currentT === 0)
                            currentT = glyphWidth / pathCmd.pathLength;
                        else if (glyphWidth > currLen)
                            currentT += (glyphWidth - currLen) / pathCmd.pathLength;
                        else
                            currentT -= (currLen - glyphWidth) / pathCmd.pathLength;
                        if (currentT > 1) {
                            currentT = 1;
                            needNewSegment = true;
                        }
                        p1 = Kinetic.Path.getPointOnQuadraticBezier(currentT, pathCmd.start.x, pathCmd.start.y, pathCmd.points[0], pathCmd.points[1], pathCmd.points[2], pathCmd.points[3]);
                        break;
                    }
                    if (p1 !== undefined) {
                        currLen = Kinetic.Path.getLineLength(p0.x, p0.y, p1.x, p1.y);
                    }
                    if (needNewSegment) {
                        needNewSegment = false;
                        pathCmd = undefined;
                    }
                }
            };
            for (var i = 0; i < charArr.length; i++) {
                findSegmentToFitCharacter(charArr[i]);
                if (p0 === undefined || p1 === undefined)
                    break;
                var width = Kinetic.Path.getLineLength(p0.x, p0.y, p1.x, p1.y);
                var kern = 0;
                var midpoint = Kinetic.Path.getPointOnLine(kern + width / 2, p0.x, p0.y, p1.x, p1.y);
                var rotation = Math.atan2(p1.y - p0.y, p1.x - p0.x);
                this.glyphInfo.push({
                    transposeX: midpoint.x,
                    transposeY: midpoint.y,
                    text: charArr[i],
                    rotation: rotation,
                    p0: p0,
                    p1: p1
                });
                p0 = p1;
            }
        }
    };
    Kinetic.TextPath.prototype._getContextFont = Kinetic.Text.prototype._getContextFont;
    Kinetic.Util.extend(Kinetic.TextPath, Kinetic.Shape);
    Kinetic.Factory.addGetterSetter(Kinetic.TextPath, 'fontFamily', CALIBRI);
    Kinetic.Factory.addGetterSetter(Kinetic.TextPath, 'fontSize', 12);
    Kinetic.Factory.addGetterSetter(Kinetic.TextPath, 'fontStyle', NORMAL);
    Kinetic.Factory.addGetter(Kinetic.TextPath, 'text', EMPTY_STRING);
}());
;
(function () {
    Kinetic.RegularPolygon = function (config) {
        this.___init(config);
    };
    Kinetic.RegularPolygon.prototype = {
        ___init: function (config) {
            Kinetic.Shape.call(this, config);
            this.className = 'RegularPolygon';
        },
        drawFunc: function (context) {
            var sides = this.attrs.sides, radius = this.attrs.radius, n, x, y;
            context.beginPath();
            context.moveTo(0, 0 - radius);
            for (n = 1; n < sides; n++) {
                x = radius * Math.sin(n * 2 * Math.PI / sides);
                y = -1 * radius * Math.cos(n * 2 * Math.PI / sides);
                context.lineTo(x, y);
            }
            context.closePath();
            context.fillStrokeShape(this);
        }
    };
    Kinetic.Util.extend(Kinetic.RegularPolygon, Kinetic.Shape);
    Kinetic.Factory.addGetterSetter(Kinetic.RegularPolygon, 'radius', 0);
    Kinetic.Factory.addGetterSetter(Kinetic.RegularPolygon, 'sides', 0);
}());
;
(function () {
    Kinetic.Star = function (config) {
        this.___init(config);
    };
    Kinetic.Star.prototype = {
        ___init: function (config) {
            Kinetic.Shape.call(this, config);
            this.className = 'Star';
        },
        drawFunc: function (context) {
            var _context = context._context, innerRadius = this.attrs.innerRadius, outerRadius = this.attrs.outerRadius, numPoints = this.attrs.numPoints;
            _context.beginPath();
            _context.moveTo(0, 0 - this.attrs.outerRadius);
            for (var n = 1; n < numPoints * 2; n++) {
                var radius = n % 2 === 0 ? outerRadius : innerRadius;
                var x = radius * Math.sin(n * Math.PI / numPoints);
                var y = -1 * radius * Math.cos(n * Math.PI / numPoints);
                _context.lineTo(x, y);
            }
            _context.closePath();
            context.fillStrokeShape(this);
        }
    };
    Kinetic.Util.extend(Kinetic.Star, Kinetic.Shape);
    Kinetic.Factory.addGetterSetter(Kinetic.Star, 'numPoints', 0);
    Kinetic.Factory.addGetterSetter(Kinetic.Star, 'innerRadius', 0);
    Kinetic.Factory.addGetterSetter(Kinetic.Star, 'outerRadius', 0);
}());
;
(function () {
    var ATTR_CHANGE_LIST = [
            'fontFamily',
            'fontSize',
            'fontStyle',
            'padding',
            'lineHeight',
            'text'
        ], CHANGE_KINETIC = 'Change.kinetic', NONE = 'none', UP = 'up', RIGHT = 'right', DOWN = 'down', LEFT = 'left', LABEL = 'Label', attrChangeListLen = ATTR_CHANGE_LIST.length;
    Kinetic.Label = function (config) {
        this.____init(config);
    };
    Kinetic.Label.prototype = {
        ____init: function (config) {
            var that = this;
            this.className = LABEL;
            Kinetic.Group.call(this, config);
            this.on('add.kinetic', function (evt) {
                that._addListeners(evt.child);
                that._sync();
            });
        },
        getText: function () {
            return this.find('Text')[0];
        },
        getTag: function () {
            return this.find('Tag')[0];
        },
        _addListeners: function (text) {
            var that = this, n;
            var func = function () {
                that._sync();
            };
            for (n = 0; n < attrChangeListLen; n++) {
                text.on(ATTR_CHANGE_LIST[n] + CHANGE_KINETIC, func);
            }
        },
        getWidth: function () {
            return this.getText().getWidth();
        },
        getHeight: function () {
            return this.getText().getHeight();
        },
        _sync: function () {
            var text = this.getText(), tag = this.getTag(), width, height, pointerDirection, pointerWidth, x, y;
            if (text && tag) {
                width = text.getWidth(), height = text.getHeight(), pointerDirection = tag.getPointerDirection(), pointerWidth = tag.getPointerWidth(), pointerHeight = tag.getPointerHeight(), x = 0, y = 0;
                switch (pointerDirection) {
                case UP:
                    x = width / 2;
                    y = -1 * pointerHeight;
                    break;
                case RIGHT:
                    x = width + pointerWidth;
                    y = height / 2;
                    break;
                case DOWN:
                    x = width / 2;
                    y = height + pointerHeight;
                    break;
                case LEFT:
                    x = -1 * pointerWidth;
                    y = height / 2;
                    break;
                }
                tag.setAttrs({
                    x: -1 * x,
                    y: -1 * y,
                    width: width,
                    height: height
                });
                text.setAttrs({
                    x: -1 * x,
                    y: -1 * y
                });
            }
        }
    };
    Kinetic.Util.extend(Kinetic.Label, Kinetic.Group);
    Kinetic.Tag = function (config) {
        this.___init(config);
    };
    Kinetic.Tag.prototype = {
        ___init: function (config) {
            Kinetic.Shape.call(this, config);
            this.className = 'Tag';
        },
        drawFunc: function (context) {
            var width = this.getWidth(), height = this.getHeight(), pointerDirection = this.getPointerDirection(), pointerWidth = this.getPointerWidth(), pointerHeight = this.getPointerHeight(), cornerRadius = this.getCornerRadius();
            context.beginPath();
            context.moveTo(0, 0);
            if (pointerDirection === UP) {
                context.lineTo((width - pointerWidth) / 2, 0);
                context.lineTo(width / 2, -1 * pointerHeight);
                context.lineTo((width + pointerWidth) / 2, 0);
            }
            context.lineTo(width, 0);
            if (pointerDirection === RIGHT) {
                context.lineTo(width, (height - pointerHeight) / 2);
                context.lineTo(width + pointerWidth, height / 2);
                context.lineTo(width, (height + pointerHeight) / 2);
            }
            context.lineTo(width, height);
            if (pointerDirection === DOWN) {
                context.lineTo((width + pointerWidth) / 2, height);
                context.lineTo(width / 2, height + pointerHeight);
                context.lineTo((width - pointerWidth) / 2, height);
            }
            context.lineTo(0, height);
            if (pointerDirection === LEFT) {
                context.lineTo(0, (height + pointerHeight) / 2);
                context.lineTo(-1 * pointerWidth, height / 2);
                context.lineTo(0, (height - pointerHeight) / 2);
            }
            context.closePath();
            context.fillStrokeShape(this);
        }
    };
    Kinetic.Util.extend(Kinetic.Tag, Kinetic.Shape);
    Kinetic.Factory.addGetterSetter(Kinetic.Tag, 'pointerDirection', NONE);
    Kinetic.Factory.addGetterSetter(Kinetic.Tag, 'pointerWidth', 0);
    Kinetic.Factory.addGetterSetter(Kinetic.Tag, 'pointerHeight', 0);
    Kinetic.Factory.addGetterSetter(Kinetic.Tag, 'cornerRadius', 0);
}());
;
(function () {
    Kinetic.Filters.Grayscale = function (imageData) {
        var data = imageData.data;
        for (var i = 0; i < data.length; i += 4) {
            var brightness = 0.34 * data[i] + 0.5 * data[i + 1] + 0.16 * data[i + 2];
            data[i] = brightness;
            data[i + 1] = brightness;
            data[i + 2] = brightness;
        }
    };
}());
;
(function () {
    Kinetic.Filters.Brighten = function (imageData) {
        var brightness = this.getFilterBrightness();
        var data = imageData.data;
        for (var i = 0; i < data.length; i += 4) {
            data[i] += brightness;
            data[i + 1] += brightness;
            data[i + 2] += brightness;
        }
    };
    Kinetic.Factory.addFilterGetterSetter(Kinetic.Image, 'filterBrightness', 0);
}());
;
(function () {
    Kinetic.Filters.Invert = function (imageData) {
        var data = imageData.data;
        for (var i = 0; i < data.length; i += 4) {
            data[i] = 255 - data[i];
            data[i + 1] = 255 - data[i + 1];
            data[i + 2] = 255 - data[i + 2];
        }
    };
}());
;
(function () {
    function BlurStack() {
        this.r = 0;
        this.g = 0;
        this.b = 0;
        this.a = 0;
        this.next = null;
    }
    var mul_table = [
            512,
            512,
            456,
            512,
            328,
            456,
            335,
            512,
            405,
            328,
            271,
            456,
            388,
            335,
            292,
            512,
            454,
            405,
            364,
            328,
            298,
            271,
            496,
            456,
            420,
            388,
            360,
            335,
            312,
            292,
            273,
            512,
            482,
            454,
            428,
            405,
            383,
            364,
            345,
            328,
            312,
            298,
            284,
            271,
            259,
            496,
            475,
            456,
            437,
            420,
            404,
            388,
            374,
            360,
            347,
            335,
            323,
            312,
            302,
            292,
            282,
            273,
            265,
            512,
            497,
            482,
            468,
            454,
            441,
            428,
            417,
            405,
            394,
            383,
            373,
            364,
            354,
            345,
            337,
            328,
            320,
            312,
            305,
            298,
            291,
            284,
            278,
            271,
            265,
            259,
            507,
            496,
            485,
            475,
            465,
            456,
            446,
            437,
            428,
            420,
            412,
            404,
            396,
            388,
            381,
            374,
            367,
            360,
            354,
            347,
            341,
            335,
            329,
            323,
            318,
            312,
            307,
            302,
            297,
            292,
            287,
            282,
            278,
            273,
            269,
            265,
            261,
            512,
            505,
            497,
            489,
            482,
            475,
            468,
            461,
            454,
            447,
            441,
            435,
            428,
            422,
            417,
            411,
            405,
            399,
            394,
            389,
            383,
            378,
            373,
            368,
            364,
            359,
            354,
            350,
            345,
            341,
            337,
            332,
            328,
            324,
            320,
            316,
            312,
            309,
            305,
            301,
            298,
            294,
            291,
            287,
            284,
            281,
            278,
            274,
            271,
            268,
            265,
            262,
            259,
            257,
            507,
            501,
            496,
            491,
            485,
            480,
            475,
            470,
            465,
            460,
            456,
            451,
            446,
            442,
            437,
            433,
            428,
            424,
            420,
            416,
            412,
            408,
            404,
            400,
            396,
            392,
            388,
            385,
            381,
            377,
            374,
            370,
            367,
            363,
            360,
            357,
            354,
            350,
            347,
            344,
            341,
            338,
            335,
            332,
            329,
            326,
            323,
            320,
            318,
            315,
            312,
            310,
            307,
            304,
            302,
            299,
            297,
            294,
            292,
            289,
            287,
            285,
            282,
            280,
            278,
            275,
            273,
            271,
            269,
            267,
            265,
            263,
            261,
            259
        ];
    var shg_table = [
            9,
            11,
            12,
            13,
            13,
            14,
            14,
            15,
            15,
            15,
            15,
            16,
            16,
            16,
            16,
            17,
            17,
            17,
            17,
            17,
            17,
            17,
            18,
            18,
            18,
            18,
            18,
            18,
            18,
            18,
            18,
            19,
            19,
            19,
            19,
            19,
            19,
            19,
            19,
            19,
            19,
            19,
            19,
            19,
            19,
            20,
            20,
            20,
            20,
            20,
            20,
            20,
            20,
            20,
            20,
            20,
            20,
            20,
            20,
            20,
            20,
            20,
            20,
            21,
            21,
            21,
            21,
            21,
            21,
            21,
            21,
            21,
            21,
            21,
            21,
            21,
            21,
            21,
            21,
            21,
            21,
            21,
            21,
            21,
            21,
            21,
            21,
            21,
            21,
            21,
            22,
            22,
            22,
            22,
            22,
            22,
            22,
            22,
            22,
            22,
            22,
            22,
            22,
            22,
            22,
            22,
            22,
            22,
            22,
            22,
            22,
            22,
            22,
            22,
            22,
            22,
            22,
            22,
            22,
            22,
            22,
            22,
            22,
            22,
            22,
            22,
            22,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            23,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24,
            24
        ];
    function filterGaussBlurRGBA(imageData, radius) {
        var pixels = imageData.data, width = imageData.width, height = imageData.height;
        var x, y, i, p, yp, yi, yw, r_sum, g_sum, b_sum, a_sum, r_out_sum, g_out_sum, b_out_sum, a_out_sum, r_in_sum, g_in_sum, b_in_sum, a_in_sum, pr, pg, pb, pa, rbs;
        var div = radius + radius + 1, widthMinus1 = width - 1, heightMinus1 = height - 1, radiusPlus1 = radius + 1, sumFactor = radiusPlus1 * (radiusPlus1 + 1) / 2, stackStart = new BlurStack(), stackEnd = null, stack = stackStart, stackIn = null, stackOut = null, mul_sum = mul_table[radius], shg_sum = shg_table[radius];
        for (i = 1; i < div; i++) {
            stack = stack.next = new BlurStack();
            if (i == radiusPlus1)
                stackEnd = stack;
        }
        stack.next = stackStart;
        yw = yi = 0;
        for (y = 0; y < height; y++) {
            r_in_sum = g_in_sum = b_in_sum = a_in_sum = r_sum = g_sum = b_sum = a_sum = 0;
            r_out_sum = radiusPlus1 * (pr = pixels[yi]);
            g_out_sum = radiusPlus1 * (pg = pixels[yi + 1]);
            b_out_sum = radiusPlus1 * (pb = pixels[yi + 2]);
            a_out_sum = radiusPlus1 * (pa = pixels[yi + 3]);
            r_sum += sumFactor * pr;
            g_sum += sumFactor * pg;
            b_sum += sumFactor * pb;
            a_sum += sumFactor * pa;
            stack = stackStart;
            for (i = 0; i < radiusPlus1; i++) {
                stack.r = pr;
                stack.g = pg;
                stack.b = pb;
                stack.a = pa;
                stack = stack.next;
            }
            for (i = 1; i < radiusPlus1; i++) {
                p = yi + ((widthMinus1 < i ? widthMinus1 : i) << 2);
                r_sum += (stack.r = pr = pixels[p]) * (rbs = radiusPlus1 - i);
                g_sum += (stack.g = pg = pixels[p + 1]) * rbs;
                b_sum += (stack.b = pb = pixels[p + 2]) * rbs;
                a_sum += (stack.a = pa = pixels[p + 3]) * rbs;
                r_in_sum += pr;
                g_in_sum += pg;
                b_in_sum += pb;
                a_in_sum += pa;
                stack = stack.next;
            }
            stackIn = stackStart;
            stackOut = stackEnd;
            for (x = 0; x < width; x++) {
                pixels[yi + 3] = pa = a_sum * mul_sum >> shg_sum;
                if (pa !== 0) {
                    pa = 255 / pa;
                    pixels[yi] = (r_sum * mul_sum >> shg_sum) * pa;
                    pixels[yi + 1] = (g_sum * mul_sum >> shg_sum) * pa;
                    pixels[yi + 2] = (b_sum * mul_sum >> shg_sum) * pa;
                } else {
                    pixels[yi] = pixels[yi + 1] = pixels[yi + 2] = 0;
                }
                r_sum -= r_out_sum;
                g_sum -= g_out_sum;
                b_sum -= b_out_sum;
                a_sum -= a_out_sum;
                r_out_sum -= stackIn.r;
                g_out_sum -= stackIn.g;
                b_out_sum -= stackIn.b;
                a_out_sum -= stackIn.a;
                p = yw + ((p = x + radius + 1) < widthMinus1 ? p : widthMinus1) << 2;
                r_in_sum += stackIn.r = pixels[p];
                g_in_sum += stackIn.g = pixels[p + 1];
                b_in_sum += stackIn.b = pixels[p + 2];
                a_in_sum += stackIn.a = pixels[p + 3];
                r_sum += r_in_sum;
                g_sum += g_in_sum;
                b_sum += b_in_sum;
                a_sum += a_in_sum;
                stackIn = stackIn.next;
                r_out_sum += pr = stackOut.r;
                g_out_sum += pg = stackOut.g;
                b_out_sum += pb = stackOut.b;
                a_out_sum += pa = stackOut.a;
                r_in_sum -= pr;
                g_in_sum -= pg;
                b_in_sum -= pb;
                a_in_sum -= pa;
                stackOut = stackOut.next;
                yi += 4;
            }
            yw += width;
        }
        for (x = 0; x < width; x++) {
            g_in_sum = b_in_sum = a_in_sum = r_in_sum = g_sum = b_sum = a_sum = r_sum = 0;
            yi = x << 2;
            r_out_sum = radiusPlus1 * (pr = pixels[yi]);
            g_out_sum = radiusPlus1 * (pg = pixels[yi + 1]);
            b_out_sum = radiusPlus1 * (pb = pixels[yi + 2]);
            a_out_sum = radiusPlus1 * (pa = pixels[yi + 3]);
            r_sum += sumFactor * pr;
            g_sum += sumFactor * pg;
            b_sum += sumFactor * pb;
            a_sum += sumFactor * pa;
            stack = stackStart;
            for (i = 0; i < radiusPlus1; i++) {
                stack.r = pr;
                stack.g = pg;
                stack.b = pb;
                stack.a = pa;
                stack = stack.next;
            }
            yp = width;
            for (i = 1; i <= radius; i++) {
                yi = yp + x << 2;
                r_sum += (stack.r = pr = pixels[yi]) * (rbs = radiusPlus1 - i);
                g_sum += (stack.g = pg = pixels[yi + 1]) * rbs;
                b_sum += (stack.b = pb = pixels[yi + 2]) * rbs;
                a_sum += (stack.a = pa = pixels[yi + 3]) * rbs;
                r_in_sum += pr;
                g_in_sum += pg;
                b_in_sum += pb;
                a_in_sum += pa;
                stack = stack.next;
                if (i < heightMinus1) {
                    yp += width;
                }
            }
            yi = x;
            stackIn = stackStart;
            stackOut = stackEnd;
            for (y = 0; y < height; y++) {
                p = yi << 2;
                pixels[p + 3] = pa = a_sum * mul_sum >> shg_sum;
                if (pa > 0) {
                    pa = 255 / pa;
                    pixels[p] = (r_sum * mul_sum >> shg_sum) * pa;
                    pixels[p + 1] = (g_sum * mul_sum >> shg_sum) * pa;
                    pixels[p + 2] = (b_sum * mul_sum >> shg_sum) * pa;
                } else {
                    pixels[p] = pixels[p + 1] = pixels[p + 2] = 0;
                }
                r_sum -= r_out_sum;
                g_sum -= g_out_sum;
                b_sum -= b_out_sum;
                a_sum -= a_out_sum;
                r_out_sum -= stackIn.r;
                g_out_sum -= stackIn.g;
                b_out_sum -= stackIn.b;
                a_out_sum -= stackIn.a;
                p = x + ((p = y + radiusPlus1) < heightMinus1 ? p : heightMinus1) * width << 2;
                r_sum += r_in_sum += stackIn.r = pixels[p];
                g_sum += g_in_sum += stackIn.g = pixels[p + 1];
                b_sum += b_in_sum += stackIn.b = pixels[p + 2];
                a_sum += a_in_sum += stackIn.a = pixels[p + 3];
                stackIn = stackIn.next;
                r_out_sum += pr = stackOut.r;
                g_out_sum += pg = stackOut.g;
                b_out_sum += pb = stackOut.b;
                a_out_sum += pa = stackOut.a;
                r_in_sum -= pr;
                g_in_sum -= pg;
                b_in_sum -= pb;
                a_in_sum -= pa;
                stackOut = stackOut.next;
                yi += width;
            }
        }
    }
    Kinetic.Filters.Blur = function (imageData) {
        var radius = this.getFilterRadius() | 0;
        if (radius > 0) {
            filterGaussBlurRGBA(imageData, radius);
        }
    };
    Kinetic.Factory.addFilterGetterSetter(Kinetic.Image, 'filterRadius', 0);
}());
;
(function () {
    function pixelAt(idata, x, y) {
        var idx = (y * idata.width + x) * 4;
        var d = [];
        d.push(idata.data[idx++], idata.data[idx++], idata.data[idx++], idata.data[idx++]);
        return d;
    }
    function rgbDistance(p1, p2) {
        return Math.sqrt(Math.pow(p1[0] - p2[0], 2) + Math.pow(p1[1] - p2[1], 2) + Math.pow(p1[2] - p2[2], 2));
    }
    function rgbMean(pTab) {
        var m = [
                0,
                0,
                0
            ];
        for (var i = 0; i < pTab.length; i++) {
            m[0] += pTab[i][0];
            m[1] += pTab[i][1];
            m[2] += pTab[i][2];
        }
        m[0] /= pTab.length;
        m[1] /= pTab.length;
        m[2] /= pTab.length;
        return m;
    }
    function backgroundMask(idata, threshold) {
        var rgbv_no = pixelAt(idata, 0, 0);
        var rgbv_ne = pixelAt(idata, idata.width - 1, 0);
        var rgbv_so = pixelAt(idata, 0, idata.height - 1);
        var rgbv_se = pixelAt(idata, idata.width - 1, idata.height - 1);
        var thres = threshold || 10;
        if (rgbDistance(rgbv_no, rgbv_ne) < thres && rgbDistance(rgbv_ne, rgbv_se) < thres && rgbDistance(rgbv_se, rgbv_so) < thres && rgbDistance(rgbv_so, rgbv_no) < thres) {
            var mean = rgbMean([
                    rgbv_ne,
                    rgbv_no,
                    rgbv_se,
                    rgbv_so
                ]);
            var mask = [];
            for (var i = 0; i < idata.width * idata.height; i++) {
                var d = rgbDistance(mean, [
                        idata.data[i * 4],
                        idata.data[i * 4 + 1],
                        idata.data[i * 4 + 2]
                    ]);
                mask[i] = d < thres ? 0 : 255;
            }
            return mask;
        }
    }
    function applyMask(idata, mask) {
        for (var i = 0; i < idata.width * idata.height; i++) {
            idata.data[4 * i + 3] = mask[i];
        }
    }
    function erodeMask(mask, sw, sh) {
        var weights = [
                1,
                1,
                1,
                1,
                0,
                1,
                1,
                1,
                1
            ];
        var side = Math.round(Math.sqrt(weights.length));
        var halfSide = Math.floor(side / 2);
        var maskResult = [];
        for (var y = 0; y < sh; y++) {
            for (var x = 0; x < sw; x++) {
                var so = y * sw + x;
                var a = 0;
                for (var cy = 0; cy < side; cy++) {
                    for (var cx = 0; cx < side; cx++) {
                        var scy = y + cy - halfSide;
                        var scx = x + cx - halfSide;
                        if (scy >= 0 && scy < sh && scx >= 0 && scx < sw) {
                            var srcOff = scy * sw + scx;
                            var wt = weights[cy * side + cx];
                            a += mask[srcOff] * wt;
                        }
                    }
                }
                maskResult[so] = a === 255 * 8 ? 255 : 0;
            }
        }
        return maskResult;
    }
    function dilateMask(mask, sw, sh) {
        var weights = [
                1,
                1,
                1,
                1,
                1,
                1,
                1,
                1,
                1
            ];
        var side = Math.round(Math.sqrt(weights.length));
        var halfSide = Math.floor(side / 2);
        var maskResult = [];
        for (var y = 0; y < sh; y++) {
            for (var x = 0; x < sw; x++) {
                var so = y * sw + x;
                var a = 0;
                for (var cy = 0; cy < side; cy++) {
                    for (var cx = 0; cx < side; cx++) {
                        var scy = y + cy - halfSide;
                        var scx = x + cx - halfSide;
                        if (scy >= 0 && scy < sh && scx >= 0 && scx < sw) {
                            var srcOff = scy * sw + scx;
                            var wt = weights[cy * side + cx];
                            a += mask[srcOff] * wt;
                        }
                    }
                }
                maskResult[so] = a >= 255 * 4 ? 255 : 0;
            }
        }
        return maskResult;
    }
    function smoothEdgeMask(mask, sw, sh) {
        var weights = [
                1 / 9,
                1 / 9,
                1 / 9,
                1 / 9,
                1 / 9,
                1 / 9,
                1 / 9,
                1 / 9,
                1 / 9
            ];
        var side = Math.round(Math.sqrt(weights.length));
        var halfSide = Math.floor(side / 2);
        var maskResult = [];
        for (var y = 0; y < sh; y++) {
            for (var x = 0; x < sw; x++) {
                var so = y * sw + x;
                var a = 0;
                for (var cy = 0; cy < side; cy++) {
                    for (var cx = 0; cx < side; cx++) {
                        var scy = y + cy - halfSide;
                        var scx = x + cx - halfSide;
                        if (scy >= 0 && scy < sh && scx >= 0 && scx < sw) {
                            var srcOff = scy * sw + scx;
                            var wt = weights[cy * side + cx];
                            a += mask[srcOff] * wt;
                        }
                    }
                }
                maskResult[so] = a;
            }
        }
        return maskResult;
    }
    Kinetic.Filters.Mask = function (idata) {
        var threshold = this.getFilterThreshold(), mask = backgroundMask(idata, threshold);
        if (mask) {
            mask = erodeMask(mask, idata.width, idata.height);
            mask = dilateMask(mask, idata.width, idata.height);
            mask = smoothEdgeMask(mask, idata.width, idata.height);
            applyMask(idata, mask);
        }
        return idata;
    };
    Kinetic.Factory.addFilterGetterSetter(Kinetic.Image, 'filterThreshold', 0);
}());
;
(function () {
    var rgb_to_hsl = function (r, g, b) {
        r /= 255;
        g /= 255;
        b /= 255;
        var max = Math.max(r, g, b), min = Math.min(r, g, b), chroma = max - min, luminance = chroma / 2, saturation = chroma / (1 - Math.abs(2 * luminance - 1)), hue = 0;
        if (max == r) {
            hue = (g - b) / chroma % 6;
        } else if (max == g) {
            hue = (b - r) / chroma + 2;
        } else if (max == b) {
            hue = (r - g) / chroma + 4;
        }
        return [
            (hue * 60 + 360) % 360,
            saturation,
            luminance
        ];
    };
    var pixelShiftHue = function (r, g, b, deg) {
        r /= 255;
        g /= 255;
        b /= 255;
        var max = Math.max(r, g, b), min = Math.min(r, g, b), chroma = max - min, luminance = chroma / 2, saturation = chroma / (1 - Math.abs(2 * luminance - 1)), hue = 0;
        if (max == r) {
            hue = (g - b) / chroma % 6;
        } else if (max == g) {
            hue = (b - r) / chroma + 2;
        } else if (max == b) {
            hue = (r - g) / chroma + 4;
        }
        hue *= 60;
        hue %= 360;
        hue += deg;
        hue %= 360;
        hue /= 60;
        var rR = 0, rG = 0, rB = 0, tmp = chroma * (1 - Math.abs(hue % 2 - 1)), m = luminance - chroma / 2;
        if (0 <= hue && hue < 1) {
            rR = chroma;
            rG = tmp;
        } else if (1 <= hue && hue < 2) {
            rG = chroma;
            rR = tmp;
        } else if (2 <= hue && hue < 3) {
            rG = chroma;
            rB = tmp;
        } else if (3 <= hue && hue < 4) {
            rB = chroma;
            rG = tmp;
        } else if (4 <= hue && hue < 5) {
            rB = chroma;
            rR = tmp;
        } else if (5 <= hue && hue < 6) {
            rR = chroma;
            rB = tmp;
        }
        rR += m;
        rG += m;
        rB += m;
        rR = 255 * rR;
        rG = 255 * rG;
        rB = 255 * rB;
        return [
            rR,
            rG,
            rB
        ];
    };
    var shift_hue = function (imageData, deg) {
        var data = imageData.data, pixel;
        for (var i = 0; i < data.length; i += 4) {
            pixel = pixelShiftHue(data[i + 0], data[i + 1], data[i + 2], deg);
            data[i + 0] = pixel[0];
            data[i + 1] = pixel[1];
            data[i + 2] = pixel[2];
        }
    };
    Kinetic.Filters.ShiftHue = function (imageData) {
        shift_hue(imageData, this.getFilterHueShiftDeg() % 360);
    };
    Kinetic.Factory.addFilterGetterSetter(Kinetic.Image, 'filterHueShiftDeg', 0);
    Kinetic.Filters.Colorize = function (imageData) {
        var data = imageData.data;
        var color = this.getFilterColorizeColor(), hsl = rgb_to_hsl(color[0], color[1], color[2]), hue = hsl[0];
        for (var i = 0; i < data.length; i += 4) {
            data[i + 1] = 0;
            data[i + 2] = 0;
        }
        shift_hue(imageData, hue);
    };
    Kinetic.Factory.addFilterGetterSetter(Kinetic.Image, 'filterColorizeColor', [
        255,
        0,
        0
    ]);
}());
;
(function () {
    var convolve_internal = function (imageData, matrix) {
        var pixels = imageData.data, imageSizeX = imageData.width, imageSizeY = imageData.height, nPixels = imageSizeX * imageSizeY, pixel;
        var result = [];
        result.length = imageSizeX * imageSizeY * 4;
        var matrixSizeX = matrix.length, matrixSizeY = matrix[0].length, matrixMidX = Math.floor(matrix.length / 2), matrixMidY = Math.floor(matrix[0].length / 2);
        var r, g, b, a, x, y, px, py, pos, i, j;
        for (y = 0; y < imageSizeY; y += 1) {
            for (x = 0; x < imageSizeX; x += 1) {
                r = 0;
                g = 0;
                b = 0;
                a = 0;
                for (i = 0; i < matrixSizeX; i += 1) {
                    for (j = 0; j < matrixSizeY; j += 1) {
                        px = (x + i - matrixMidX) % imageSizeX;
                        px = px > 0 ? px : -px;
                        py = (y + i - matrixMidY) % imageSizeY;
                        py = py > 0 ? py : -py;
                        pos = (py * imageSizeX + px) * 4;
                        r += matrix[j][i] * pixels[pos + 0];
                        g += matrix[j][i] * pixels[pos + 1];
                        b += matrix[j][i] * pixels[pos + 2];
                    }
                }
                pos = (y * imageSizeX + x) * 4;
                result[pos + 0] = r;
                result[pos + 1] = g;
                result[pos + 2] = b;
            }
        }
        var lastPos = nPixels * 4;
        for (pos = 0; pos < lastPos; pos += 4) {
            pixels[pos + 0] = result[pos + 0];
            pixels[pos + 1] = result[pos + 1];
            pixels[pos + 2] = result[pos + 2];
        }
    };
    var gaussian = function (x, mean, sigma) {
        var dx = x - mean;
        return Math.pow(Math.E, -dx * dx / (2 * sigma * sigma));
    };
    var make_blur_kernel = function (size, scale, sigma) {
        if (size % 2 === 0) {
            size += 1;
        }
        var kernel = [], i, j, row;
        for (i = 0; i < size; i += 1) {
            row = [];
            for (j = 0; j < size; j += 1) {
                row.push(scale * gaussian(i, size / 2, sigma) * gaussian(j, size / 2, sigma));
            }
            kernel.push(row);
        }
        return kernel;
    };
    var make_edge_detect_kernel = function (size, scale, sigma) {
        if (size % 2 === 0) {
            size += 1;
        }
        var kernel = [], i, j, row, g;
        for (i = 0; i < size; i += 1) {
            row = [];
            for (j = 0; j < size; j += 1) {
                g1 = gaussian(i, size / 2, sigma) * gaussian(j, size / 2, sigma);
                g2 = gaussian(i, size / 2, sigma * 1.6) * gaussian(j, size / 2, sigma * 1.6);
                row.push(scale * (g2 - g1));
            }
            kernel.push(row);
        }
        return kernel;
    };
    var make_soft_blur_kernel = function (size, percent) {
        var kernel = make_blur_kernel(size, percent, 1), mid = Math.floor(size / 2);
        kernel[mid][mid] += 1 - percent;
        return kernel;
    };
    var make_unsharp_kernel = function (size, percent) {
        var kernel = make_blur_kernel(size, -percent, 1), mid = Math.floor(size / 2);
        kernel[mid][mid] += 1 + percent;
        return kernel;
    };
    Kinetic.Factory.addFilterGetterSetter(Kinetic.Image, 'filterAmount', 50);
    Kinetic.Filters.UnsharpMask = function (imageData) {
        convolve_internal(imageData, make_unsharp_kernel(5, this.getFilterAmount() / 100));
    };
    Kinetic.Filters.SoftBlur = function (imageData) {
        convolve_internal(imageData, make_soft_blur_kernel(5, this.getFilterAmount() / 100));
    };
    Kinetic.Filters.Edge = function (imageData) {
        var s = this.getFilterAmount() / 100;
        if (s === 0) {
            return;
        }
        convolve_internal(imageData, [
            [
                0,
                -1 * s,
                0
            ],
            [
                -1 * s,
                1 - s + 4 * s,
                -1 * s
            ],
            [
                0,
                -1 * s,
                0
            ]
        ]);
    };
    Kinetic.Filters.Emboss = function (imageData) {
        var s = this.getFilterAmount() / 100;
        if (s === 0) {
            return;
        }
        convolve_internal(imageData, [
            [
                -1 * s,
                -0.5 * s,
                0
            ],
            [
                -0.5 * s,
                1 + 0.5 * s,
                0.5 * s
            ],
            [
                0,
                0.5 * s,
                1 * s
            ]
        ]);
    };
}());
});
require.define('25', function(module, exports, __dirname, __filename, undefined){
(function () {
    var Bacon, BufferingSource, Bus, CompositeUnsubscribe, Desc, Dispatcher, End, Error, Event, EventStream, Initial, Next, None, Observable, Property, PropertyDispatcher, Some, Source, UpdateBarrier, addPropertyInitValueToStream, assert, assertArray, assertEventStream, assertFunction, assertNoArguments, assertString, cloneArray, compositeUnsubscribe, containsDuplicateDeps, convertArgsToFunction, describe, end, eventIdCounter, former, idCounter, initial, isArray, isFieldKey, isFunction, isObservable, latterF, liftCallback, makeFunction, makeFunctionArgs, makeFunction_, makeSpawner, next, nop, partiallyApplied, recursionDepth, registerObs, spys, toCombinator, toEvent, toFieldExtractor, toFieldKey, toOption, toSimpleExtractor, withDescription, withMethodCallSupport, _, _ref, _ref1, _ref2, __slice = [].slice, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        }, __bind = function (fn, me) {
            return function () {
                return fn.apply(me, arguments);
            };
        };
    Bacon = {
        toString: function () {
            return 'Bacon';
        }
    };
    Bacon.version = '0.7.0';
    Bacon.fromBinder = function (binder, eventTransformer) {
        if (eventTransformer == null) {
            eventTransformer = _.id;
        }
        return new EventStream(describe(Bacon, 'fromBinder', binder, eventTransformer), function (sink) {
            var unbinder;
            return unbinder = binder(function () {
                var args, event, reply, value, _i, _len;
                args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
                value = eventTransformer.apply(null, args);
                if (!(isArray(value) && _.last(value) instanceof Event)) {
                    value = [value];
                }
                reply = Bacon.more;
                for (_i = 0, _len = value.length; _i < _len; _i++) {
                    event = value[_i];
                    reply = sink(event = toEvent(event));
                    if (reply === Bacon.noMore || event.isEnd()) {
                        if (unbinder != null) {
                            unbinder();
                        } else {
                            Bacon.scheduler.setTimeout(function () {
                                return unbinder();
                            }, 0);
                        }
                        return reply;
                    }
                }
                return reply;
            });
        });
    };
    Bacon.$ = {
        asEventStream: function (eventName, selector, eventTransformer) {
            var _ref, _this = this;
            if (isFunction(selector)) {
                _ref = [
                    selector,
                    null
                ], eventTransformer = _ref[0], selector = _ref[1];
            }
            return withDescription(this, 'asEventStream', eventName, Bacon.fromBinder(function (handler) {
                _this.on(eventName, selector, handler);
                return function () {
                    return _this.off(eventName, selector, handler);
                };
            }, eventTransformer));
        }
    };
    if ((_ref = typeof jQuery !== 'undefined' && jQuery !== null ? jQuery : typeof Zepto !== 'undefined' && Zepto !== null ? Zepto : null) != null) {
        _ref.fn.asEventStream = Bacon.$.asEventStream;
    }
    Bacon.fromEventTarget = function (target, eventName, eventTransformer) {
        var sub, unsub, _ref1, _ref2, _ref3, _ref4;
        sub = (_ref1 = target.addEventListener) != null ? _ref1 : (_ref2 = target.addListener) != null ? _ref2 : target.bind;
        unsub = (_ref3 = target.removeEventListener) != null ? _ref3 : (_ref4 = target.removeListener) != null ? _ref4 : target.unbind;
        return withDescription(Bacon, 'fromEventTarget', target, eventName, Bacon.fromBinder(function (handler) {
            sub.call(target, eventName, handler);
            return function () {
                return unsub.call(target, eventName, handler);
            };
        }, eventTransformer));
    };
    Bacon.fromPromise = function (promise, abort) {
        return withDescription(Bacon, 'fromPromise', promise, Bacon.fromBinder(function (handler) {
            promise.then(handler, function (e) {
                return handler(new Error(e));
            });
            return function () {
                if (abort) {
                    return typeof promise.abort === 'function' ? promise.abort() : void 0;
                }
            };
        }, function (value) {
            return [
                value,
                end()
            ];
        }));
    };
    Bacon.noMore = ['<no-more>'];
    Bacon.more = ['<more>'];
    Bacon.later = function (delay, value) {
        return withDescription(Bacon, 'later', delay, value, Bacon.sequentially(delay, [value]));
    };
    Bacon.sequentially = function (delay, values) {
        var index;
        index = 0;
        return withDescription(Bacon, 'sequentially', delay, values, Bacon.fromPoll(delay, function () {
            var value;
            value = values[index++];
            if (index < values.length) {
                return value;
            } else if (index === values.length) {
                return [
                    value,
                    end()
                ];
            } else {
                return end();
            }
        }));
    };
    Bacon.repeatedly = function (delay, values) {
        var index;
        index = 0;
        return withDescription(Bacon, 'repeatedly', delay, values, Bacon.fromPoll(delay, function () {
            return values[index++ % values.length];
        }));
    };
    Bacon.spy = function (spy) {
        return spys.push(spy);
    };
    spys = [];
    registerObs = function (obs) {
        if (spys.length) {
            if (!registerObs.running) {
                try {
                    registerObs.running = true;
                    return _.each(spys, function (_, spy) {
                        return spy(obs);
                    });
                } finally {
                    delete registerObs.running;
                }
            }
        }
    };
    withMethodCallSupport = function (wrapped) {
        return function () {
            var args, context, f, methodName;
            f = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
            if (typeof f === 'object' && args.length) {
                context = f;
                methodName = args[0];
                f = function () {
                    return context[methodName].apply(context, arguments);
                };
                args = args.slice(1);
            }
            return wrapped.apply(null, [f].concat(__slice.call(args)));
        };
    };
    liftCallback = function (desc, wrapped) {
        return withMethodCallSupport(function () {
            var args, f, stream;
            f = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
            stream = partiallyApplied(wrapped, [function (values, callback) {
                    return f.apply(null, __slice.call(values).concat([callback]));
                }]);
            return withDescription.apply(null, [
                Bacon,
                desc,
                f
            ].concat(__slice.call(args), [Bacon.combineAsArray(args).flatMap(stream)]));
        });
    };
    Bacon.fromCallback = liftCallback('fromCallback', function () {
        var args, f;
        f = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
        return Bacon.fromBinder(function (handler) {
            makeFunction(f, args)(handler);
            return nop;
        }, function (value) {
            return [
                value,
                end()
            ];
        });
    });
    Bacon.fromNodeCallback = liftCallback('fromNodeCallback', function () {
        var args, f;
        f = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
        return Bacon.fromBinder(function (handler) {
            makeFunction(f, args)(handler);
            return nop;
        }, function (error, value) {
            if (error) {
                return [
                    new Error(error),
                    end()
                ];
            }
            return [
                value,
                end()
            ];
        });
    });
    Bacon.fromPoll = function (delay, poll) {
        return withDescription(Bacon, 'fromPoll', delay, poll, Bacon.fromBinder(function (handler) {
            var id;
            id = Bacon.scheduler.setInterval(handler, delay);
            return function () {
                return Bacon.scheduler.clearInterval(id);
            };
        }, poll));
    };
    Bacon.interval = function (delay, value) {
        if (value == null) {
            value = {};
        }
        return withDescription(Bacon, 'interval', delay, value, Bacon.fromPoll(delay, function () {
            return next(value);
        }));
    };
    Bacon.constant = function (value) {
        return new Property(describe(Bacon, 'constant', value), function (sink) {
            sink(initial(value));
            sink(end());
            return nop;
        });
    };
    Bacon.never = function () {
        return withDescription(Bacon, 'never', Bacon.fromArray([]));
    };
    Bacon.once = function (value) {
        return withDescription(Bacon, 'once', value, Bacon.fromArray([value]));
    };
    Bacon.fromArray = function (values) {
        assertArray(values);
        values = cloneArray(values);
        return new EventStream(describe(Bacon, 'fromArray', values), function (sink) {
            var send, unsubd;
            unsubd = false;
            send = function () {
                var reply, value;
                if (_.empty(values)) {
                    return sink(end());
                } else {
                    value = values.splice(0, 1)[0];
                    reply = sink(toEvent(value));
                    if (reply !== Bacon.noMore && !unsubd) {
                        return send();
                    }
                }
            };
            send();
            return function () {
                return unsubd = true;
            };
        });
    };
    Bacon.mergeAll = function () {
        var streams;
        streams = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
        if (isArray(streams[0])) {
            streams = streams[0];
        }
        return withDescription.apply(null, [
            Bacon,
            'mergeAll'
        ].concat(__slice.call(streams), [_.fold(streams, Bacon.never(), function (a, b) {
                return a.merge(b);
            })]));
    };
    Bacon.zipAsArray = function () {
        var streams;
        streams = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
        if (isArray(streams[0])) {
            streams = streams[0];
        }
        return withDescription.apply(null, [
            Bacon,
            'zipAsArray'
        ].concat(__slice.call(streams), [Bacon.zipWith(streams, function () {
                var xs;
                xs = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
                return xs;
            })]));
    };
    Bacon.zipWith = function () {
        var f, streams, _ref1;
        f = arguments[0], streams = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
        if (!isFunction(f)) {
            _ref1 = [
                f,
                streams[0]
            ], streams = _ref1[0], f = _ref1[1];
        }
        streams = _.map(function (s) {
            return s.toEventStream();
        }, streams);
        return withDescription.apply(null, [
            Bacon,
            'zipWith',
            f
        ].concat(__slice.call(streams), [Bacon.when(streams, f)]));
    };
    Bacon.groupSimultaneous = function () {
        var s, sources, streams;
        streams = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
        if (streams.length === 1 && isArray(streams[0])) {
            streams = streams[0];
        }
        sources = function () {
            var _i, _len, _results;
            _results = [];
            for (_i = 0, _len = streams.length; _i < _len; _i++) {
                s = streams[_i];
                _results.push(new BufferingSource(s));
            }
            return _results;
        }();
        return withDescription.apply(null, [
            Bacon,
            'groupSimultaneous'
        ].concat(__slice.call(streams), [Bacon.when(sources, function () {
                var xs;
                xs = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
                return xs;
            })]));
    };
    Bacon.combineAsArray = function () {
        var index, s, sources, stream, streams, _i, _len;
        streams = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
        if (streams.length === 1 && isArray(streams[0])) {
            streams = streams[0];
        }
        for (index = _i = 0, _len = streams.length; _i < _len; index = ++_i) {
            stream = streams[index];
            if (!isObservable(stream)) {
                streams[index] = Bacon.constant(stream);
            }
        }
        if (streams.length) {
            sources = function () {
                var _j, _len1, _results;
                _results = [];
                for (_j = 0, _len1 = streams.length; _j < _len1; _j++) {
                    s = streams[_j];
                    _results.push(new Source(s, true, false, s.subscribeInternal));
                }
                return _results;
            }();
            return withDescription.apply(null, [
                Bacon,
                'combineAsArray'
            ].concat(__slice.call(streams), [Bacon.when(sources, function () {
                    var xs;
                    xs = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
                    return xs;
                }).toProperty()]));
        } else {
            return Bacon.constant([]);
        }
    };
    Bacon.onValues = function () {
        var f, streams, _i;
        streams = 2 <= arguments.length ? __slice.call(arguments, 0, _i = arguments.length - 1) : (_i = 0, []), f = arguments[_i++];
        return Bacon.combineAsArray(streams).onValues(f);
    };
    Bacon.combineWith = function () {
        var f, streams;
        f = arguments[0], streams = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
        return withDescription.apply(null, [
            Bacon,
            'combineWith',
            f
        ].concat(__slice.call(streams), [Bacon.combineAsArray(streams).map(function (values) {
                return f.apply(null, values);
            })]));
    };
    Bacon.combineTemplate = function (template) {
        var applyStreamValue, combinator, compile, compileTemplate, constantValue, current, funcs, mkContext, setValue, streams;
        funcs = [];
        streams = [];
        current = function (ctxStack) {
            return ctxStack[ctxStack.length - 1];
        };
        setValue = function (ctxStack, key, value) {
            return current(ctxStack)[key] = value;
        };
        applyStreamValue = function (key, index) {
            return function (ctxStack, values) {
                return setValue(ctxStack, key, values[index]);
            };
        };
        constantValue = function (key, value) {
            return function (ctxStack) {
                return setValue(ctxStack, key, value);
            };
        };
        mkContext = function (template) {
            if (isArray(template)) {
                return [];
            } else {
                return {};
            }
        };
        compile = function (key, value) {
            var popContext, pushContext;
            if (isObservable(value)) {
                streams.push(value);
                return funcs.push(applyStreamValue(key, streams.length - 1));
            } else if (value === Object(value) && typeof value !== 'function') {
                pushContext = function (key) {
                    return function (ctxStack) {
                        var newContext;
                        newContext = mkContext(value);
                        setValue(ctxStack, key, newContext);
                        return ctxStack.push(newContext);
                    };
                };
                popContext = function (ctxStack) {
                    return ctxStack.pop();
                };
                funcs.push(pushContext(key));
                compileTemplate(value);
                return funcs.push(popContext);
            } else {
                return funcs.push(constantValue(key, value));
            }
        };
        compileTemplate = function (template) {
            return _.each(template, compile);
        };
        compileTemplate(template);
        combinator = function (values) {
            var ctxStack, f, rootContext, _i, _len;
            rootContext = mkContext(template);
            ctxStack = [rootContext];
            for (_i = 0, _len = funcs.length; _i < _len; _i++) {
                f = funcs[_i];
                f(ctxStack, values);
            }
            return rootContext;
        };
        return withDescription(Bacon, 'combineTemplate', template, Bacon.combineAsArray(streams).map(combinator));
    };
    eventIdCounter = 0;
    Event = function () {
        function Event() {
            this.id = ++eventIdCounter;
        }
        Event.prototype.isEvent = function () {
            return true;
        };
        Event.prototype.isEnd = function () {
            return false;
        };
        Event.prototype.isInitial = function () {
            return false;
        };
        Event.prototype.isNext = function () {
            return false;
        };
        Event.prototype.isError = function () {
            return false;
        };
        Event.prototype.hasValue = function () {
            return false;
        };
        Event.prototype.filter = function () {
            return true;
        };
        Event.prototype.inspect = function () {
            return this.toString();
        };
        return Event;
    }();
    Next = function (_super) {
        __extends(Next, _super);
        function Next(valueF) {
            Next.__super__.constructor.call(this);
            if (isFunction(valueF)) {
                this.value = _.cached(valueF);
            } else {
                this.value = _.always(valueF);
            }
        }
        Next.prototype.isNext = function () {
            return true;
        };
        Next.prototype.hasValue = function () {
            return true;
        };
        Next.prototype.fmap = function (f) {
            var _this = this;
            return this.apply(function () {
                return f(_this.value());
            });
        };
        Next.prototype.apply = function (value) {
            return new Next(value);
        };
        Next.prototype.filter = function (f) {
            return f(this.value());
        };
        Next.prototype.toString = function () {
            return _.toString(this.value());
        };
        return Next;
    }(Event);
    Initial = function (_super) {
        __extends(Initial, _super);
        function Initial() {
            _ref1 = Initial.__super__.constructor.apply(this, arguments);
            return _ref1;
        }
        Initial.prototype.isInitial = function () {
            return true;
        };
        Initial.prototype.isNext = function () {
            return false;
        };
        Initial.prototype.apply = function (value) {
            return new Initial(value);
        };
        Initial.prototype.toNext = function () {
            return new Next(this.value);
        };
        return Initial;
    }(Next);
    End = function (_super) {
        __extends(End, _super);
        function End() {
            _ref2 = End.__super__.constructor.apply(this, arguments);
            return _ref2;
        }
        End.prototype.isEnd = function () {
            return true;
        };
        End.prototype.fmap = function () {
            return this;
        };
        End.prototype.apply = function () {
            return this;
        };
        End.prototype.toString = function () {
            return '<end>';
        };
        return End;
    }(Event);
    Error = function (_super) {
        __extends(Error, _super);
        function Error(error) {
            this.error = error;
        }
        Error.prototype.isError = function () {
            return true;
        };
        Error.prototype.fmap = function () {
            return this;
        };
        Error.prototype.apply = function () {
            return this;
        };
        Error.prototype.toString = function () {
            return '<error> ' + _.toString(this.error);
        };
        return Error;
    }(Event);
    idCounter = 0;
    Observable = function () {
        function Observable(desc) {
            this.combine = __bind(this.combine, this);
            this.flatMapLatest = __bind(this.flatMapLatest, this);
            this.fold = __bind(this.fold, this);
            this.scan = __bind(this.scan, this);
            this.id = ++idCounter;
            this.assign = this.onValue;
            withDescription(desc, this);
        }
        Observable.prototype.onValue = function () {
            var f;
            f = makeFunctionArgs(arguments);
            return this.subscribe(function (event) {
                if (event.hasValue()) {
                    return f(event.value());
                }
            });
        };
        Observable.prototype.onValues = function (f) {
            return this.onValue(function (args) {
                return f.apply(null, args);
            });
        };
        Observable.prototype.onError = function () {
            var f;
            f = makeFunctionArgs(arguments);
            return this.subscribe(function (event) {
                if (event.isError()) {
                    return f(event.error);
                }
            });
        };
        Observable.prototype.onEnd = function () {
            var f;
            f = makeFunctionArgs(arguments);
            return this.subscribe(function (event) {
                if (event.isEnd()) {
                    return f();
                }
            });
        };
        Observable.prototype.errors = function () {
            return withDescription(this, 'errors', this.filter(function () {
                return false;
            }));
        };
        Observable.prototype.filter = function () {
            var args, f;
            f = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
            return convertArgsToFunction(this, f, args, function (f) {
                return withDescription(this, 'filter', f, this.withHandler(function (event) {
                    if (event.filter(f)) {
                        return this.push(event);
                    } else {
                        return Bacon.more;
                    }
                }));
            });
        };
        Observable.prototype.takeWhile = function () {
            var args, f;
            f = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
            return convertArgsToFunction(this, f, args, function (f) {
                return withDescription(this, 'takeWhile', f, this.withHandler(function (event) {
                    if (event.filter(f)) {
                        return this.push(event);
                    } else {
                        this.push(end());
                        return Bacon.noMore;
                    }
                }));
            });
        };
        Observable.prototype.endOnError = function () {
            var args, f;
            f = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
            if (f == null) {
                f = true;
            }
            return convertArgsToFunction(this, f, args, function (f) {
                return withDescription(this, 'endOnError', this.withHandler(function (event) {
                    if (event.isError() && f(event.error)) {
                        this.push(event);
                        return this.push(end());
                    } else {
                        return this.push(event);
                    }
                }));
            });
        };
        Observable.prototype.take = function (count) {
            if (count <= 0) {
                return Bacon.never();
            }
            return withDescription(this, 'take', count, this.withHandler(function (event) {
                if (!event.hasValue()) {
                    return this.push(event);
                } else {
                    count--;
                    if (count > 0) {
                        return this.push(event);
                    } else {
                        if (count === 0) {
                            this.push(event);
                        }
                        this.push(end());
                        return Bacon.noMore;
                    }
                }
            }));
        };
        Observable.prototype.map = function () {
            var args, p;
            p = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
            if (p instanceof Property) {
                return p.sampledBy(this, former);
            } else {
                return convertArgsToFunction(this, p, args, function (f) {
                    return withDescription(this, 'map', f, this.withHandler(function (event) {
                        return this.push(event.fmap(f));
                    }));
                });
            }
        };
        Observable.prototype.mapError = function () {
            var f;
            f = makeFunctionArgs(arguments);
            return withDescription(this, 'mapError', f, this.withHandler(function (event) {
                if (event.isError()) {
                    return this.push(next(f(event.error)));
                } else {
                    return this.push(event);
                }
            }));
        };
        Observable.prototype.mapEnd = function () {
            var f;
            f = makeFunctionArgs(arguments);
            return withDescription(this, 'mapEnd', f, this.withHandler(function (event) {
                if (event.isEnd()) {
                    this.push(next(f(event)));
                    this.push(end());
                    return Bacon.noMore;
                } else {
                    return this.push(event);
                }
            }));
        };
        Observable.prototype.doAction = function () {
            var f;
            f = makeFunctionArgs(arguments);
            return withDescription(this, 'doAction', f, this.withHandler(function (event) {
                if (event.hasValue()) {
                    f(event.value());
                }
                return this.push(event);
            }));
        };
        Observable.prototype.skip = function (count) {
            return withDescription(this, 'skip', count, this.withHandler(function (event) {
                if (!event.hasValue()) {
                    return this.push(event);
                } else if (count > 0) {
                    count--;
                    return Bacon.more;
                } else {
                    return this.push(event);
                }
            }));
        };
        Observable.prototype.skipDuplicates = function (isEqual) {
            if (isEqual == null) {
                isEqual = function (a, b) {
                    return a === b;
                };
            }
            return withDescription(this, 'skipDuplicates', this.withStateMachine(None, function (prev, event) {
                if (!event.hasValue()) {
                    return [
                        prev,
                        [event]
                    ];
                } else if (event.isInitial() || prev === None || !isEqual(prev.get(), event.value())) {
                    return [
                        new Some(event.value()),
                        [event]
                    ];
                } else {
                    return [
                        prev,
                        []
                    ];
                }
            }));
        };
        Observable.prototype.skipErrors = function () {
            return withDescription(this, 'skipErrors', this.withHandler(function (event) {
                if (event.isError()) {
                    return Bacon.more;
                } else {
                    return this.push(event);
                }
            }));
        };
        Observable.prototype.withStateMachine = function (initState, f) {
            var state;
            state = initState;
            return withDescription(this, 'withStateMachine', initState, f, this.withHandler(function (event) {
                var fromF, newState, output, outputs, reply, _i, _len;
                fromF = f(state, event);
                newState = fromF[0], outputs = fromF[1];
                state = newState;
                reply = Bacon.more;
                for (_i = 0, _len = outputs.length; _i < _len; _i++) {
                    output = outputs[_i];
                    reply = this.push(output);
                    if (reply === Bacon.noMore) {
                        return reply;
                    }
                }
                return reply;
            }));
        };
        Observable.prototype.scan = function (seed, f, lazyF) {
            var acc, f_, resultProperty, root, subscribe, _this = this;
            f_ = toCombinator(f);
            f = lazyF ? f_ : function (x, y) {
                return f_(x(), y());
            };
            acc = toOption(seed).map(function (x) {
                return _.always(x);
            });
            root = this;
            subscribe = function (sink) {
                var initSent, reply, sendInit, unsub;
                initSent = false;
                unsub = nop;
                reply = Bacon.more;
                sendInit = function () {
                    if (!initSent) {
                        return acc.forEach(function (valueF) {
                            initSent = true;
                            reply = sink(new Initial(valueF));
                            if (reply === Bacon.noMore) {
                                unsub();
                                return unsub = nop;
                            }
                        });
                    }
                };
                unsub = _this.subscribe(function (event) {
                    var next, prev;
                    if (event.hasValue()) {
                        if (initSent && event.isInitial()) {
                            return Bacon.more;
                        } else {
                            if (!event.isInitial()) {
                                sendInit();
                            }
                            initSent = true;
                            prev = acc.getOrElse(function () {
                                return void 0;
                            });
                            next = _.cached(function () {
                                return f(prev, event.value);
                            });
                            acc = new Some(next);
                            return sink(event.apply(next));
                        }
                    } else {
                        if (event.isEnd()) {
                            reply = sendInit();
                        }
                        if (reply !== Bacon.noMore) {
                            return sink(event);
                        }
                    }
                });
                UpdateBarrier.whenDone(resultProperty, sendInit);
                return unsub;
            };
            return resultProperty = new Property(describe(this, 'scan', seed, f), subscribe);
        };
        Observable.prototype.fold = function (seed, f) {
            return withDescription(this, 'fold', seed, f, this.scan(seed, f).sampledBy(this.filter(false).mapEnd().toProperty()));
        };
        Observable.prototype.zip = function (other, f) {
            if (f == null) {
                f = Array;
            }
            return withDescription(this, 'zip', other, Bacon.zipWith([
                this,
                other
            ], f));
        };
        Observable.prototype.diff = function (start, f) {
            f = toCombinator(f);
            return withDescription(this, 'diff', start, f, this.scan([start], function (prevTuple, next) {
                return [
                    next,
                    f(prevTuple[0], next)
                ];
            }).filter(function (tuple) {
                return tuple.length === 2;
            }).map(function (tuple) {
                return tuple[1];
            }));
        };
        Observable.prototype.flatMap = function (f, firstOnly) {
            var root;
            f = makeSpawner(f);
            root = this;
            return new EventStream(describe(root, 'flatMap' + (firstOnly ? 'First' : ''), f), function (sink) {
                var checkEnd, composite;
                composite = new CompositeUnsubscribe();
                checkEnd = function (unsub) {
                    unsub();
                    if (composite.empty()) {
                        return sink(end());
                    }
                };
                composite.add(function (__, unsubRoot) {
                    return root.subscribe(function (event) {
                        var child;
                        if (event.isEnd()) {
                            return checkEnd(unsubRoot);
                        } else if (event.isError()) {
                            return sink(event);
                        } else if (firstOnly && composite.count() > 1) {
                            return Bacon.more;
                        } else {
                            if (composite.unsubscribed) {
                                return Bacon.noMore;
                            }
                            child = f(event.value());
                            if (!isObservable(child)) {
                                child = Bacon.once(child);
                            }
                            return composite.add(function (unsubAll, unsubMe) {
                                return child.subscribe(function (event) {
                                    var reply;
                                    if (event.isEnd()) {
                                        checkEnd(unsubMe);
                                        return Bacon.noMore;
                                    } else {
                                        if (event instanceof Initial) {
                                            event = event.toNext();
                                        }
                                        reply = sink(event);
                                        if (reply === Bacon.noMore) {
                                            unsubAll();
                                        }
                                        return reply;
                                    }
                                });
                            });
                        }
                    });
                });
                return composite.unsubscribe;
            });
        };
        Observable.prototype.flatMapFirst = function (f) {
            return this.flatMap(f, true);
        };
        Observable.prototype.flatMapLatest = function (f) {
            var stream, _this = this;
            f = makeSpawner(f);
            stream = this.toEventStream();
            return withDescription(this, 'flatMapLatest', f, stream.flatMap(function (value) {
                return f(value).takeUntil(stream);
            }));
        };
        Observable.prototype.not = function () {
            return withDescription(this, 'not', this.map(function (x) {
                return !x;
            }));
        };
        Observable.prototype.log = function () {
            var args;
            args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
            this.subscribe(function (event) {
                return typeof console !== 'undefined' && console !== null ? typeof console.log === 'function' ? console.log.apply(console, __slice.call(args).concat([event.toString()])) : void 0 : void 0;
            });
            return this;
        };
        Observable.prototype.slidingWindow = function (n, minValues) {
            if (minValues == null) {
                minValues = 0;
            }
            return withDescription(this, 'slidingWindow', n, minValues, this.scan([], function (window, value) {
                return window.concat([value]).slice(-n);
            }).filter(function (values) {
                return values.length >= minValues;
            }));
        };
        Observable.prototype.combine = function (other, f) {
            var combinator;
            combinator = toCombinator(f);
            return withDescription(this, 'combine', other, f, Bacon.combineAsArray(this, other).map(function (values) {
                return combinator(values[0], values[1]);
            }));
        };
        Observable.prototype.decode = function (cases) {
            return withDescription(this, 'decode', cases, this.combine(Bacon.combineTemplate(cases), function (key, values) {
                return values[key];
            }));
        };
        Observable.prototype.awaiting = function (other) {
            return withDescription(this, 'awaiting', other, Bacon.groupSimultaneous(this, other).map(function (_arg) {
                var myValues, otherValues;
                myValues = _arg[0], otherValues = _arg[1];
                return otherValues.length === 0;
            }).toProperty(false).skipDuplicates());
        };
        Observable.prototype.name = function (name) {
            this.toString = function () {
                return name;
            };
            return this;
        };
        return Observable;
    }();
    Observable.prototype.reduce = Observable.prototype.fold;
    EventStream = function (_super) {
        __extends(EventStream, _super);
        function EventStream(desc, subscribe) {
            this.takeUntil = __bind(this.takeUntil, this);
            this.sampledBy = __bind(this.sampledBy, this);
            var dispatcher;
            if (isFunction(desc)) {
                subscribe = desc;
                desc = [];
            }
            EventStream.__super__.constructor.call(this, desc);
            assertFunction(subscribe);
            dispatcher = new Dispatcher(subscribe);
            this.subscribe = dispatcher.subscribe;
            this.subscribeInternal = this.subscribe;
            this.hasSubscribers = dispatcher.hasSubscribers;
            registerObs(this);
        }
        EventStream.prototype.delay = function (delay) {
            return withDescription(this, 'delay', delay, this.flatMap(function (value) {
                return Bacon.later(delay, value);
            }));
        };
        EventStream.prototype.debounce = function (delay) {
            return withDescription(this, 'debounce', delay, this.flatMapLatest(function (value) {
                return Bacon.later(delay, value);
            }));
        };
        EventStream.prototype.debounceImmediate = function (delay) {
            return withDescription(this, 'debounceImmediate', delay, this.flatMapFirst(function (value) {
                return Bacon.once(value).concat(Bacon.later(delay).filter(false));
            }));
        };
        EventStream.prototype.throttle = function (delay) {
            return withDescription(this, 'throttle', delay, this.bufferWithTime(delay).map(function (values) {
                return values[values.length - 1];
            }));
        };
        EventStream.prototype.bufferWithTime = function (delay) {
            return withDescription(this, 'bufferWithTime', delay, this.bufferWithTimeOrCount(delay, Number.MAX_VALUE));
        };
        EventStream.prototype.bufferWithCount = function (count) {
            return withDescription(this, 'bufferWithCount', count, this.bufferWithTimeOrCount(void 0, count));
        };
        EventStream.prototype.bufferWithTimeOrCount = function (delay, count) {
            var flushOrSchedule;
            flushOrSchedule = function (buffer) {
                if (buffer.values.length === count) {
                    return buffer.flush();
                } else if (delay !== void 0) {
                    return buffer.schedule();
                }
            };
            return withDescription(this, 'bufferWithTimeOrCount', delay, count, this.buffer(delay, flushOrSchedule, flushOrSchedule));
        };
        EventStream.prototype.buffer = function (delay, onInput, onFlush) {
            var buffer, delayMs, reply;
            if (onInput == null) {
                onInput = function () {
                };
            }
            if (onFlush == null) {
                onFlush = function () {
                };
            }
            buffer = {
                scheduled: false,
                end: null,
                values: [],
                flush: function () {
                    var reply;
                    this.scheduled = false;
                    if (this.values.length > 0) {
                        reply = this.push(next(this.values));
                        this.values = [];
                        if (this.end != null) {
                            return this.push(this.end);
                        } else if (reply !== Bacon.noMore) {
                            return onFlush(this);
                        }
                    } else {
                        if (this.end != null) {
                            return this.push(this.end);
                        }
                    }
                },
                schedule: function () {
                    var _this = this;
                    if (!this.scheduled) {
                        this.scheduled = true;
                        return delay(function () {
                            return _this.flush();
                        });
                    }
                }
            };
            reply = Bacon.more;
            if (!isFunction(delay)) {
                delayMs = delay;
                delay = function (f) {
                    return Bacon.scheduler.setTimeout(f, delayMs);
                };
            }
            return withDescription(this, 'buffer', this.withHandler(function (event) {
                buffer.push = this.push;
                if (event.isError()) {
                    reply = this.push(event);
                } else if (event.isEnd()) {
                    buffer.end = event;
                    if (!buffer.scheduled) {
                        buffer.flush();
                    }
                } else {
                    buffer.values.push(event.value());
                    onInput(buffer);
                }
                return reply;
            }));
        };
        EventStream.prototype.merge = function (right) {
            var left;
            assertEventStream(right);
            left = this;
            return new EventStream(describe(left, 'merge', right), function (sink) {
                var ends, smartSink;
                ends = 0;
                smartSink = function (obs) {
                    return function (unsubBoth) {
                        return obs.subscribe(function (event) {
                            var reply;
                            if (event.isEnd()) {
                                ends++;
                                if (ends === 2) {
                                    return sink(end());
                                } else {
                                    return Bacon.more;
                                }
                            } else {
                                reply = sink(event);
                                if (reply === Bacon.noMore) {
                                    unsubBoth();
                                }
                                return reply;
                            }
                        });
                    };
                };
                return compositeUnsubscribe(smartSink(left), smartSink(right));
            });
        };
        EventStream.prototype.toProperty = function (initValue) {
            if (arguments.length === 0) {
                initValue = None;
            }
            return withDescription(this, 'toProperty', initValue, this.scan(initValue, latterF, true));
        };
        EventStream.prototype.toEventStream = function () {
            return this;
        };
        EventStream.prototype.sampledBy = function (sampler, combinator) {
            return withDescription(this, 'sampledBy', sampler, combinator, this.toProperty().sampledBy(sampler, combinator));
        };
        EventStream.prototype.concat = function (right) {
            var left;
            left = this;
            return new EventStream(describe(left, 'concat', right), function (sink) {
                var unsubLeft, unsubRight;
                unsubRight = nop;
                unsubLeft = left.subscribe(function (e) {
                    if (e.isEnd()) {
                        return unsubRight = right.subscribe(sink);
                    } else {
                        return sink(e);
                    }
                });
                return function () {
                    unsubLeft();
                    return unsubRight();
                };
            });
        };
        EventStream.prototype.takeUntil = function (stopper) {
            var endMarker;
            endMarker = {};
            return withDescription(this, 'takeUntil', stopper, Bacon.groupSimultaneous(this.mapEnd(endMarker), stopper.skipErrors()).withHandler(function (event) {
                var data, reply, value, _i, _len, _ref3;
                if (!event.hasValue()) {
                    return this.push(event);
                } else {
                    _ref3 = event.value(), data = _ref3[0], stopper = _ref3[1];
                    if (stopper.length) {
                        return this.push(end());
                    } else {
                        reply = Bacon.more;
                        for (_i = 0, _len = data.length; _i < _len; _i++) {
                            value = data[_i];
                            if (value === endMarker) {
                                reply = this.push(end());
                            } else {
                                reply = this.push(next(value));
                            }
                        }
                        return reply;
                    }
                }
            }));
        };
        EventStream.prototype.skipUntil = function (starter) {
            var started;
            started = starter.take(1).map(true).toProperty(false);
            return withDescription(this, 'skipUntil', starter, this.filter(started));
        };
        EventStream.prototype.skipWhile = function () {
            var args, f, ok;
            f = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
            ok = false;
            return convertArgsToFunction(this, f, args, function (f) {
                return withDescription(this, 'skipWhile', f, this.withHandler(function (event) {
                    if (ok || !event.hasValue() || !f(event.value())) {
                        if (event.hasValue()) {
                            ok = true;
                        }
                        return this.push(event);
                    } else {
                        return Bacon.more;
                    }
                }));
            });
        };
        EventStream.prototype.startWith = function (seed) {
            return withDescription(this, 'startWith', seed, Bacon.once(seed).concat(this));
        };
        EventStream.prototype.withHandler = function (handler) {
            var dispatcher;
            dispatcher = new Dispatcher(this.subscribe, handler);
            return new EventStream(describe(this, 'withHandler', handler), dispatcher.subscribe);
        };
        return EventStream;
    }(Observable);
    Property = function (_super) {
        __extends(Property, _super);
        function Property(desc, subscribe, handler) {
            this.toEventStream = __bind(this.toEventStream, this);
            this.toProperty = __bind(this.toProperty, this);
            this.changes = __bind(this.changes, this);
            this.sample = __bind(this.sample, this);
            var _this = this;
            if (isFunction(desc)) {
                handler = subscribe;
                subscribe = desc;
                desc = [];
            }
            Property.__super__.constructor.call(this, desc);
            assertFunction(subscribe);
            if (handler === true) {
                this.subscribeInternal = subscribe;
            } else {
                this.subscribeInternal = new PropertyDispatcher(this, subscribe, handler).subscribe;
            }
            this.sampledBy = function (sampler, combinator) {
                var lazy, result, samplerSource, stream, thisSource;
                if (combinator != null) {
                    combinator = toCombinator(combinator);
                } else {
                    lazy = true;
                    combinator = function (f) {
                        return f();
                    };
                }
                thisSource = new Source(_this, false, false, _this.subscribeInternal, lazy);
                samplerSource = new Source(sampler, true, false, sampler.subscribe, lazy);
                stream = Bacon.when([
                    thisSource,
                    samplerSource
                ], combinator);
                result = sampler instanceof Property ? stream.toProperty() : stream;
                return withDescription(_this, 'sampledBy', sampler, combinator, result);
            };
            this.subscribe = this.subscribeInternal;
            registerObs(this);
        }
        Property.prototype.sample = function (interval) {
            return withDescription(this, 'sample', interval, this.sampledBy(Bacon.interval(interval, {})));
        };
        Property.prototype.changes = function () {
            var _this = this;
            return new EventStream(describe(this, 'changes'), function (sink) {
                return _this.subscribe(function (event) {
                    if (!event.isInitial()) {
                        return sink(event);
                    }
                });
            });
        };
        Property.prototype.withHandler = function (handler) {
            return new Property(describe(this, 'withHandler', handler), this.subscribeInternal, handler);
        };
        Property.prototype.toProperty = function () {
            assertNoArguments(arguments);
            return this;
        };
        Property.prototype.toEventStream = function () {
            var _this = this;
            return new EventStream(describe(this, 'toEventStream'), function (sink) {
                return _this.subscribe(function (event) {
                    if (event.isInitial()) {
                        event = event.toNext();
                    }
                    return sink(event);
                });
            });
        };
        Property.prototype.and = function (other) {
            return withDescription(this, 'and', other, this.combine(other, function (x, y) {
                return x && y;
            }));
        };
        Property.prototype.or = function (other) {
            return withDescription(this, 'or', other, this.combine(other, function (x, y) {
                return x || y;
            }));
        };
        Property.prototype.delay = function (delay) {
            return this.delayChanges('delay', delay, function (changes) {
                return changes.delay(delay);
            });
        };
        Property.prototype.debounce = function (delay) {
            return this.delayChanges('debounce', delay, function (changes) {
                return changes.debounce(delay);
            });
        };
        Property.prototype.throttle = function (delay) {
            return this.delayChanges('throttle', delay, function (changes) {
                return changes.throttle(delay);
            });
        };
        Property.prototype.delayChanges = function () {
            var desc, f, _i;
            desc = 2 <= arguments.length ? __slice.call(arguments, 0, _i = arguments.length - 1) : (_i = 0, []), f = arguments[_i++];
            return withDescription.apply(null, [this].concat(__slice.call(desc), [addPropertyInitValueToStream(this, f(this.changes()))]));
        };
        Property.prototype.takeUntil = function (stopper) {
            var changes;
            changes = this.changes().takeUntil(stopper);
            return withDescription(this, 'takeUntil', stopper, addPropertyInitValueToStream(this, changes));
        };
        Property.prototype.startWith = function (value) {
            return withDescription(this, 'startWith', value, this.scan(value, function (prev, next) {
                return next;
            }));
        };
        return Property;
    }(Observable);
    convertArgsToFunction = function (obs, f, args, method) {
        var sampled;
        if (f instanceof Property) {
            sampled = f.sampledBy(obs, function (p, s) {
                return [
                    p,
                    s
                ];
            });
            return method.apply(sampled, [function (_arg) {
                    var p, s;
                    p = _arg[0], s = _arg[1];
                    return p;
                }]).map(function (_arg) {
                var p, s;
                p = _arg[0], s = _arg[1];
                return s;
            });
        } else {
            f = makeFunction(f, args);
            return method.apply(obs, [f]);
        }
    };
    addPropertyInitValueToStream = function (property, stream) {
        var justInitValue;
        justInitValue = new EventStream(describe(property, 'justInitValue'), function (sink) {
            var unsub, value;
            value = null;
            unsub = property.subscribe(function (event) {
                if (event.hasValue()) {
                    value = event;
                }
                return Bacon.noMore;
            });
            UpdateBarrier.whenDone(justInitValue, function () {
                if (value != null) {
                    sink(value);
                }
                return sink(end());
            });
            return unsub;
        });
        return justInitValue.concat(stream).toProperty();
    };
    Dispatcher = function () {
        function Dispatcher(subscribe, handleEvent) {
            var done, ended, prevError, pushIt, pushing, queue, removeSub, subscriptions, unsubscribeFromSource, waiters, _this = this;
            if (subscribe == null) {
                subscribe = function () {
                    return nop;
                };
            }
            subscriptions = [];
            queue = null;
            pushing = false;
            ended = false;
            this.hasSubscribers = function () {
                return subscriptions.length > 0;
            };
            prevError = null;
            unsubscribeFromSource = nop;
            removeSub = function (subscription) {
                return subscriptions = _.without(subscription, subscriptions);
            };
            waiters = null;
            done = function () {
                var w, ws, _i, _len, _results;
                if (waiters != null) {
                    ws = waiters;
                    waiters = null;
                    _results = [];
                    for (_i = 0, _len = ws.length; _i < _len; _i++) {
                        w = ws[_i];
                        _results.push(w());
                    }
                    return _results;
                }
            };
            pushIt = function (event) {
                var reply, sub, success, tmp, _i, _len;
                if (!pushing) {
                    if (event === prevError) {
                        return;
                    }
                    if (event.isError()) {
                        prevError = event;
                    }
                    success = false;
                    try {
                        pushing = true;
                        tmp = subscriptions;
                        for (_i = 0, _len = tmp.length; _i < _len; _i++) {
                            sub = tmp[_i];
                            reply = sub.sink(event);
                            if (reply === Bacon.noMore || event.isEnd()) {
                                removeSub(sub);
                            }
                        }
                        success = true;
                    } finally {
                        pushing = false;
                        if (!success) {
                            queue = null;
                        }
                    }
                    success = true;
                    while (queue != null ? queue.length : void 0) {
                        event = _.head(queue);
                        queue = _.tail(queue);
                        this.push(event);
                    }
                    done(event);
                    if (this.hasSubscribers()) {
                        return Bacon.more;
                    } else {
                        return Bacon.noMore;
                    }
                } else {
                    queue = (queue || []).concat([event]);
                    return Bacon.more;
                }
            };
            this.push = function (event) {
                return UpdateBarrier.inTransaction(event, _this, pushIt, [event]);
            };
            if (handleEvent == null) {
                handleEvent = function (event) {
                    return this.push(event);
                };
            }
            this.handleEvent = function (event) {
                if (event.isEnd()) {
                    ended = true;
                }
                return handleEvent.apply(_this, [event]);
            };
            this.subscribe = function (sink) {
                var subscription;
                if (ended) {
                    sink(end());
                    return nop;
                } else {
                    assertFunction(sink);
                    subscription = { sink: sink };
                    subscriptions = subscriptions.concat(subscription);
                    if (subscriptions.length === 1) {
                        unsubscribeFromSource = subscribe(_this.handleEvent);
                    }
                    assertFunction(unsubscribeFromSource);
                    return function () {
                        removeSub(subscription);
                        if (!_this.hasSubscribers()) {
                            return unsubscribeFromSource();
                        }
                    };
                }
            };
        }
        return Dispatcher;
    }();
    PropertyDispatcher = function (_super) {
        __extends(PropertyDispatcher, _super);
        function PropertyDispatcher(p, subscribe, handleEvent) {
            var current, currentValueRootId, ended, push, _this = this;
            PropertyDispatcher.__super__.constructor.call(this, subscribe, handleEvent);
            current = None;
            currentValueRootId = void 0;
            push = this.push;
            subscribe = this.subscribe;
            ended = false;
            this.push = function (event) {
                if (event.isEnd()) {
                    ended = true;
                }
                if (event.hasValue()) {
                    current = new Some(event);
                    currentValueRootId = UpdateBarrier.currentEventId();
                }
                return push.apply(_this, [event]);
            };
            this.subscribe = function (sink) {
                var dispatchingId, initSent, maybeSubSource, reply, valId;
                initSent = false;
                reply = Bacon.more;
                maybeSubSource = function () {
                    if (reply === Bacon.noMore) {
                        return nop;
                    } else if (ended) {
                        sink(end());
                        return nop;
                    } else {
                        return subscribe.apply(this, [sink]);
                    }
                };
                if (current.isDefined && (_this.hasSubscribers() || ended)) {
                    dispatchingId = UpdateBarrier.currentEventId();
                    valId = currentValueRootId;
                    if (!ended && valId && dispatchingId && dispatchingId !== valId) {
                        UpdateBarrier.whenDone(p, function () {
                            if (currentValueRootId === valId) {
                                return sink(initial(current.get().value()));
                            }
                        });
                        return maybeSubSource();
                    } else {
                        UpdateBarrier.inTransaction(void 0, _this, function () {
                            return reply = sink(initial(current.get().value()));
                        }, []);
                        return maybeSubSource();
                    }
                } else {
                    return maybeSubSource();
                }
            };
        }
        return PropertyDispatcher;
    }(Dispatcher);
    Bus = function (_super) {
        __extends(Bus, _super);
        function Bus() {
            var ended, guardedSink, sink, subscribeAll, subscribeInput, subscriptions, unsubAll, unsubscribeInput, _this = this;
            sink = void 0;
            subscriptions = [];
            ended = false;
            guardedSink = function (input) {
                return function (event) {
                    if (event.isEnd()) {
                        unsubscribeInput(input);
                        return Bacon.noMore;
                    } else {
                        return sink(event);
                    }
                };
            };
            unsubAll = function () {
                var sub, _i, _len, _results;
                _results = [];
                for (_i = 0, _len = subscriptions.length; _i < _len; _i++) {
                    sub = subscriptions[_i];
                    _results.push(typeof sub.unsub === 'function' ? sub.unsub() : void 0);
                }
                return _results;
            };
            subscribeInput = function (subscription) {
                return subscription.unsub = subscription.input.subscribe(guardedSink(subscription.input));
            };
            unsubscribeInput = function (input) {
                var i, sub, _i, _len;
                for (i = _i = 0, _len = subscriptions.length; _i < _len; i = ++_i) {
                    sub = subscriptions[i];
                    if (sub.input === input) {
                        if (typeof sub.unsub === 'function') {
                            sub.unsub();
                        }
                        subscriptions.splice(i, 1);
                        return;
                    }
                }
            };
            subscribeAll = function (newSink) {
                var subscription, _i, _len, _ref3;
                sink = newSink;
                _ref3 = cloneArray(subscriptions);
                for (_i = 0, _len = _ref3.length; _i < _len; _i++) {
                    subscription = _ref3[_i];
                    subscribeInput(subscription);
                }
                return unsubAll;
            };
            Bus.__super__.constructor.call(this, describe(Bacon, 'Bus'), subscribeAll);
            this.plug = function (input) {
                var sub;
                if (ended) {
                    return;
                }
                sub = { input: input };
                subscriptions.push(sub);
                if (sink != null) {
                    subscribeInput(sub);
                }
                return function () {
                    return unsubscribeInput(input);
                };
            };
            this.push = function (value) {
                return typeof sink === 'function' ? sink(next(value)) : void 0;
            };
            this.error = function (error) {
                return typeof sink === 'function' ? sink(new Error(error)) : void 0;
            };
            this.end = function () {
                ended = true;
                unsubAll();
                return typeof sink === 'function' ? sink(end()) : void 0;
            };
        }
        return Bus;
    }(EventStream);
    Source = function () {
        function Source(obs, sync, consume, subscribe, lazy, queue) {
            var invoke;
            this.obs = obs;
            this.sync = sync;
            this.subscribe = subscribe;
            if (lazy == null) {
                lazy = false;
            }
            if (queue == null) {
                queue = [];
            }
            invoke = lazy ? _.id : function (f) {
                return f();
            };
            if (this.subscribe == null) {
                this.subscribe = obs.subscribe;
            }
            this.markEnded = function () {
                return this.ended = true;
            };
            this.toString = this.obs.toString;
            if (consume) {
                this.consume = function () {
                    return invoke(queue.shift());
                };
                this.push = function (x) {
                    return queue.push(x);
                };
                this.mayHave = function (c) {
                    return !this.ended || queue.length >= c;
                };
                this.hasAtLeast = function (c) {
                    return queue.length >= c;
                };
                this.flatten = false;
            } else {
                this.consume = function () {
                    return invoke(queue[0]);
                };
                this.push = function (x) {
                    return queue = [x];
                };
                this.mayHave = function () {
                    return true;
                };
                this.hasAtLeast = function () {
                    return queue.length;
                };
                this.flatten = true;
            }
        }
        return Source;
    }();
    BufferingSource = function (_super) {
        __extends(BufferingSource, _super);
        function BufferingSource(obs) {
            var queue;
            this.obs = obs;
            queue = [];
            BufferingSource.__super__.constructor.call(this, this.obs, true, false, this.obs.subscribe, false, queue);
            this.consume = function () {
                var values;
                values = queue;
                queue = [];
                return values;
            };
            this.push = function (x) {
                return queue.push(x());
            };
            this.hasAtLeast = function () {
                return true;
            };
        }
        return BufferingSource;
    }(Source);
    Source.fromObservable = function (s) {
        if (s instanceof Source) {
            return s;
        } else if (s instanceof Property) {
            return new Source(s, false, false);
        } else {
            return new Source(s, true, true);
        }
    };
    describe = function () {
        var args, context, method;
        context = arguments[0], method = arguments[1], args = 3 <= arguments.length ? __slice.call(arguments, 2) : [];
        if ((context || method) instanceof Desc) {
            return context || method;
        } else {
            return new Desc(context, method, args);
        }
    };
    Desc = function () {
        function Desc(context, method, args) {
            var collectDeps, dependsOn, findDeps, flatDeps;
            findDeps = function (x) {
                if (isArray(x)) {
                    return _.flatMap(findDeps, x);
                } else if (isObservable(x)) {
                    return [x];
                } else if (x instanceof Source) {
                    return [x.obs];
                } else {
                    return [];
                }
            };
            flatDeps = null;
            collectDeps = function (o) {
                var deps;
                deps = o.internalDeps();
                return _.each(deps, function (i, dep) {
                    flatDeps[dep.id] = true;
                    return collectDeps(dep);
                });
            };
            dependsOn = function (b) {
                if (flatDeps == null) {
                    flatDeps = {};
                    collectDeps(this);
                }
                return flatDeps[b.id];
            };
            this.apply = function (obs) {
                var deps;
                deps = _.cached(function () {
                    return findDeps([context].concat(args));
                });
                obs.internalDeps = obs.internalDeps || deps;
                obs.dependsOn = dependsOn;
                obs.deps = deps;
                obs.toString = function () {
                    return _.toString(context) + '.' + _.toString(method) + '(' + _.map(_.toString, args) + ')';
                };
                obs.inspect = function () {
                    return obs.toString();
                };
                obs.desc = function () {
                    return {
                        context: context,
                        method: method,
                        args: args
                    };
                };
                return obs;
            };
        }
        return Desc;
    }();
    withDescription = function () {
        var desc, obs, _i;
        desc = 2 <= arguments.length ? __slice.call(arguments, 0, _i = arguments.length - 1) : (_i = 0, []), obs = arguments[_i++];
        return describe.apply(null, desc).apply(obs);
    };
    Bacon.when = function () {
        var f, i, index, ix, len, needsBarrier, pat, patSources, pats, patterns, resultStream, s, sources, usage, _i, _j, _len, _len1, _ref3;
        patterns = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
        if (patterns.length === 0) {
            return Bacon.never();
        }
        len = patterns.length;
        usage = 'when: expecting arguments in the form (Observable+,function)+';
        assert(usage, len % 2 === 0);
        sources = [];
        pats = [];
        i = 0;
        while (i < len) {
            patSources = _.toArray(patterns[i]);
            f = patterns[i + 1];
            pat = {
                f: isFunction(f) ? f : function () {
                    return f;
                },
                ixs: []
            };
            for (_i = 0, _len = patSources.length; _i < _len; _i++) {
                s = patSources[_i];
                assert(isObservable(s), usage);
                index = _.indexOf(sources, s);
                if (index < 0) {
                    sources.push(s);
                    index = sources.length - 1;
                }
                _ref3 = pat.ixs;
                for (_j = 0, _len1 = _ref3.length; _j < _len1; _j++) {
                    ix = _ref3[_j];
                    if (ix.index === index) {
                        ix.count++;
                    }
                }
                pat.ixs.push({
                    index: index,
                    count: 1
                });
            }
            if (patSources.length > 0) {
                pats.push(pat);
            }
            i = i + 2;
        }
        if (!sources.length) {
            return Bacon.never();
        }
        sources = _.map(Source.fromObservable, sources);
        needsBarrier = _.any(sources, function (s) {
            return s.flatten;
        }) && containsDuplicateDeps(_.map(function (s) {
            return s.obs;
        }, sources));
        return resultStream = new EventStream(describe.apply(null, [
            Bacon,
            'when'
        ].concat(__slice.call(patterns))), function (sink) {
            var cannotMatch, cannotSync, ends, match, nonFlattened, part, triggers;
            triggers = [];
            ends = false;
            match = function (p) {
                var _k, _len2, _ref4;
                _ref4 = p.ixs;
                for (_k = 0, _len2 = _ref4.length; _k < _len2; _k++) {
                    i = _ref4[_k];
                    if (!sources[i.index].hasAtLeast(i.count)) {
                        return false;
                    }
                }
                return true;
            };
            cannotSync = function (source) {
                return !source.sync || source.ended;
            };
            cannotMatch = function (p) {
                var _k, _len2, _ref4;
                _ref4 = p.ixs;
                for (_k = 0, _len2 = _ref4.length; _k < _len2; _k++) {
                    i = _ref4[_k];
                    if (!sources[i.index].mayHave(i.count)) {
                        return true;
                    }
                }
            };
            nonFlattened = function (trigger) {
                return !trigger.source.flatten;
            };
            part = function (source) {
                return function (unsubAll) {
                    var flush, flushLater, flushWhileTriggers;
                    flushLater = function () {
                        return UpdateBarrier.whenDone(resultStream, flush);
                    };
                    flushWhileTriggers = function () {
                        var p, reply, trigger, val, _k, _len2;
                        if (triggers.length > 0) {
                            reply = Bacon.more;
                            trigger = triggers.pop();
                            for (_k = 0, _len2 = pats.length; _k < _len2; _k++) {
                                p = pats[_k];
                                if (match(p)) {
                                    val = function () {
                                        return p.f.apply(p, function () {
                                            var _l, _len3, _ref4, _results;
                                            _ref4 = p.ixs;
                                            _results = [];
                                            for (_l = 0, _len3 = _ref4.length; _l < _len3; _l++) {
                                                i = _ref4[_l];
                                                _results.push(sources[i.index].consume());
                                            }
                                            return _results;
                                        }());
                                    };
                                    reply = sink(trigger.e.apply(val));
                                    if (triggers.length && needsBarrier) {
                                        triggers = _.filter(nonFlattened, triggers);
                                    }
                                    if (reply === Bacon.noMore) {
                                        return reply;
                                    } else {
                                        return flushWhileTriggers();
                                    }
                                }
                            }
                        } else {
                            return Bacon.more;
                        }
                    };
                    flush = function () {
                        var reply;
                        reply = flushWhileTriggers();
                        if (ends) {
                            ends = false;
                            if (_.all(sources, cannotSync) || _.all(pats, cannotMatch)) {
                                reply = Bacon.noMore;
                                sink(end());
                            }
                        }
                        if (reply === Bacon.noMore) {
                            unsubAll();
                        }
                        return reply;
                    };
                    return source.subscribe(function (e) {
                        var reply;
                        if (e.isEnd()) {
                            ends = true;
                            source.markEnded();
                            flushLater();
                        } else if (e.isError()) {
                            reply = sink(e);
                        } else {
                            source.push(e.value);
                            if (source.sync) {
                                triggers.push({
                                    source: source,
                                    e: e
                                });
                                if (needsBarrier) {
                                    flushLater();
                                } else {
                                    flush();
                                }
                            }
                        }
                        if (reply === Bacon.noMore) {
                            unsubAll();
                        }
                        return reply || Bacon.more;
                    });
                };
            };
            return compositeUnsubscribe.apply(null, function () {
                var _k, _len2, _results;
                _results = [];
                for (_k = 0, _len2 = sources.length; _k < _len2; _k++) {
                    s = sources[_k];
                    _results.push(part(s));
                }
                return _results;
            }());
        });
    };
    containsDuplicateDeps = function (observables, state) {
        var checkObservable;
        if (state == null) {
            state = [];
        }
        checkObservable = function (obs) {
            var deps;
            if (Bacon._.contains(state, obs)) {
                return true;
            } else {
                deps = obs.internalDeps();
                if (deps.length) {
                    state.push(obs);
                    return Bacon._.any(deps, checkObservable);
                } else {
                    state.push(obs);
                    return false;
                }
            }
        };
        return Bacon._.any(observables, checkObservable);
    };
    Bacon.update = function () {
        var i, initial, lateBindFirst, patterns;
        initial = arguments[0], patterns = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
        lateBindFirst = function (f) {
            return function () {
                var args;
                args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
                return function (i) {
                    return f.apply(null, [i].concat(args));
                };
            };
        };
        i = patterns.length - 1;
        while (i > 0) {
            if (!(patterns[i] instanceof Function)) {
                patterns[i] = function (x) {
                    return function () {
                        return x;
                    };
                }(patterns[i]);
            }
            patterns[i] = lateBindFirst(patterns[i]);
            i = i - 2;
        }
        return withDescription.apply(null, [
            Bacon,
            'update',
            initial
        ].concat(__slice.call(patterns), [Bacon.when.apply(Bacon, patterns).scan(initial, function (x, f) {
                return f(x);
            })]));
    };
    compositeUnsubscribe = function () {
        var ss;
        ss = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
        return new CompositeUnsubscribe(ss).unsubscribe;
    };
    CompositeUnsubscribe = function () {
        function CompositeUnsubscribe(ss) {
            var s, _i, _len;
            if (ss == null) {
                ss = [];
            }
            this.empty = __bind(this.empty, this);
            this.count = __bind(this.count, this);
            this.unsubscribe = __bind(this.unsubscribe, this);
            this.add = __bind(this.add, this);
            this.unsubscribed = false;
            this.subscriptions = [];
            this.starting = [];
            for (_i = 0, _len = ss.length; _i < _len; _i++) {
                s = ss[_i];
                this.add(s);
            }
        }
        CompositeUnsubscribe.prototype.add = function (subscription) {
            var ended, unsub, unsubMe, _this = this;
            if (this.unsubscribed) {
                return;
            }
            ended = false;
            unsub = nop;
            this.starting.push(subscription);
            unsubMe = function () {
                if (_this.unsubscribed) {
                    return;
                }
                ended = true;
                _this.remove(unsub);
                return _.remove(subscription, _this.starting);
            };
            unsub = subscription(this.unsubscribe, unsubMe);
            if (!(this.unsubscribed || ended)) {
                this.subscriptions.push(unsub);
            }
            _.remove(subscription, this.starting);
            return unsub;
        };
        CompositeUnsubscribe.prototype.remove = function (unsub) {
            if (this.unsubscribed) {
                return;
            }
            if (_.remove(unsub, this.subscriptions) !== void 0) {
                return unsub();
            }
        };
        CompositeUnsubscribe.prototype.unsubscribe = function () {
            var s, _i, _len, _ref3;
            if (this.unsubscribed) {
                return;
            }
            this.unsubscribed = true;
            _ref3 = this.subscriptions;
            for (_i = 0, _len = _ref3.length; _i < _len; _i++) {
                s = _ref3[_i];
                s();
            }
            this.subscriptions = [];
            return this.starting = [];
        };
        CompositeUnsubscribe.prototype.count = function () {
            if (this.unsubscribed) {
                return 0;
            }
            return this.subscriptions.length + this.starting.length;
        };
        CompositeUnsubscribe.prototype.empty = function () {
            return this.count() === 0;
        };
        return CompositeUnsubscribe;
    }();
    Bacon.CompositeUnsubscribe = CompositeUnsubscribe;
    Some = function () {
        function Some(value) {
            this.value = value;
        }
        Some.prototype.getOrElse = function () {
            return this.value;
        };
        Some.prototype.get = function () {
            return this.value;
        };
        Some.prototype.filter = function (f) {
            if (f(this.value)) {
                return new Some(this.value);
            } else {
                return None;
            }
        };
        Some.prototype.map = function (f) {
            return new Some(f(this.value));
        };
        Some.prototype.forEach = function (f) {
            return f(this.value);
        };
        Some.prototype.isDefined = true;
        Some.prototype.toArray = function () {
            return [this.value];
        };
        Some.prototype.inspect = function () {
            return 'Some(' + this.value + ')';
        };
        Some.prototype.toString = function () {
            return this.inspect();
        };
        return Some;
    }();
    None = {
        getOrElse: function (value) {
            return value;
        },
        filter: function () {
            return None;
        },
        map: function () {
            return None;
        },
        forEach: function () {
        },
        isDefined: false,
        toArray: function () {
            return [];
        },
        inspect: function () {
            return 'None';
        },
        toString: function () {
            return this.inspect();
        }
    };
    UpdateBarrier = function () {
        var currentEventId, findIndependent, flush, inTransaction, independent, rootEvent, waiters, whenDone;
        rootEvent = void 0;
        waiters = [];
        independent = function (waiter) {
            return !_.any(waiters, function (other) {
                return waiter.obs.dependsOn(other.obs);
            });
        };
        whenDone = function (obs, f) {
            if (rootEvent) {
                return waiters.push({
                    obs: obs,
                    f: f
                });
            } else {
                return f();
            }
        };
        findIndependent = function () {
            while (!independent(waiters[0])) {
                waiters.push(waiters.splice(0, 1)[0]);
            }
            return waiters.splice(0, 1)[0];
        };
        flush = function () {
            if (waiters.length) {
                findIndependent().f();
                return flush();
            }
        };
        inTransaction = function (event, context, f, args) {
            var result;
            if (rootEvent) {
                return f.apply(context, args);
            } else {
                rootEvent = event;
                try {
                    result = f.apply(context, args);
                    flush();
                } finally {
                    rootEvent = void 0;
                }
                return result;
            }
        };
        currentEventId = function () {
            if (rootEvent) {
                return rootEvent.id;
            } else {
                return void 0;
            }
        };
        return {
            whenDone: whenDone,
            inTransaction: inTransaction,
            currentEventId: currentEventId
        };
    }();
    Bacon.EventStream = EventStream;
    Bacon.Property = Property;
    Bacon.Observable = Observable;
    Bacon.Bus = Bus;
    Bacon.Initial = Initial;
    Bacon.Next = Next;
    Bacon.End = End;
    Bacon.Error = Error;
    nop = function () {
    };
    latterF = function (_, x) {
        return x();
    };
    former = function (x, _) {
        return x;
    };
    initial = function (value) {
        return new Initial(_.always(value));
    };
    next = function (value) {
        return new Next(_.always(value));
    };
    end = function () {
        return new End();
    };
    toEvent = function (x) {
        if (x instanceof Event) {
            return x;
        } else {
            return next(x);
        }
    };
    cloneArray = function (xs) {
        return xs.slice(0);
    };
    assert = function (message, condition) {
        if (!condition) {
            throw message;
        }
    };
    assertEventStream = function (event) {
        if (!(event instanceof EventStream)) {
            throw 'not an EventStream : ' + event;
        }
    };
    assertFunction = function (f) {
        return assert('not a function : ' + f, isFunction(f));
    };
    isFunction = function (f) {
        return typeof f === 'function';
    };
    isArray = function (xs) {
        return xs instanceof Array;
    };
    isObservable = function (x) {
        return x instanceof Observable;
    };
    assertArray = function (xs) {
        if (!isArray(xs)) {
            throw 'not an array : ' + xs;
        }
    };
    assertNoArguments = function (args) {
        return assert('no arguments supported', args.length === 0);
    };
    assertString = function (x) {
        if (typeof x !== 'string') {
            throw 'not a string : ' + x;
        }
    };
    partiallyApplied = function (f, applied) {
        return function () {
            var args;
            args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
            return f.apply(null, applied.concat(args));
        };
    };
    makeSpawner = function (f) {
        if (isObservable(f)) {
            f = _.always(f);
        }
        assertFunction(f);
        return f;
    };
    makeFunctionArgs = function (args) {
        args = Array.prototype.slice.call(args);
        return makeFunction_.apply(null, args);
    };
    makeFunction_ = withMethodCallSupport(function () {
        var args, f;
        f = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
        if (isFunction(f)) {
            if (args.length) {
                return partiallyApplied(f, args);
            } else {
                return f;
            }
        } else if (isFieldKey(f)) {
            return toFieldExtractor(f, args);
        } else {
            return _.always(f);
        }
    });
    makeFunction = function (f, args) {
        return makeFunction_.apply(null, [f].concat(__slice.call(args)));
    };
    isFieldKey = function (f) {
        return typeof f === 'string' && f.length > 1 && f.charAt(0) === '.';
    };
    Bacon.isFieldKey = isFieldKey;
    toFieldExtractor = function (f, args) {
        var partFuncs, parts;
        parts = f.slice(1).split('.');
        partFuncs = _.map(toSimpleExtractor(args), parts);
        return function (value) {
            var _i, _len;
            for (_i = 0, _len = partFuncs.length; _i < _len; _i++) {
                f = partFuncs[_i];
                value = f(value);
            }
            return value;
        };
    };
    toSimpleExtractor = function (args) {
        return function (key) {
            return function (value) {
                var fieldValue;
                if (value == null) {
                    return void 0;
                } else {
                    fieldValue = value[key];
                    if (isFunction(fieldValue)) {
                        return fieldValue.apply(value, args);
                    } else {
                        return fieldValue;
                    }
                }
            };
        };
    };
    toFieldKey = function (f) {
        return f.slice(1);
    };
    toCombinator = function (f) {
        var key;
        if (isFunction(f)) {
            return f;
        } else if (isFieldKey(f)) {
            key = toFieldKey(f);
            return function (left, right) {
                return left[key](right);
            };
        } else {
            return assert('not a function or a field key: ' + f, false);
        }
    };
    toOption = function (v) {
        if (v instanceof Some || v === None) {
            return v;
        } else {
            return new Some(v);
        }
    };
    _ = {
        indexOf: Array.prototype.indexOf ? function (xs, x) {
            return xs.indexOf(x);
        } : function (xs, x) {
            var i, y, _i, _len;
            for (i = _i = 0, _len = xs.length; _i < _len; i = ++_i) {
                y = xs[i];
                if (x === y) {
                    return i;
                }
            }
            return -1;
        },
        indexWhere: function (xs, f) {
            var i, y, _i, _len;
            for (i = _i = 0, _len = xs.length; _i < _len; i = ++_i) {
                y = xs[i];
                if (f(y)) {
                    return i;
                }
            }
            return -1;
        },
        head: function (xs) {
            return xs[0];
        },
        always: function (x) {
            return function () {
                return x;
            };
        },
        negate: function (f) {
            return function (x) {
                return !f(x);
            };
        },
        empty: function (xs) {
            return xs.length === 0;
        },
        tail: function (xs) {
            return xs.slice(1, xs.length);
        },
        filter: function (f, xs) {
            var filtered, x, _i, _len;
            filtered = [];
            for (_i = 0, _len = xs.length; _i < _len; _i++) {
                x = xs[_i];
                if (f(x)) {
                    filtered.push(x);
                }
            }
            return filtered;
        },
        map: function (f, xs) {
            var x, _i, _len, _results;
            _results = [];
            for (_i = 0, _len = xs.length; _i < _len; _i++) {
                x = xs[_i];
                _results.push(f(x));
            }
            return _results;
        },
        each: function (xs, f) {
            var key, value, _results;
            _results = [];
            for (key in xs) {
                value = xs[key];
                _results.push(f(key, value));
            }
            return _results;
        },
        toArray: function (xs) {
            if (isArray(xs)) {
                return xs;
            } else {
                return [xs];
            }
        },
        contains: function (xs, x) {
            return _.indexOf(xs, x) !== -1;
        },
        id: function (x) {
            return x;
        },
        last: function (xs) {
            return xs[xs.length - 1];
        },
        all: function (xs, f) {
            var x, _i, _len;
            if (f == null) {
                f = _.id;
            }
            for (_i = 0, _len = xs.length; _i < _len; _i++) {
                x = xs[_i];
                if (!f(x)) {
                    return false;
                }
            }
            return true;
        },
        any: function (xs, f) {
            var x, _i, _len;
            if (f == null) {
                f = _.id;
            }
            for (_i = 0, _len = xs.length; _i < _len; _i++) {
                x = xs[_i];
                if (f(x)) {
                    return true;
                }
            }
            return false;
        },
        without: function (x, xs) {
            return _.filter(function (y) {
                return y !== x;
            }, xs);
        },
        remove: function (x, xs) {
            var i;
            i = _.indexOf(xs, x);
            if (i >= 0) {
                return xs.splice(i, 1);
            }
        },
        fold: function (xs, seed, f) {
            var x, _i, _len;
            for (_i = 0, _len = xs.length; _i < _len; _i++) {
                x = xs[_i];
                seed = f(seed, x);
            }
            return seed;
        },
        flatMap: function (f, xs) {
            return _.fold(xs, [], function (ys, x) {
                return ys.concat(f(x));
            });
        },
        cached: function (f) {
            var value;
            value = None;
            return function () {
                if (value === None) {
                    value = f();
                    f = null;
                }
                return value;
            };
        },
        toString: function (obj) {
            var key, value;
            try {
                recursionDepth++;
                if (obj == null) {
                    return 'undefined';
                } else if (isFunction(obj)) {
                    return 'function';
                } else if (isArray(obj)) {
                    if (recursionDepth > 5) {
                        return '[..]';
                    }
                    return '[' + _.map(_.toString, obj).toString() + ']';
                } else if ((obj != null ? obj.toString : void 0) != null && obj.toString !== Object.prototype.toString) {
                    return obj.toString();
                } else if (typeof obj === 'object') {
                    if (recursionDepth > 5) {
                        return '{..}';
                    }
                    return '{' + function () {
                        var _results;
                        _results = [];
                        for (key in obj) {
                            value = obj[key];
                            _results.push(_.toString(key) + ':' + _.toString(value));
                        }
                        return _results;
                    }() + '}';
                } else {
                    return obj;
                }
            } finally {
                recursionDepth--;
            }
        }
    };
    recursionDepth = 0;
    Bacon._ = _;
    Bacon.scheduler = {
        setTimeout: function (f, d) {
            return setTimeout(f, d);
        },
        setInterval: function (f, i) {
            return setInterval(f, i);
        },
        clearInterval: function (id) {
            return clearInterval(id);
        },
        now: function () {
            return new Date().getTime();
        }
    };
    if (typeof module !== 'undefined' && module !== null) {
        module.exports = Bacon;
        Bacon.Bacon = Bacon;
    } else {
        if (typeof define !== 'undefined' && define !== null && define.amd != null) {
            define([], function () {
                return Bacon;
            });
        }
        this.Bacon = Bacon;
    }
}.call(this));
});
require.define('23', function(module, exports, __dirname, __filename, undefined){
var TAFFY, exports, T;
(function () {
    'use strict';
    var typeList, makeTest, idx, typeKey, version, TC, idpad, cmax, API, protectJSON, each, eachin, isIndexable, returnFilter, runFilters, numcharsplit, orderByCol, run, intersection, filter, makeCid, safeForJson, isRegexp;
    ;
    if (!TAFFY) {
        version = '2.7';
        TC = 1;
        idpad = '000000';
        cmax = 1000;
        API = {};
        protectJSON = function (t) {
            if (TAFFY.isArray(t) || TAFFY.isObject(t)) {
                return t;
            } else {
                return JSON.parse(t);
            }
        };
        intersection = function (array1, array2) {
            return filter(array1, function (item) {
                return array2.indexOf(item) >= 0;
            });
        };
        filter = function (obj, iterator, context) {
            var results = [];
            if (obj == null)
                return results;
            if (Array.prototype.filter && obj.filter === Array.prototype.filter)
                return obj.filter(iterator, context);
            each(obj, function (value, index, list) {
                if (iterator.call(context, value, index, list))
                    results[results.length] = value;
            });
            return results;
        };
        isRegexp = function (aObj) {
            return Object.prototype.toString.call(aObj) === '[object RegExp]';
        };
        safeForJson = function (aObj) {
            var myResult = T.isArray(aObj) ? [] : T.isObject(aObj) ? {} : null;
            if (aObj === null)
                return aObj;
            for (var i in aObj) {
                myResult[i] = isRegexp(aObj[i]) ? aObj[i].toString() : T.isArray(aObj[i]) || T.isObject(aObj[i]) ? safeForJson(aObj[i]) : aObj[i];
            }
            return myResult;
        };
        makeCid = function (aContext) {
            var myCid = JSON.stringify(aContext);
            if (myCid.match(/regex/) === null)
                return myCid;
            return JSON.stringify(safeForJson(aContext));
        };
        each = function (a, fun, u) {
            var r, i, x, y;
            if (a && (T.isArray(a) && a.length === 1 || !T.isArray(a))) {
                fun(T.isArray(a) ? a[0] : a, 0);
            } else {
                for (r, i, x = 0, a = T.isArray(a) ? a : [a], y = a.length; x < y; x++) {
                    i = a[x];
                    if (!T.isUndefined(i) || (u || false)) {
                        r = fun(i, x);
                        if (r === T.EXIT) {
                            break;
                        }
                    }
                }
            }
        };
        eachin = function (o, fun) {
            var x = 0, r, i;
            for (i in o) {
                if (o.hasOwnProperty(i)) {
                    r = fun(o[i], i, x++);
                    if (r === T.EXIT) {
                        break;
                    }
                }
            }
        };
        API.extend = function (m, f) {
            API[m] = function () {
                return f.apply(this, arguments);
            };
        };
        isIndexable = function (f) {
            var i;
            if (T.isString(f) && /[t][0-9]*[r][0-9]*/i.test(f)) {
                return true;
            }
            if (T.isObject(f) && f.___id && f.___s) {
                return true;
            }
            if (T.isArray(f)) {
                i = true;
                each(f, function (r) {
                    if (!isIndexable(r)) {
                        i = false;
                        return TAFFY.EXIT;
                    }
                });
                return i;
            }
            return false;
        };
        runFilters = function (r, filter) {
            var match = true;
            each(filter, function (mf) {
                switch (T.typeOf(mf)) {
                case 'function':
                    if (!mf.apply(r)) {
                        match = false;
                        return TAFFY.EXIT;
                    }
                    break;
                case 'array':
                    match = mf.length === 1 ? runFilters(r, mf[0]) : mf.length === 2 ? runFilters(r, mf[0]) || runFilters(r, mf[1]) : mf.length === 3 ? runFilters(r, mf[0]) || runFilters(r, mf[1]) || runFilters(r, mf[2]) : mf.length === 4 ? runFilters(r, mf[0]) || runFilters(r, mf[1]) || runFilters(r, mf[2]) || runFilters(r, mf[3]) : false;
                    if (mf.length > 4) {
                        each(mf, function (f) {
                            if (runFilters(r, f)) {
                                match = true;
                            }
                        });
                    }
                    break;
                }
            });
            return match;
        };
        returnFilter = function (f) {
            var nf = [];
            if (T.isString(f) && /[t][0-9]*[r][0-9]*/i.test(f)) {
                f = { ___id: f };
            }
            if (T.isArray(f)) {
                each(f, function (r) {
                    nf.push(returnFilter(r));
                });
                f = function () {
                    var that = this, match = false;
                    each(nf, function (f) {
                        if (runFilters(that, f)) {
                            match = true;
                        }
                    });
                    return match;
                };
                return f;
            }
            if (T.isObject(f)) {
                if (T.isObject(f) && f.___id && f.___s) {
                    f = { ___id: f.___id };
                }
                eachin(f, function (v, i) {
                    if (!T.isObject(v)) {
                        v = { 'is': v };
                    }
                    eachin(v, function (mtest, s) {
                        var c = [], looper;
                        looper = s === 'hasAll' ? function (mtest, func) {
                            func(mtest);
                        } : each;
                        looper(mtest, function (mtest) {
                            var su = true, f = false, matchFunc;
                            matchFunc = function () {
                                var mvalue = this[i], eqeq = '==', bangeq = '!=', eqeqeq = '===', lt = '<', gt = '>', lteq = '<=', gteq = '>=', bangeqeq = '!==', r;
                                ;
                                if (typeof mvalue === 'undefined') {
                                    return false;
                                }
                                if (s.indexOf('!') === 0 && s !== bangeq && s !== bangeqeq) {
                                    su = false;
                                    s = s.substring(1, s.length);
                                }
                                r = s === 'regex' ? mtest.test(mvalue) : s === 'lt' || s === lt ? mvalue < mtest : s === 'gt' || s === gt ? mvalue > mtest : s === 'lte' || s === lteq ? mvalue <= mtest : s === 'gte' || s === gteq ? mvalue >= mtest : s === 'left' ? mvalue.indexOf(mtest) === 0 : s === 'leftnocase' ? mvalue.toLowerCase().indexOf(mtest.toLowerCase()) === 0 : s === 'right' ? mvalue.substring(mvalue.length - mtest.length) === mtest : s === 'rightnocase' ? mvalue.toLowerCase().substring(mvalue.length - mtest.length) === mtest.toLowerCase() : s === 'like' ? mvalue.indexOf(mtest) >= 0 : s === 'likenocase' ? mvalue.toLowerCase().indexOf(mtest.toLowerCase()) >= 0 : s === eqeqeq || s === 'is' ? mvalue === mtest : s === eqeq ? mvalue == mtest : s === bangeqeq ? mvalue !== mtest : s === bangeq ? mvalue != mtest : s === 'isnocase' ? mvalue.toLowerCase ? mvalue.toLowerCase() === mtest.toLowerCase() : mvalue === mtest : s === 'has' ? T.has(mvalue, mtest) : s === 'hasall' ? T.hasAll(mvalue, mtest) : s === 'contains' ? TAFFY.isArray(mvalue) && mvalue.indexOf(mtest) > -1 : s.indexOf('is') === -1 && !TAFFY.isNull(mvalue) && !TAFFY.isUndefined(mvalue) && !TAFFY.isObject(mtest) && !TAFFY.isArray(mtest) ? mtest === mvalue[s] : T[s] && T.isFunction(T[s]) && s.indexOf('is') === 0 ? T[s](mvalue) === mtest : T[s] && T.isFunction(T[s]) ? T[s](mvalue, mtest) : false;
                                r = r && !su ? false : !r && !su ? true : r;
                                return r;
                            };
                            c.push(matchFunc);
                        });
                        if (c.length === 1) {
                            nf.push(c[0]);
                        } else {
                            nf.push(function () {
                                var that = this, match = false;
                                each(c, function (f) {
                                    if (f.apply(that)) {
                                        match = true;
                                    }
                                });
                                return match;
                            });
                        }
                    });
                });
                f = function () {
                    var that = this, match = true;
                    match = nf.length === 1 && !nf[0].apply(that) ? false : nf.length === 2 && (!nf[0].apply(that) || !nf[1].apply(that)) ? false : nf.length === 3 && (!nf[0].apply(that) || !nf[1].apply(that) || !nf[2].apply(that)) ? false : nf.length === 4 && (!nf[0].apply(that) || !nf[1].apply(that) || !nf[2].apply(that) || !nf[3].apply(that)) ? false : true;
                    if (nf.length > 4) {
                        each(nf, function (f) {
                            if (!runFilters(that, f)) {
                                match = false;
                            }
                        });
                    }
                    return match;
                };
                return f;
            }
            if (T.isFunction(f)) {
                return f;
            }
        };
        orderByCol = function (ar, o) {
            var sortFunc = function (a, b) {
                var r = 0;
                T.each(o, function (sd) {
                    var o, col, dir, c, d;
                    o = sd.split(' ');
                    col = o[0];
                    dir = o.length === 1 ? 'logical' : o[1];
                    if (dir === 'logical') {
                        c = numcharsplit(a[col]);
                        d = numcharsplit(b[col]);
                        T.each(c.length <= d.length ? c : d, function (x, i) {
                            if (c[i] < d[i]) {
                                r = -1;
                                return TAFFY.EXIT;
                            } else if (c[i] > d[i]) {
                                r = 1;
                                return TAFFY.EXIT;
                            }
                        });
                    } else if (dir === 'logicaldesc') {
                        c = numcharsplit(a[col]);
                        d = numcharsplit(b[col]);
                        T.each(c.length <= d.length ? c : d, function (x, i) {
                            if (c[i] > d[i]) {
                                r = -1;
                                return TAFFY.EXIT;
                            } else if (c[i] < d[i]) {
                                r = 1;
                                return TAFFY.EXIT;
                            }
                        });
                    } else if (dir === 'asec' && a[col] < b[col]) {
                        r = -1;
                        return T.EXIT;
                    } else if (dir === 'asec' && a[col] > b[col]) {
                        r = 1;
                        return T.EXIT;
                    } else if (dir === 'desc' && a[col] > b[col]) {
                        r = -1;
                        return T.EXIT;
                    } else if (dir === 'desc' && a[col] < b[col]) {
                        r = 1;
                        return T.EXIT;
                    }
                    if (r === 0 && dir === 'logical' && c.length < d.length) {
                        r = -1;
                    } else if (r === 0 && dir === 'logical' && c.length > d.length) {
                        r = 1;
                    } else if (r === 0 && dir === 'logicaldesc' && c.length > d.length) {
                        r = -1;
                    } else if (r === 0 && dir === 'logicaldesc' && c.length < d.length) {
                        r = 1;
                    }
                    if (r !== 0) {
                        return T.EXIT;
                    }
                });
                return r;
            };
            return ar && ar.push ? ar.sort(sortFunc) : ar;
        };
        (function () {
            var cache = {}, cachcounter = 0;
            numcharsplit = function (thing) {
                if (cachcounter > cmax) {
                    cache = {};
                    cachcounter = 0;
                }
                return cache['_' + thing] || function () {
                    var nthing = String(thing), na = [], rv = '_', rt = '', x, xx, c;
                    for (x = 0, xx = nthing.length; x < xx; x++) {
                        c = nthing.charCodeAt(x);
                        if (c >= 48 && c <= 57 || c === 46) {
                            if (rt !== 'n') {
                                rt = 'n';
                                na.push(rv.toLowerCase());
                                rv = '';
                            }
                            rv = rv + nthing.charAt(x);
                        } else {
                            if (rt !== 's') {
                                rt = 's';
                                na.push(parseFloat(rv));
                                rv = '';
                            }
                            rv = rv + nthing.charAt(x);
                        }
                    }
                    na.push(rt === 'n' ? parseFloat(rv) : rv.toLowerCase());
                    na.shift();
                    cache['_' + thing] = na;
                    cachcounter++;
                    return na;
                }();
            };
        }());
        run = function () {
            this.context({ results: this.getDBI().query(this.context()) });
        };
        API.extend('filter', function () {
            var nc = TAFFY.mergeObj(this.context(), { run: null }), nq = [];
            ;
            each(nc.q, function (v) {
                nq.push(v);
            });
            nc.q = nq;
            each(arguments, function (f) {
                nc.q.push(returnFilter(f));
                nc.filterRaw.push(f);
            });
            return this.getroot(nc);
        });
        API.extend('order', function (o) {
            o = o.split(',');
            var x = [], nc;
            each(o, function (r) {
                x.push(r.replace(/^\s*/, '').replace(/\s*$/, ''));
            });
            nc = TAFFY.mergeObj(this.context(), { sort: null });
            nc.order = x;
            return this.getroot(nc);
        });
        API.extend('limit', function (n) {
            var nc = TAFFY.mergeObj(this.context(), {}), limitedresults;
            ;
            nc.limit = n;
            if (nc.run && nc.sort) {
                limitedresults = [];
                each(nc.results, function (i, x) {
                    if (x + 1 > n) {
                        return TAFFY.EXIT;
                    }
                    limitedresults.push(i);
                });
                nc.results = limitedresults;
            }
            return this.getroot(nc);
        });
        API.extend('start', function (n) {
            var nc = TAFFY.mergeObj(this.context(), {}), limitedresults;
            ;
            nc.start = n;
            if (nc.run && nc.sort && !nc.limit) {
                limitedresults = [];
                each(nc.results, function (i, x) {
                    if (x + 1 > n) {
                        limitedresults.push(i);
                    }
                });
                nc.results = limitedresults;
            } else {
                nc = TAFFY.mergeObj(this.context(), {
                    run: null,
                    start: n
                });
            }
            return this.getroot(nc);
        });
        API.extend('update', function (arg0, arg1, arg2) {
            var runEvent = true, o = {}, args = arguments, that;
            if (TAFFY.isString(arg0) && (arguments.length === 2 || arguments.length === 3)) {
                o[arg0] = arg1;
                if (arguments.length === 3) {
                    runEvent = arg2;
                }
            } else {
                o = arg0;
                if (args.length === 2) {
                    runEvent = arg1;
                }
            }
            that = this;
            run.call(this);
            each(this.context().results, function (r) {
                var c = o;
                if (TAFFY.isFunction(c)) {
                    c = c.apply(TAFFY.mergeObj(r, {}));
                } else {
                    if (T.isFunction(c)) {
                        c = c(TAFFY.mergeObj(r, {}));
                    }
                }
                if (TAFFY.isObject(c)) {
                    that.getDBI().update(r.___id, c, runEvent);
                }
            });
            if (this.context().results.length) {
                this.context({ run: null });
            }
            return this;
        });
        API.extend('remove', function (runEvent) {
            var that = this, c = 0;
            run.call(this);
            each(this.context().results, function (r) {
                that.getDBI().remove(r.___id);
                c++;
            });
            if (this.context().results.length) {
                this.context({ run: null });
                that.getDBI().removeCommit(runEvent);
            }
            return c;
        });
        API.extend('count', function () {
            run.call(this);
            return this.context().results.length;
        });
        API.extend('callback', function (f, delay) {
            if (f) {
                var that = this;
                setTimeout(function () {
                    run.call(that);
                    f.call(that.getroot(that.context()));
                }, delay || 0);
            }
            return null;
        });
        API.extend('get', function () {
            run.call(this);
            return this.context().results;
        });
        API.extend('stringify', function () {
            return JSON.stringify(this.get());
        });
        API.extend('first', function () {
            run.call(this);
            return this.context().results[0] || false;
        });
        API.extend('last', function () {
            run.call(this);
            return this.context().results[this.context().results.length - 1] || false;
        });
        API.extend('sum', function () {
            var total = 0, that = this;
            run.call(that);
            each(arguments, function (c) {
                each(that.context().results, function (r) {
                    total = total + (r[c] || 0);
                });
            });
            return total;
        });
        API.extend('min', function (c) {
            var lowest = null;
            run.call(this);
            each(this.context().results, function (r) {
                if (lowest === null || r[c] < lowest) {
                    lowest = r[c];
                }
            });
            return lowest;
        });
        (function () {
            var innerJoinFunction = function () {
                    var fnCompareList, fnCombineRow, fnMain;
                    fnCompareList = function (left_row, right_row, arg_list) {
                        var data_lt, data_rt, op_code, error;
                        if (arg_list.length === 2) {
                            data_lt = left_row[arg_list[0]];
                            op_code = '===';
                            data_rt = right_row[arg_list[1]];
                        } else {
                            data_lt = left_row[arg_list[0]];
                            op_code = arg_list[1];
                            data_rt = right_row[arg_list[2]];
                        }
                        switch (op_code) {
                        case '===':
                            return data_lt === data_rt;
                        case '!==':
                            return data_lt !== data_rt;
                        case '<':
                            return data_lt < data_rt;
                        case '>':
                            return data_lt > data_rt;
                        case '<=':
                            return data_lt <= data_rt;
                        case '>=':
                            return data_lt >= data_rt;
                        case '==':
                            return data_lt == data_rt;
                        case '!=':
                            return data_lt != data_rt;
                        default:
                            throw String(op_code) + ' is not supported';
                        }
                    };
                    fnCombineRow = function (left_row, right_row) {
                        var out_map = {}, i, prefix;
                        for (i in left_row) {
                            if (left_row.hasOwnProperty(i)) {
                                out_map[i] = left_row[i];
                            }
                        }
                        for (i in right_row) {
                            if (right_row.hasOwnProperty(i) && i !== '___id' && i !== '___s') {
                                prefix = !TAFFY.isUndefined(out_map[i]) ? 'right_' : '';
                                out_map[prefix + String(i)] = right_row[i];
                            }
                        }
                        return out_map;
                    };
                    fnMain = function (table) {
                        var right_table, i, arg_list = arguments, arg_length = arg_list.length, result_list = [];
                        ;
                        if (typeof table.filter !== 'function') {
                            if (table.TAFFY) {
                                right_table = table();
                            } else {
                                throw 'TAFFY DB or result not supplied';
                            }
                        } else {
                            right_table = table;
                        }
                        this.context({ results: this.getDBI().query(this.context()) });
                        TAFFY.each(this.context().results, function (left_row) {
                            right_table.each(function (right_row) {
                                var arg_data, is_ok = true;
                                CONDITION:
                                    for (i = 1; i < arg_length; i++) {
                                        arg_data = arg_list[i];
                                        if (typeof arg_data === 'function') {
                                            is_ok = arg_data(left_row, right_row);
                                        } else if (typeof arg_data === 'object' && arg_data.length) {
                                            is_ok = fnCompareList(left_row, right_row, arg_data);
                                        } else {
                                            is_ok = false;
                                        }
                                        if (!is_ok) {
                                            break CONDITION;
                                        }
                                    }
                                if (is_ok) {
                                    result_list.push(fnCombineRow(left_row, right_row));
                                }
                            });
                        });
                        return TAFFY(result_list)();
                    };
                    return fnMain;
                }();
            API.extend('join', innerJoinFunction);
        }());
        API.extend('max', function (c) {
            var highest = null;
            run.call(this);
            each(this.context().results, function (r) {
                if (highest === null || r[c] > highest) {
                    highest = r[c];
                }
            });
            return highest;
        });
        API.extend('select', function () {
            var ra = [], args = arguments;
            run.call(this);
            if (arguments.length === 1) {
                each(this.context().results, function (r) {
                    ra.push(r[args[0]]);
                });
            } else {
                each(this.context().results, function (r) {
                    var row = [];
                    each(args, function (c) {
                        row.push(r[c]);
                    });
                    ra.push(row);
                });
            }
            return ra;
        });
        API.extend('distinct', function () {
            var ra = [], args = arguments;
            run.call(this);
            if (arguments.length === 1) {
                each(this.context().results, function (r) {
                    var v = r[args[0]], dup = false;
                    each(ra, function (d) {
                        if (v === d) {
                            dup = true;
                            return TAFFY.EXIT;
                        }
                    });
                    if (!dup) {
                        ra.push(v);
                    }
                });
            } else {
                each(this.context().results, function (r) {
                    var row = [], dup = false;
                    each(args, function (c) {
                        row.push(r[c]);
                    });
                    each(ra, function (d) {
                        var ldup = true;
                        each(args, function (c, i) {
                            if (row[i] !== d[i]) {
                                ldup = false;
                                return TAFFY.EXIT;
                            }
                        });
                        if (ldup) {
                            dup = true;
                            return TAFFY.EXIT;
                        }
                    });
                    if (!dup) {
                        ra.push(row);
                    }
                });
            }
            return ra;
        });
        API.extend('supplant', function (template, returnarray) {
            var ra = [];
            run.call(this);
            each(this.context().results, function (r) {
                ra.push(template.replace(/\{([^\{\}]*)\}/g, function (a, b) {
                    var v = r[b];
                    return typeof v === 'string' || typeof v === 'number' ? v : a;
                }));
            });
            return !returnarray ? ra.join('') : ra;
        });
        API.extend('each', function (m) {
            run.call(this);
            each(this.context().results, m);
            return this;
        });
        API.extend('map', function (m) {
            var ra = [];
            run.call(this);
            each(this.context().results, function (r) {
                ra.push(m(r));
            });
            return ra;
        });
        T = function (d) {
            var TOb = [], ID = {}, RC = 1, settings = {
                    template: false,
                    onInsert: false,
                    onUpdate: false,
                    onRemove: false,
                    onDBChange: false,
                    storageName: false,
                    forcePropertyCase: null,
                    cacheSize: 100,
                    name: ''
                }, dm = new Date(), CacheCount = 0, CacheClear = 0, Cache = {}, DBI, runIndexes, root;
            ;
            runIndexes = function (indexes) {
                var records = [], UniqueEnforce = false;
                if (indexes.length === 0) {
                    return TOb;
                }
                each(indexes, function (f) {
                    if (T.isString(f) && /[t][0-9]*[r][0-9]*/i.test(f) && TOb[ID[f]]) {
                        records.push(TOb[ID[f]]);
                        UniqueEnforce = true;
                    }
                    if (T.isObject(f) && f.___id && f.___s && TOb[ID[f.___id]]) {
                        records.push(TOb[ID[f.___id]]);
                        UniqueEnforce = true;
                    }
                    if (T.isArray(f)) {
                        each(f, function (r) {
                            each(runIndexes(r), function (rr) {
                                records.push(rr);
                            });
                        });
                    }
                });
                if (UniqueEnforce && records.length > 1) {
                    records = [];
                }
                return records;
            };
            DBI = {
                dm: function (nd) {
                    if (nd) {
                        dm = nd;
                        Cache = {};
                        CacheCount = 0;
                        CacheClear = 0;
                    }
                    if (settings.onDBChange) {
                        setTimeout(function () {
                            settings.onDBChange.call(TOb);
                        }, 0);
                    }
                    if (settings.storageName) {
                        setTimeout(function () {
                            localStorage.setItem('taffy_' + settings.storageName, JSON.stringify(TOb));
                        });
                    }
                    return dm;
                },
                insert: function (i, runEvent) {
                    var columns = [], records = [], input = protectJSON(i);
                    ;
                    each(input, function (v, i) {
                        var nv, o;
                        if (T.isArray(v) && i === 0) {
                            each(v, function (av) {
                                columns.push(settings.forcePropertyCase === 'lower' ? av.toLowerCase() : settings.forcePropertyCase === 'upper' ? av.toUpperCase() : av);
                            });
                            return true;
                        } else if (T.isArray(v)) {
                            nv = {};
                            each(v, function (av, ai) {
                                nv[columns[ai]] = av;
                            });
                            v = nv;
                        } else if (T.isObject(v) && settings.forcePropertyCase) {
                            o = {};
                            eachin(v, function (av, ai) {
                                o[settings.forcePropertyCase === 'lower' ? ai.toLowerCase() : settings.forcePropertyCase === 'upper' ? ai.toUpperCase() : ai] = v[ai];
                            });
                            v = o;
                        }
                        RC++;
                        v.___id = 'T' + String(idpad + TC).slice(-6) + 'R' + String(idpad + RC).slice(-6);
                        v.___s = true;
                        records.push(v.___id);
                        if (settings.template) {
                            v = T.mergeObj(settings.template, v);
                        }
                        TOb.push(v);
                        ID[v.___id] = TOb.length - 1;
                        if (settings.onInsert && (runEvent || TAFFY.isUndefined(runEvent))) {
                            settings.onInsert.call(v);
                        }
                        DBI.dm(new Date());
                    });
                    return root(records);
                },
                sort: function (o) {
                    TOb = orderByCol(TOb, o.split(','));
                    ID = {};
                    each(TOb, function (r, i) {
                        ID[r.___id] = i;
                    });
                    DBI.dm(new Date());
                    return true;
                },
                update: function (id, changes, runEvent) {
                    var nc = {}, or, nr, tc, hasChange;
                    if (settings.forcePropertyCase) {
                        eachin(changes, function (v, p) {
                            nc[settings.forcePropertyCase === 'lower' ? p.toLowerCase() : settings.forcePropertyCase === 'upper' ? p.toUpperCase() : p] = v;
                        });
                        changes = nc;
                    }
                    or = TOb[ID[id]];
                    nr = T.mergeObj(or, changes);
                    tc = {};
                    hasChange = false;
                    eachin(nr, function (v, i) {
                        if (TAFFY.isUndefined(or[i]) || or[i] !== v) {
                            tc[i] = v;
                            hasChange = true;
                        }
                    });
                    if (hasChange) {
                        if (settings.onUpdate && (runEvent || TAFFY.isUndefined(runEvent))) {
                            settings.onUpdate.call(nr, TOb[ID[id]], tc);
                        }
                        TOb[ID[id]] = nr;
                        DBI.dm(new Date());
                    }
                },
                remove: function (id) {
                    TOb[ID[id]].___s = false;
                },
                removeCommit: function (runEvent) {
                    var x;
                    for (x = TOb.length - 1; x > -1; x--) {
                        if (!TOb[x].___s) {
                            if (settings.onRemove && (runEvent || TAFFY.isUndefined(runEvent))) {
                                settings.onRemove.call(TOb[x]);
                            }
                            ID[TOb[x].___id] = undefined;
                            TOb.splice(x, 1);
                        }
                    }
                    ID = {};
                    each(TOb, function (r, i) {
                        ID[r.___id] = i;
                    });
                    DBI.dm(new Date());
                },
                query: function (context) {
                    var returnq, cid, results, indexed, limitq, ni;
                    if (settings.cacheSize) {
                        cid = '';
                        each(context.filterRaw, function (r) {
                            if (T.isFunction(r)) {
                                cid = 'nocache';
                                return TAFFY.EXIT;
                            }
                        });
                        if (cid === '') {
                            cid = makeCid(T.mergeObj(context, {
                                q: false,
                                run: false,
                                sort: false
                            }));
                        }
                    }
                    if (!context.results || !context.run || context.run && DBI.dm() > context.run) {
                        results = [];
                        if (settings.cacheSize && Cache[cid]) {
                            Cache[cid].i = CacheCount++;
                            return Cache[cid].results;
                        } else {
                            if (context.q.length === 0 && context.index.length === 0) {
                                each(TOb, function (r) {
                                    results.push(r);
                                });
                                returnq = results;
                            } else {
                                indexed = runIndexes(context.index);
                                each(indexed, function (r) {
                                    if (context.q.length === 0 || runFilters(r, context.q)) {
                                        results.push(r);
                                    }
                                });
                                returnq = results;
                            }
                        }
                    } else {
                        returnq = context.results;
                    }
                    if (context.order.length > 0 && (!context.run || !context.sort)) {
                        returnq = orderByCol(returnq, context.order);
                    }
                    if (returnq.length && (context.limit && context.limit < returnq.length || context.start)) {
                        limitq = [];
                        each(returnq, function (r, i) {
                            if (!context.start || context.start && i + 1 >= context.start) {
                                if (context.limit) {
                                    ni = context.start ? i + 1 - context.start : i;
                                    if (ni < context.limit) {
                                        limitq.push(r);
                                    } else if (ni > context.limit) {
                                        return TAFFY.EXIT;
                                    }
                                } else {
                                    limitq.push(r);
                                }
                            }
                        });
                        returnq = limitq;
                    }
                    if (settings.cacheSize && cid !== 'nocache') {
                        CacheClear++;
                        setTimeout(function () {
                            var bCounter, nc;
                            if (CacheClear >= settings.cacheSize * 2) {
                                CacheClear = 0;
                                bCounter = CacheCount - settings.cacheSize;
                                nc = {};
                                eachin(function (r, k) {
                                    if (r.i >= bCounter) {
                                        nc[k] = r;
                                    }
                                });
                                Cache = nc;
                            }
                        }, 0);
                        Cache[cid] = {
                            i: CacheCount++,
                            results: returnq
                        };
                    }
                    return returnq;
                }
            };
            root = function () {
                var iAPI, context;
                iAPI = TAFFY.mergeObj(TAFFY.mergeObj(API, { insert: undefined }), {
                    getDBI: function () {
                        return DBI;
                    },
                    getroot: function (c) {
                        return root.call(c);
                    },
                    context: function (n) {
                        if (n) {
                            context = TAFFY.mergeObj(context, n.hasOwnProperty('results') ? TAFFY.mergeObj(n, {
                                run: new Date(),
                                sort: new Date()
                            }) : n);
                        }
                        return context;
                    },
                    extend: undefined
                });
                context = this && this.q ? this : {
                    limit: false,
                    start: false,
                    q: [],
                    filterRaw: [],
                    index: [],
                    order: [],
                    results: false,
                    run: null,
                    sort: null,
                    settings: settings
                };
                each(arguments, function (f) {
                    if (isIndexable(f)) {
                        context.index.push(f);
                    } else {
                        context.q.push(returnFilter(f));
                    }
                    context.filterRaw.push(f);
                });
                return iAPI;
            };
            TC++;
            if (d) {
                DBI.insert(d);
            }
            root.insert = DBI.insert;
            root.merge = function (i, key, runEvent) {
                var search = {}, finalSearch = [], obj = {};
                ;
                runEvent = runEvent || false;
                key = key || 'id';
                each(i, function (o) {
                    var existingObject;
                    search[key] = o[key];
                    finalSearch.push(o[key]);
                    existingObject = root(search).first();
                    if (existingObject) {
                        DBI.update(existingObject.___id, o, runEvent);
                    } else {
                        DBI.insert(o, runEvent);
                    }
                });
                obj[key] = finalSearch;
                return root(obj);
            };
            root.TAFFY = true;
            root.sort = DBI.sort;
            root.settings = function (n) {
                if (n) {
                    settings = TAFFY.mergeObj(settings, n);
                    if (n.template) {
                        root().update(n.template);
                    }
                }
                return settings;
            };
            root.store = function (n) {
                var r = false, i;
                if (localStorage) {
                    if (n) {
                        i = localStorage.getItem('taffy_' + n);
                        if (i && i.length > 0) {
                            root.insert(i);
                            r = true;
                        }
                        if (TOb.length > 0) {
                            setTimeout(function () {
                                localStorage.setItem('taffy_' + settings.storageName, JSON.stringify(TOb));
                            });
                        }
                    }
                    root.settings({ storageName: n });
                }
                return root;
            };
            return root;
        };
        TAFFY = T;
        T.each = each;
        T.eachin = eachin;
        T.extend = API.extend;
        TAFFY.EXIT = 'TAFFYEXIT';
        TAFFY.mergeObj = function (ob1, ob2) {
            var c = {};
            eachin(ob1, function (v, n) {
                c[n] = ob1[n];
            });
            eachin(ob2, function (v, n) {
                c[n] = ob2[n];
            });
            return c;
        };
        TAFFY.has = function (var1, var2) {
            var re = false, n;
            if (var1.TAFFY) {
                re = var1(var2);
                if (re.length > 0) {
                    return true;
                } else {
                    return false;
                }
            } else {
                switch (T.typeOf(var1)) {
                case 'object':
                    if (T.isObject(var2)) {
                        eachin(var2, function (v, n) {
                            if (re === true && !T.isUndefined(var1[n]) && var1.hasOwnProperty(n)) {
                                re = T.has(var1[n], var2[n]);
                            } else {
                                re = false;
                                return TAFFY.EXIT;
                            }
                        });
                    } else if (T.isArray(var2)) {
                        each(var2, function (v, n) {
                            re = T.has(var1, var2[n]);
                            if (re) {
                                return TAFFY.EXIT;
                            }
                        });
                    } else if (T.isString(var2)) {
                        if (!TAFFY.isUndefined(var1[var2])) {
                            return true;
                        } else {
                            return false;
                        }
                    }
                    return re;
                case 'array':
                    if (T.isObject(var2)) {
                        each(var1, function (v, i) {
                            re = T.has(var1[i], var2);
                            if (re === true) {
                                return TAFFY.EXIT;
                            }
                        });
                    } else if (T.isArray(var2)) {
                        each(var2, function (v2, i2) {
                            each(var1, function (v1, i1) {
                                re = T.has(var1[i1], var2[i2]);
                                if (re === true) {
                                    return TAFFY.EXIT;
                                }
                            });
                            if (re === true) {
                                return TAFFY.EXIT;
                            }
                        });
                    } else if (T.isString(var2) || T.isNumber(var2)) {
                        re = false;
                        for (n = 0; n < var1.length; n++) {
                            re = T.has(var1[n], var2);
                            if (re) {
                                return true;
                            }
                        }
                    }
                    return re;
                case 'string':
                    if (T.isString(var2) && var2 === var1) {
                        return true;
                    }
                    break;
                default:
                    if (T.typeOf(var1) === T.typeOf(var2) && var1 === var2) {
                        return true;
                    }
                    break;
                }
            }
            return false;
        };
        TAFFY.hasAll = function (var1, var2) {
            var T = TAFFY, ar;
            if (T.isArray(var2)) {
                ar = true;
                each(var2, function (v) {
                    ar = T.has(var1, v);
                    if (ar === false) {
                        return TAFFY.EXIT;
                    }
                });
                return ar;
            } else {
                return T.has(var1, var2);
            }
        };
        TAFFY.typeOf = function (v) {
            var s = typeof v;
            if (s === 'object') {
                if (v) {
                    if (typeof v.length === 'number' && !v.propertyIsEnumerable('length')) {
                        s = 'array';
                    }
                } else {
                    s = 'null';
                }
            }
            return s;
        };
        TAFFY.getObjectKeys = function (ob) {
            var kA = [];
            eachin(ob, function (n, h) {
                kA.push(h);
            });
            kA.sort();
            return kA;
        };
        TAFFY.isSameArray = function (ar1, ar2) {
            return TAFFY.isArray(ar1) && TAFFY.isArray(ar2) && ar1.join(',') === ar2.join(',') ? true : false;
        };
        TAFFY.isSameObject = function (ob1, ob2) {
            var T = TAFFY, rv = true;
            if (T.isObject(ob1) && T.isObject(ob2)) {
                if (T.isSameArray(T.getObjectKeys(ob1), T.getObjectKeys(ob2))) {
                    eachin(ob1, function (v, n) {
                        if (!(T.isObject(ob1[n]) && T.isObject(ob2[n]) && T.isSameObject(ob1[n], ob2[n]) || T.isArray(ob1[n]) && T.isArray(ob2[n]) && T.isSameArray(ob1[n], ob2[n]) || ob1[n] === ob2[n])) {
                            rv = false;
                            return TAFFY.EXIT;
                        }
                    });
                } else {
                    rv = false;
                }
            } else {
                rv = false;
            }
            return rv;
        };
        typeList = [
            'String',
            'Number',
            'Object',
            'Array',
            'Boolean',
            'Null',
            'Function',
            'Undefined'
        ];
        makeTest = function (thisKey) {
            return function (data) {
                return TAFFY.typeOf(data) === thisKey.toLowerCase() ? true : false;
            };
        };
        for (idx = 0; idx < typeList.length; idx++) {
            typeKey = typeList[idx];
            TAFFY['is' + typeKey] = makeTest(typeKey);
        }
    }
}());
if (typeof exports === 'object') {
    exports.taffy = TAFFY;
}
});
require.define('40', function(module, exports, __dirname, __filename, undefined){
;
(function () {
    var block = {
            newline: /^\n+/,
            code: /^( {4}[^\n]+\n*)+/,
            fences: noop,
            hr: /^( *[-*_]){3,} *(?:\n+|$)/,
            heading: /^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,
            nptable: noop,
            lheading: /^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,
            blockquote: /^( *>[^\n]+(\n[^\n]+)*\n*)+/,
            list: /^( *)(bull) [\s\S]+?(?:hr|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,
            html: /^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,
            def: /^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,
            table: noop,
            paragraph: /^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,
            text: /^[^\n]+/
        };
    block.bullet = /(?:[*+-]|\d+\.)/;
    block.item = /^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/;
    block.item = replace(block.item, 'gm')(/bull/g, block.bullet)();
    block.list = replace(block.list)(/bull/g, block.bullet)('hr', /\n+(?=(?: *[-*_]){3,} *(?:\n+|$))/)();
    block._tag = '(?!(?:' + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code' + '|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo' + '|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|@)\\b';
    block.html = replace(block.html)('comment', /<!--[\s\S]*?-->/)('closed', /<(tag)[\s\S]+?<\/\1>/)('closing', /<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g, block._tag)();
    block.paragraph = replace(block.paragraph)('hr', block.hr)('heading', block.heading)('lheading', block.lheading)('blockquote', block.blockquote)('tag', '<' + block._tag)('def', block.def)();
    block.normal = merge({}, block);
    block.gfm = merge({}, block.normal, {
        fences: /^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,
        paragraph: /^/
    });
    block.gfm.paragraph = replace(block.paragraph)('(?!', '(?!' + block.gfm.fences.source.replace('\\1', '\\2') + '|' + block.list.source.replace('\\1', '\\3') + '|')();
    block.tables = merge({}, block.gfm, {
        nptable: /^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,
        table: /^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/
    });
    function Lexer(options) {
        this.tokens = [];
        this.tokens.links = {};
        this.options = options || marked.defaults;
        this.rules = block.normal;
        if (this.options.gfm) {
            if (this.options.tables) {
                this.rules = block.tables;
            } else {
                this.rules = block.gfm;
            }
        }
    }
    Lexer.rules = block;
    Lexer.lex = function (src, options) {
        var lexer = new Lexer(options);
        return lexer.lex(src);
    };
    Lexer.prototype.lex = function (src) {
        src = src.replace(/\r\n|\r/g, '\n').replace(/\t/g, '    ').replace(/\u00a0/g, ' ').replace(/\u2424/g, '\n');
        return this.token(src, true);
    };
    Lexer.prototype.token = function (src, top) {
        var src = src.replace(/^ +$/gm, ''), next, loose, cap, bull, b, item, space, i, l;
        while (src) {
            if (cap = this.rules.newline.exec(src)) {
                src = src.substring(cap[0].length);
                if (cap[0].length > 1) {
                    this.tokens.push({ type: 'space' });
                }
            }
            if (cap = this.rules.code.exec(src)) {
                src = src.substring(cap[0].length);
                cap = cap[0].replace(/^ {4}/gm, '');
                this.tokens.push({
                    type: 'code',
                    text: !this.options.pedantic ? cap.replace(/\n+$/, '') : cap
                });
                continue;
            }
            if (cap = this.rules.fences.exec(src)) {
                src = src.substring(cap[0].length);
                this.tokens.push({
                    type: 'code',
                    lang: cap[2],
                    text: cap[3]
                });
                continue;
            }
            if (cap = this.rules.heading.exec(src)) {
                src = src.substring(cap[0].length);
                this.tokens.push({
                    type: 'heading',
                    depth: cap[1].length,
                    text: cap[2]
                });
                continue;
            }
            if (top && (cap = this.rules.nptable.exec(src))) {
                src = src.substring(cap[0].length);
                item = {
                    type: 'table',
                    header: cap[1].replace(/^ *| *\| *$/g, '').split(/ *\| */),
                    align: cap[2].replace(/^ *|\| *$/g, '').split(/ *\| */),
                    cells: cap[3].replace(/\n$/, '').split('\n')
                };
                for (i = 0; i < item.align.length; i++) {
                    if (/^ *-+: *$/.test(item.align[i])) {
                        item.align[i] = 'right';
                    } else if (/^ *:-+: *$/.test(item.align[i])) {
                        item.align[i] = 'center';
                    } else if (/^ *:-+ *$/.test(item.align[i])) {
                        item.align[i] = 'left';
                    } else {
                        item.align[i] = null;
                    }
                }
                for (i = 0; i < item.cells.length; i++) {
                    item.cells[i] = item.cells[i].split(/ *\| */);
                }
                this.tokens.push(item);
                continue;
            }
            if (cap = this.rules.lheading.exec(src)) {
                src = src.substring(cap[0].length);
                this.tokens.push({
                    type: 'heading',
                    depth: cap[2] === '=' ? 1 : 2,
                    text: cap[1]
                });
                continue;
            }
            if (cap = this.rules.hr.exec(src)) {
                src = src.substring(cap[0].length);
                this.tokens.push({ type: 'hr' });
                continue;
            }
            if (cap = this.rules.blockquote.exec(src)) {
                src = src.substring(cap[0].length);
                this.tokens.push({ type: 'blockquote_start' });
                cap = cap[0].replace(/^ *> ?/gm, '');
                this.token(cap, top);
                this.tokens.push({ type: 'blockquote_end' });
                continue;
            }
            if (cap = this.rules.list.exec(src)) {
                src = src.substring(cap[0].length);
                bull = cap[2];
                this.tokens.push({
                    type: 'list_start',
                    ordered: bull.length > 1
                });
                cap = cap[0].match(this.rules.item);
                next = false;
                l = cap.length;
                i = 0;
                for (; i < l; i++) {
                    item = cap[i];
                    space = item.length;
                    item = item.replace(/^ *([*+-]|\d+\.) +/, '');
                    if (~item.indexOf('\n ')) {
                        space -= item.length;
                        item = !this.options.pedantic ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '') : item.replace(/^ {1,4}/gm, '');
                    }
                    if (this.options.smartLists && i !== l - 1) {
                        b = block.bullet.exec(cap[i + 1])[0];
                        if (bull !== b && !(bull.length > 1 && b.length > 1)) {
                            src = cap.slice(i + 1).join('\n') + src;
                            i = l - 1;
                        }
                    }
                    loose = next || /\n\n(?!\s*$)/.test(item);
                    if (i !== l - 1) {
                        next = item.charAt(item.length - 1) === '\n';
                        if (!loose)
                            loose = next;
                    }
                    this.tokens.push({ type: loose ? 'loose_item_start' : 'list_item_start' });
                    this.token(item, false);
                    this.tokens.push({ type: 'list_item_end' });
                }
                this.tokens.push({ type: 'list_end' });
                continue;
            }
            if (cap = this.rules.html.exec(src)) {
                src = src.substring(cap[0].length);
                this.tokens.push({
                    type: this.options.sanitize ? 'paragraph' : 'html',
                    pre: cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style',
                    text: cap[0]
                });
                continue;
            }
            if (top && (cap = this.rules.def.exec(src))) {
                src = src.substring(cap[0].length);
                this.tokens.links[cap[1].toLowerCase()] = {
                    href: cap[2],
                    title: cap[3]
                };
                continue;
            }
            if (top && (cap = this.rules.table.exec(src))) {
                src = src.substring(cap[0].length);
                item = {
                    type: 'table',
                    header: cap[1].replace(/^ *| *\| *$/g, '').split(/ *\| */),
                    align: cap[2].replace(/^ *|\| *$/g, '').split(/ *\| */),
                    cells: cap[3].replace(/(?: *\| *)?\n$/, '').split('\n')
                };
                for (i = 0; i < item.align.length; i++) {
                    if (/^ *-+: *$/.test(item.align[i])) {
                        item.align[i] = 'right';
                    } else if (/^ *:-+: *$/.test(item.align[i])) {
                        item.align[i] = 'center';
                    } else if (/^ *:-+ *$/.test(item.align[i])) {
                        item.align[i] = 'left';
                    } else {
                        item.align[i] = null;
                    }
                }
                for (i = 0; i < item.cells.length; i++) {
                    item.cells[i] = item.cells[i].replace(/^ *\| *| *\| *$/g, '').split(/ *\| */);
                }
                this.tokens.push(item);
                continue;
            }
            if (top && (cap = this.rules.paragraph.exec(src))) {
                src = src.substring(cap[0].length);
                this.tokens.push({
                    type: 'paragraph',
                    text: cap[1].charAt(cap[1].length - 1) === '\n' ? cap[1].slice(0, -1) : cap[1]
                });
                continue;
            }
            if (cap = this.rules.text.exec(src)) {
                src = src.substring(cap[0].length);
                this.tokens.push({
                    type: 'text',
                    text: cap[0]
                });
                continue;
            }
            if (src) {
                throw new Error('Infinite loop on byte: ' + src.charCodeAt(0));
            }
        }
        return this.tokens;
    };
    var inline = {
            escape: /^\\([\\`*{}\[\]()#+\-.!_>])/,
            autolink: /^<([^ >]+(@|:\/)[^ >]+)>/,
            url: noop,
            tag: /^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,
            link: /^!?\[(inside)\]\(href\)/,
            reflink: /^!?\[(inside)\]\s*\[([^\]]*)\]/,
            nolink: /^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,
            strong: /^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,
            em: /^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,
            code: /^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,
            br: /^ {2,}\n(?!\s*$)/,
            del: noop,
            text: /^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/
        };
    inline._inside = /(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/;
    inline._href = /\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/;
    inline.link = replace(inline.link)('inside', inline._inside)('href', inline._href)();
    inline.reflink = replace(inline.reflink)('inside', inline._inside)();
    inline.normal = merge({}, inline);
    inline.pedantic = merge({}, inline.normal, {
        strong: /^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,
        em: /^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/
    });
    inline.gfm = merge({}, inline.normal, {
        escape: replace(inline.escape)('])', '~|])')(),
        url: /^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,
        del: /^~~(?=\S)([\s\S]*?\S)~~/,
        text: replace(inline.text)(']|', '~]|')('|', '|https?://|')()
    });
    inline.breaks = merge({}, inline.gfm, {
        br: replace(inline.br)('{2,}', '*')(),
        text: replace(inline.gfm.text)('{2,}', '*')()
    });
    function InlineLexer(links, options) {
        this.options = options || marked.defaults;
        this.links = links;
        this.rules = inline.normal;
        this.renderer = this.options.renderer || new Renderer();
        if (!this.links) {
            throw new Error('Tokens array requires a `links` property.');
        }
        if (this.options.gfm) {
            if (this.options.breaks) {
                this.rules = inline.breaks;
            } else {
                this.rules = inline.gfm;
            }
        } else if (this.options.pedantic) {
            this.rules = inline.pedantic;
        }
    }
    InlineLexer.rules = inline;
    InlineLexer.output = function (src, links, options) {
        var inline = new InlineLexer(links, options);
        return inline.output(src);
    };
    InlineLexer.prototype.output = function (src) {
        var out = '', link, text, href, cap;
        while (src) {
            if (cap = this.rules.escape.exec(src)) {
                src = src.substring(cap[0].length);
                out += cap[1];
                continue;
            }
            if (cap = this.rules.autolink.exec(src)) {
                src = src.substring(cap[0].length);
                if (cap[2] === '@') {
                    text = cap[1].charAt(6) === ':' ? this.mangle(cap[1].substring(7)) : this.mangle(cap[1]);
                    href = this.mangle('mailto:') + text;
                } else {
                    text = escape(cap[1]);
                    href = text;
                }
                out += this.renderer.link(href, null, text);
                continue;
            }
            if (cap = this.rules.url.exec(src)) {
                src = src.substring(cap[0].length);
                text = escape(cap[1]);
                href = text;
                out += this.renderer.link(href, null, text);
                continue;
            }
            if (cap = this.rules.tag.exec(src)) {
                src = src.substring(cap[0].length);
                out += this.options.sanitize ? escape(cap[0]) : cap[0];
                continue;
            }
            if (cap = this.rules.link.exec(src)) {
                src = src.substring(cap[0].length);
                out += this.outputLink(cap, {
                    href: cap[2],
                    title: cap[3]
                });
                continue;
            }
            if ((cap = this.rules.reflink.exec(src)) || (cap = this.rules.nolink.exec(src))) {
                src = src.substring(cap[0].length);
                link = (cap[2] || cap[1]).replace(/\s+/g, ' ');
                link = this.links[link.toLowerCase()];
                if (!link || !link.href) {
                    out += cap[0].charAt(0);
                    src = cap[0].substring(1) + src;
                    continue;
                }
                out += this.outputLink(cap, link);
                continue;
            }
            if (cap = this.rules.strong.exec(src)) {
                src = src.substring(cap[0].length);
                out += this.renderer.strong(this.output(cap[2] || cap[1]));
                continue;
            }
            if (cap = this.rules.em.exec(src)) {
                src = src.substring(cap[0].length);
                out += this.renderer.em(this.output(cap[2] || cap[1]));
                continue;
            }
            if (cap = this.rules.code.exec(src)) {
                src = src.substring(cap[0].length);
                out += this.renderer.codespan(escape(cap[2], true));
                continue;
            }
            if (cap = this.rules.br.exec(src)) {
                src = src.substring(cap[0].length);
                out += this.renderer.br();
                continue;
            }
            if (cap = this.rules.del.exec(src)) {
                src = src.substring(cap[0].length);
                out += this.renderer.del(this.output(cap[1]));
                continue;
            }
            if (cap = this.rules.text.exec(src)) {
                src = src.substring(cap[0].length);
                out += escape(this.smartypants(cap[0]));
                continue;
            }
            if (src) {
                throw new Error('Infinite loop on byte: ' + src.charCodeAt(0));
            }
        }
        return out;
    };
    InlineLexer.prototype.outputLink = function (cap, link) {
        var href = escape(link.href), title = link.title ? escape(link.title) : null;
        return cap[0].charAt(0) !== '!' ? this.renderer.link(href, title, this.output(cap[1])) : this.renderer.image(href, title, escape(cap[1]));
    };
    InlineLexer.prototype.smartypants = function (text) {
        if (!this.options.smartypants)
            return text;
        return text.replace(/--/g, '\u2014').replace(/(^|[-\u2014/(\[{"\s])'/g, '$1\u2018').replace(/'/g, '\u2019').replace(/(^|[-\u2014/(\[{\u2018\s])"/g, '$1\u201c').replace(/"/g, '\u201d').replace(/\.{3}/g, '\u2026');
    };
    InlineLexer.prototype.mangle = function (text) {
        var out = '', l = text.length, i = 0, ch;
        for (; i < l; i++) {
            ch = text.charCodeAt(i);
            if (Math.random() > 0.5) {
                ch = 'x' + ch.toString(16);
            }
            out += '&#' + ch + ';';
        }
        return out;
    };
    function Renderer() {
    }
    Renderer.prototype.code = function (code, lang, escaped, options) {
        options = options || {};
        if (options.highlight) {
            var out = options.highlight(code, lang);
            if (out != null && out !== code) {
                escaped = true;
                code = out;
            }
        }
        if (!lang) {
            return '<pre><code>' + (escaped ? code : escape(code, true)) + '\n</code></pre>';
        }
        return '<pre><code class="' + options.langPrefix + lang + '">' + (escaped ? code : escape(code)) + '\n</code></pre>\n';
    };
    Renderer.prototype.blockquote = function (quote) {
        return '<blockquote>\n' + quote + '</blockquote>\n';
    };
    Renderer.prototype.html = function (html) {
        return html;
    };
    Renderer.prototype.heading = function (text, level, raw, options) {
        return '<h' + level + ' id="' + options.headerPrefix + raw.toLowerCase().replace(/[^\w]+/g, '-') + '">' + text + '</h' + level + '>\n';
    };
    Renderer.prototype.hr = function () {
        return '<hr>\n';
    };
    Renderer.prototype.list = function (body, ordered) {
        var type = ordered ? 'ol' : 'ul';
        return '<' + type + '>\n' + body + '</' + type + '>\n';
    };
    Renderer.prototype.listitem = function (text) {
        return '<li>' + text + '</li>\n';
    };
    Renderer.prototype.paragraph = function (text) {
        return '<p>' + text + '</p>\n';
    };
    Renderer.prototype.table = function (header, body) {
        return '<table>\n' + '<thead>\n' + header + '</thead>\n' + '<tbody>\n' + body + '</tbody>\n' + '</table>\n';
    };
    Renderer.prototype.tablerow = function (content) {
        return '<tr>\n' + content + '</tr>\n';
    };
    Renderer.prototype.tablecell = function (content, flags) {
        var type = flags.header ? 'th' : 'td';
        var tag = flags.align ? '<' + type + ' style="text-align:' + flags.align + '">' : '<' + type + '>';
        return tag + content + '</' + type + '>\n';
    };
    Renderer.prototype.strong = function (text) {
        return '<strong>' + text + '</strong>';
    };
    Renderer.prototype.em = function (text) {
        return '<em>' + text + '</em>';
    };
    Renderer.prototype.codespan = function (text) {
        return '<code>' + text + '</code>';
    };
    Renderer.prototype.br = function () {
        return '<br>';
    };
    Renderer.prototype.del = function (text) {
        return '<del>' + text + '</del>';
    };
    Renderer.prototype.link = function (href, title, text) {
        var out = '<a href="' + href + '"';
        if (title) {
            out += ' title="' + title + '"';
        }
        out += '>' + text + '</a>';
        return out;
    };
    Renderer.prototype.image = function (href, title, text) {
        var out = '<img src="' + href + '" alt="' + text + '"';
        if (title) {
            out += ' title="' + title + '"';
        }
        out += '>';
        return out;
    };
    function Parser(options) {
        this.tokens = [];
        this.token = null;
        this.options = options || marked.defaults;
        this.options.renderer = this.options.renderer || new Renderer();
        this.renderer = this.options.renderer;
    }
    Parser.parse = function (src, options, renderer) {
        var parser = new Parser(options, renderer);
        return parser.parse(src);
    };
    Parser.prototype.parse = function (src) {
        this.inline = new InlineLexer(src.links, this.options, this.renderer);
        this.tokens = src.reverse();
        var out = '';
        while (this.next()) {
            out += this.tok();
        }
        return out;
    };
    Parser.prototype.next = function () {
        return this.token = this.tokens.pop();
    };
    Parser.prototype.peek = function () {
        return this.tokens[this.tokens.length - 1] || 0;
    };
    Parser.prototype.parseText = function () {
        var body = this.token.text;
        while (this.peek().type === 'text') {
            body += '\n' + this.next().text;
        }
        return this.inline.output(body);
    };
    Parser.prototype.tok = function () {
        switch (this.token.type) {
        case 'space': {
                return '';
            }
        case 'hr': {
                return this.renderer.hr();
            }
        case 'heading': {
                return this.renderer.heading(this.inline.output(this.token.text), this.token.depth, this.token.text, this.options);
            }
        case 'code': {
                return this.renderer.code(this.token.text, this.token.lang, this.token.escaped, this.options);
            }
        case 'table': {
                var header = '', body = '', i, row, cell, flags, j;
                cell = '';
                for (i = 0; i < this.token.header.length; i++) {
                    flags = {
                        header: true,
                        align: this.token.align[i]
                    };
                    cell += this.renderer.tablecell(this.inline.output(this.token.header[i]), {
                        header: true,
                        align: this.token.align[i]
                    });
                }
                header += this.renderer.tablerow(cell);
                for (i = 0; i < this.token.cells.length; i++) {
                    row = this.token.cells[i];
                    cell = '';
                    for (j = 0; j < row.length; j++) {
                        cell += this.renderer.tablecell(this.inline.output(row[j]), {
                            header: false,
                            align: this.token.align[j]
                        });
                    }
                    body += this.renderer.tablerow(cell);
                }
                return this.renderer.table(header, body);
            }
        case 'blockquote_start': {
                var body = '';
                while (this.next().type !== 'blockquote_end') {
                    body += this.tok();
                }
                return this.renderer.blockquote(body);
            }
        case 'list_start': {
                var body = '', ordered = this.token.ordered;
                while (this.next().type !== 'list_end') {
                    body += this.tok();
                }
                return this.renderer.list(body, ordered);
            }
        case 'list_item_start': {
                var body = '';
                while (this.next().type !== 'list_item_end') {
                    body += this.token.type === 'text' ? this.parseText() : this.tok();
                }
                return this.renderer.listitem(body);
            }
        case 'loose_item_start': {
                var body = '';
                while (this.next().type !== 'list_item_end') {
                    body += this.tok();
                }
                return this.renderer.listitem(body);
            }
        case 'html': {
                var html = !this.token.pre && !this.options.pedantic ? this.inline.output(this.token.text) : this.token.text;
                return this.renderer.html(html);
            }
        case 'paragraph': {
                return this.renderer.paragraph(this.inline.output(this.token.text));
            }
        case 'text': {
                return this.renderer.paragraph(this.parseText());
            }
        }
    };
    function escape(html, encode) {
        return html.replace(!encode ? /&(?!#?\w+;)/g : /&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;').replace(/'/g, '&#39;');
    }
    function replace(regex, opt) {
        regex = regex.source;
        opt = opt || '';
        return function self(name, val) {
            if (!name)
                return new RegExp(regex, opt);
            val = val.source || val;
            val = val.replace(/(^|[^\[])\^/g, '$1');
            regex = regex.replace(name, val);
            return self;
        };
    }
    function noop() {
    }
    noop.exec = noop;
    function merge(obj) {
        var i = 1, target, key;
        for (; i < arguments.length; i++) {
            target = arguments[i];
            for (key in target) {
                if (Object.prototype.hasOwnProperty.call(target, key)) {
                    obj[key] = target[key];
                }
            }
        }
        return obj;
    }
    function marked(src, opt, callback) {
        if (callback || typeof opt === 'function') {
            if (!callback) {
                callback = opt;
                opt = null;
            }
            opt = merge({}, marked.defaults, opt || {});
            var highlight = opt.highlight, tokens, pending, i = 0;
            try {
                tokens = Lexer.lex(src, opt);
            } catch (e) {
                return callback(e);
            }
            pending = tokens.length;
            var done = function () {
                var out, err;
                try {
                    out = Parser.parse(tokens, opt);
                } catch (e) {
                    err = e;
                }
                opt.highlight = highlight;
                return err ? callback(err) : callback(null, out);
            };
            if (!highlight || highlight.length < 3) {
                return done();
            }
            delete opt.highlight;
            if (!pending)
                return done();
            for (; i < tokens.length; i++) {
                (function (token) {
                    if (token.type !== 'code') {
                        return --pending || done();
                    }
                    return highlight(token.text, token.lang, function (err, code) {
                        if (code == null || code === token.text) {
                            return --pending || done();
                        }
                        token.text = code;
                        token.escaped = true;
                        --pending || done();
                    });
                }(tokens[i]));
            }
            return;
        }
        try {
            if (opt)
                opt = merge({}, marked.defaults, opt);
            return Parser.parse(Lexer.lex(src, opt), opt);
        } catch (e) {
            e.message += '\nPlease report this to https://github.com/chjj/marked.';
            if ((opt || marked.defaults).silent) {
                return '<p>An error occured:</p><pre>' + escape(e.message + '', true) + '</pre>';
            }
            throw e;
        }
    }
    marked.options = marked.setOptions = function (opt) {
        merge(marked.defaults, opt);
        return marked;
    };
    marked.defaults = {
        gfm: true,
        tables: true,
        breaks: false,
        pedantic: false,
        sanitize: false,
        smartLists: false,
        silent: false,
        highlight: null,
        langPrefix: 'lang-',
        smartypants: false,
        headerPrefix: '',
        renderer: new Renderer()
    };
    marked.Parser = Parser;
    marked.parser = Parser.parse;
    marked.Renderer = Renderer;
    marked.Lexer = Lexer;
    marked.lexer = Lexer.lex;
    marked.InlineLexer = InlineLexer;
    marked.inlineLexer = InlineLexer.output;
    marked.parse = marked;
    if (typeof exports === 'object') {
        module.exports = marked;
    } else if (typeof define === 'function' && define.amd) {
        define(function () {
            return marked;
        });
    } else {
        this.marked = marked;
    }
}.call(function () {
    return this || (typeof window !== 'undefined' ? window : global);
}()));
});
require.define('31', function(module, exports, __dirname, __filename, undefined){
(function () {
    var Mixen, indexOf, moduleSuper, uniqueId, __slice = [].slice, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    indexOf = function (haystack, needle) {
        var i, stalk, _i, _len;
        for (i = _i = 0, _len = haystack.length; _i < _len; i = ++_i) {
            stalk = haystack[i];
            if (stalk === needle) {
                return i;
            }
        }
        return -1;
    };
    uniqueId = function () {
        var id;
        id = 0;
        return function () {
            return id++;
        };
    }();
    Mixen = function () {
        return Mixen.createMixen.apply(Mixen, arguments);
    };
    Mixen.createdMixens = {};
    Mixen.createMixen = function () {
        var Inst, Last, method, mods, module, _base, _i, _len, _ref, _ref1;
        mods = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
        Last = mods[mods.length - 1];
        _ref = mods.slice(0).reverse();
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
            module = _ref[_i];
            Inst = function (_super) {
                __extends(Inst, _super);
                function Inst() {
                    var args, mod, _j, _len1;
                    args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
                    for (_j = 0, _len1 = mods.length; _j < _len1; _j++) {
                        mod = mods[_j];
                        mod.apply(this, args);
                    }
                }
                return Inst;
            }(Last);
            Last = Inst;
            for (method in module.prototype) {
                Inst.prototype[method] = module.prototype[method];
            }
            _ref1 = module.prototype;
            for (method in _ref1) {
                if (!__hasProp.call(_ref1, method))
                    continue;
                if (method === 'constructor') {
                    continue;
                }
                if (typeof module.prototype[method] !== 'function') {
                    continue;
                }
                if (module.__super__ == null) {
                    module.__super__ = {};
                }
                if ((_base = module.__super__)[method] == null) {
                    _base[method] = moduleSuper(module, method);
                }
            }
        }
        Last.prototype._mixen_id = uniqueId();
        Mixen.createdMixens[Last.prototype._mixen_id] = mods;
        return Last;
    };
    moduleSuper = function (module, method) {
        return function () {
            var args, current, id, modules, nextModule, pos;
            args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
            current = this.constructor.prototype;
            id = null;
            while (true) {
                if (current === Object.prototype) {
                    return;
                }
                id = current._mixen_id;
                if (id != null) {
                    break;
                }
                current = current.constructor.__super__.constructor.prototype;
            }
            if (id == null) {
                return;
            }
            modules = Mixen.createdMixens[id];
            pos = indexOf(modules, module);
            nextModule = null;
            while (pos++ < modules.length - 1) {
                nextModule = modules[pos];
                if (nextModule.prototype[method] != null) {
                    break;
                }
            }
            if (nextModule != null && nextModule.prototype != null && nextModule.prototype[method] != null) {
                return nextModule.prototype[method].apply(this, args);
            }
        };
    };
    if (typeof define === 'function' && define.amd) {
        define(function () {
            return Mixen;
        });
    } else if (typeof exports === 'object') {
        module.exports = Mixen;
    } else {
        window.Mixen = Mixen;
    }
}.call(this));
});
require.define('55', function(module, exports, __dirname, __filename, undefined){
var Dots, Exp, Kinetic, Psy, Q, canvas, components, csv, datatable, design, factory, html, include, layout, lib, libs, match, samplers, stimresp, utils, _, _i, _len;
Exp = require('114', module);
Psy = require('83', module);
Dots = require('115', module);
utils = require('76', module);
datatable = require('77', module);
samplers = require('116', module);
stimresp = require('73', module);
layout = require('74', module);
design = require('117', module);
canvas = require('80', module);
html = require('81', module);
components = require('82', module);
factory = require('122', module);
Kinetic = require('27', module).Kinetic;
_ = require('2', module);
Q = require('9', module);
csv = require('120', module);
match = require('123', module).match;
include = function (lib) {
    var key, value, _results;
    _results = [];
    for (key in lib) {
        value = lib[key];
        _results.push(exports[key] = value);
    }
    return _results;
};
libs = [
    Exp,
    Psy,
    Dots,
    utils,
    datatable,
    samplers,
    stimresp,
    layout,
    design,
    canvas,
    html,
    components,
    factory,
    match
];
for (_i = 0, _len = libs.length; _i < _len; _i++) {
    lib = libs[_i];
    include(lib);
}
exports.Q = Q;
exports._ = _;
exports.Kinetic = Kinetic;
exports.csv = csv;
exports.match = match;
if (!String.prototype.trim) {
    String.prototype.trim = function () {
        return this.replace(/^\s+|\s+$/g, '');
    };
}
});
require.define('60', function(module, exports, __dirname, __filename, undefined){
(function () {
    var Teacup, doctypes, elements, merge_elements, tagName, _fn, _fn1, _fn2, _i, _j, _k, _len, _len1, _len2, _ref, _ref1, _ref2, __slice = [].slice, __indexOf = [].indexOf || function (item) {
            for (var i = 0, l = this.length; i < l; i++) {
                if (i in this && this[i] === item)
                    return i;
            }
            return -1;
        };
    doctypes = {
        'default': '<!DOCTYPE html>',
        '5': '<!DOCTYPE html>',
        'xml': '<?xml version="1.0" encoding="utf-8" ?>',
        'transitional': '<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">',
        'strict': '<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">',
        'frameset': '<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">',
        '1.1': '<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">',
        'basic': '<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML Basic 1.1//EN" "http://www.w3.org/TR/xhtml-basic/xhtml-basic11.dtd">',
        'mobile': '<!DOCTYPE html PUBLIC "-//WAPFORUM//DTD XHTML Mobile 1.2//EN" "http://www.openmobilealliance.org/tech/DTD/xhtml-mobile12.dtd">',
        'ce': '<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "ce-html-1.0-transitional.dtd">'
    };
    elements = {
        regular: 'a abbr address article aside audio b bdi bdo blockquote body button canvas caption cite code colgroup datalist dd del details dfn div dl dt em fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 head header hgroup html i iframe ins kbd label legend li map mark menu meter nav noscript object ol optgroup option output p pre progress q rp rt ruby s samp section select small span strong sub summary sup table tbody td textarea tfoot th thead time title tr u ul video',
        raw: 'script style',
        'void': 'area base br col command embed hr img input keygen link meta param source track wbr',
        obsolete: 'applet acronym bgsound dir frameset noframes isindex listing nextid noembed plaintext rb strike xmp big blink center font marquee multicol nobr spacer tt',
        obsolete_void: 'basefont frame'
    };
    merge_elements = function () {
        var a, args, element, result, _i, _j, _len, _len1, _ref;
        args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
        result = [];
        for (_i = 0, _len = args.length; _i < _len; _i++) {
            a = args[_i];
            _ref = elements[a].split(' ');
            for (_j = 0, _len1 = _ref.length; _j < _len1; _j++) {
                element = _ref[_j];
                if (__indexOf.call(result, element) < 0) {
                    result.push(element);
                }
            }
        }
        return result;
    };
    Teacup = function () {
        function Teacup() {
            this.htmlOut = null;
        }
        Teacup.prototype.resetBuffer = function (html) {
            var previous;
            if (html == null) {
                html = null;
            }
            previous = this.htmlOut;
            this.htmlOut = html;
            return previous;
        };
        Teacup.prototype.render = function () {
            var args, previous, result, template;
            template = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
            previous = this.resetBuffer('');
            try {
                template.apply(null, args);
            } finally {
                result = this.resetBuffer(previous);
            }
            return result;
        };
        Teacup.prototype.cede = function () {
            var args;
            args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
            return this.render.apply(this, args);
        };
        Teacup.prototype.renderable = function (template) {
            var teacup;
            teacup = this;
            return function () {
                var args, result;
                args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
                if (teacup.htmlOut === null) {
                    teacup.htmlOut = '';
                    try {
                        template.apply(this, args);
                    } finally {
                        result = teacup.resetBuffer();
                    }
                    return result;
                } else {
                    return template.apply(this, args);
                }
            };
        };
        Teacup.prototype.renderAttr = function (name, value) {
            var k, v;
            if (value == null) {
                return ' ' + name;
            }
            if (value === false) {
                return '';
            }
            if (name === 'data' && typeof value === 'object') {
                return function () {
                    var _results;
                    _results = [];
                    for (k in value) {
                        v = value[k];
                        _results.push(this.renderAttr('data-' + k, v));
                    }
                    return _results;
                }.call(this).join('');
            }
            if (value === true) {
                value = name;
            }
            return ' ' + name + '=' + this.quote(this.escape(value.toString()));
        };
        Teacup.prototype.attrOrder = [
            'id',
            'class'
        ];
        Teacup.prototype.renderAttrs = function (obj) {
            var name, result, value, _i, _len, _ref;
            result = '';
            _ref = this.attrOrder;
            for (_i = 0, _len = _ref.length; _i < _len; _i++) {
                name = _ref[_i];
                if (!(name in obj)) {
                    continue;
                }
                result += this.renderAttr(name, obj[name]);
                delete obj[name];
            }
            for (name in obj) {
                value = obj[name];
                result += this.renderAttr(name, value);
            }
            return result;
        };
        Teacup.prototype.renderContents = function (contents) {
            if (contents == null) {
            } else if (typeof contents === 'function') {
                return contents.call(this);
            } else {
                return this.text(contents);
            }
        };
        Teacup.prototype.isSelector = function (string) {
            var _ref;
            return string.length > 1 && ((_ref = string[0]) === '#' || _ref === '.');
        };
        Teacup.prototype.parseSelector = function (selector) {
            var classes, id, klass, token, _i, _len, _ref, _ref1;
            id = null;
            classes = [];
            _ref = selector.split('.');
            for (_i = 0, _len = _ref.length; _i < _len; _i++) {
                token = _ref[_i];
                if (id) {
                    classes.push(token);
                } else {
                    _ref1 = token.split('#'), klass = _ref1[0], id = _ref1[1];
                    if (klass !== '') {
                        classes.push(token);
                    }
                }
            }
            return {
                id: id,
                classes: classes
            };
        };
        Teacup.prototype.normalizeArgs = function (args) {
            var arg, attrs, classes, contents, id, index, selector, _i, _len;
            attrs = {};
            selector = null;
            contents = null;
            for (index = _i = 0, _len = args.length; _i < _len; index = ++_i) {
                arg = args[index];
                if (arg != null) {
                    switch (typeof arg) {
                    case 'string':
                        if (index === 0 && this.isSelector(arg)) {
                            selector = this.parseSelector(arg);
                        } else {
                            contents = arg;
                        }
                        break;
                    case 'function':
                    case 'number':
                    case 'boolean':
                        contents = arg;
                        break;
                    case 'object':
                        if (arg.constructor === Object) {
                            attrs = arg;
                        } else {
                            contents = arg;
                        }
                        break;
                    default:
                        contents = arg;
                    }
                }
            }
            if (selector != null) {
                id = selector.id, classes = selector.classes;
                if (id != null) {
                    attrs.id = id;
                }
                if (classes != null ? classes.length : void 0) {
                    attrs['class'] = classes.join(' ');
                }
            }
            return {
                attrs: attrs,
                contents: contents
            };
        };
        Teacup.prototype.tag = function () {
            var args, attrs, contents, tagName, _ref;
            tagName = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
            _ref = this.normalizeArgs(args), attrs = _ref.attrs, contents = _ref.contents;
            this.raw('<' + tagName + this.renderAttrs(attrs) + '>');
            this.renderContents(contents);
            return this.raw('</' + tagName + '>');
        };
        Teacup.prototype.rawTag = function () {
            var args, attrs, contents, tagName, _ref;
            tagName = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
            _ref = this.normalizeArgs(args), attrs = _ref.attrs, contents = _ref.contents;
            this.raw('<' + tagName + this.renderAttrs(attrs) + '>');
            this.raw(contents);
            return this.raw('</' + tagName + '>');
        };
        Teacup.prototype.selfClosingTag = function () {
            var args, attrs, contents, tag, _ref;
            tag = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
            _ref = this.normalizeArgs(args), attrs = _ref.attrs, contents = _ref.contents;
            if (contents) {
                throw new Error('Teacup: <' + tag + '/> must not have content.  Attempted to nest ' + contents);
            }
            return this.raw('<' + tag + this.renderAttrs(attrs) + ' />');
        };
        Teacup.prototype.coffeescript = function (fn) {
            return this.raw('<script type="text/javascript">(function() {\n  var __slice = [].slice,\n      __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; },\n      __hasProp = {}.hasOwnProperty,\n      __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n  (' + fn.toString() + ')();\n})();</script>');
        };
        Teacup.prototype.comment = function (text) {
            return this.raw('<!--' + this.escape(text) + '-->');
        };
        Teacup.prototype.doctype = function (type) {
            if (type == null) {
                type = 5;
            }
            return this.raw(doctypes[type]);
        };
        Teacup.prototype.ie = function (condition, contents) {
            this.raw('<!--[if ' + this.escape(condition) + ']>');
            this.renderContents(contents);
            return this.raw('<![endif]-->');
        };
        Teacup.prototype.text = function (s) {
            if (this.htmlOut == null) {
                throw new Error('Teacup: can\'t call a tag function outside a rendering context');
            }
            return this.htmlOut += s != null && this.escape(s.toString()) || '';
        };
        Teacup.prototype.raw = function (s) {
            if (s == null) {
                return;
            }
            return this.htmlOut += s;
        };
        Teacup.prototype.escape = function (text) {
            return text.toString().replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');
        };
        Teacup.prototype.quote = function (value) {
            return '"' + value + '"';
        };
        Teacup.prototype.tags = function () {
            var bound, boundMethodNames, method, _fn, _i, _len, _this = this;
            bound = {};
            boundMethodNames = [].concat('cede coffeescript comment doctype escape ie raw render renderable script tag text'.split(' '), merge_elements('regular', 'obsolete', 'raw', 'void', 'obsolete_void'));
            _fn = function (method) {
                return bound[method] = function () {
                    var args;
                    args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
                    return _this[method].apply(_this, args);
                };
            };
            for (_i = 0, _len = boundMethodNames.length; _i < _len; _i++) {
                method = boundMethodNames[_i];
                _fn(method);
            }
            return bound;
        };
        return Teacup;
    }();
    _ref = merge_elements('regular', 'obsolete');
    _fn = function (tagName) {
        return Teacup.prototype[tagName] = function () {
            var args;
            args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
            return this.tag.apply(this, [tagName].concat(__slice.call(args)));
        };
    };
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        tagName = _ref[_i];
        _fn(tagName);
    }
    _ref1 = merge_elements('raw');
    _fn1 = function (tagName) {
        return Teacup.prototype[tagName] = function () {
            var args;
            args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
            return this.rawTag.apply(this, [tagName].concat(__slice.call(args)));
        };
    };
    for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {
        tagName = _ref1[_j];
        _fn1(tagName);
    }
    _ref2 = merge_elements('void', 'obsolete_void');
    _fn2 = function (tagName) {
        return Teacup.prototype[tagName] = function () {
            var args;
            args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
            return this.selfClosingTag.apply(this, [tagName].concat(__slice.call(args)));
        };
    };
    for (_k = 0, _len2 = _ref2.length; _k < _len2; _k++) {
        tagName = _ref2[_k];
        _fn2(tagName);
    }
    if (typeof module !== 'undefined' && module !== null ? module.exports : void 0) {
        module.exports = new Teacup().tags();
        module.exports.Teacup = Teacup;
    } else if (typeof define === 'function' && define.amd) {
        define('teacup', [], function () {
            return new Teacup().tags();
        });
    } else {
        window.teacup = new Teacup().tags();
        window.teacup.Teacup = Teacup;
    }
}.call(this));
});
require.define('70', function(module, exports, __dirname, __filename, undefined){
var util = require('util');
var assert = require('assert');
var slice = Array.prototype.slice;
var console;
var times = {};
if (typeof global !== 'undefined' && global.console) {
    console = global.console;
} else if (typeof window !== 'undefined' && window.console) {
    console = window.console;
} else {
    console = {};
}
var functions = [
        [
            log,
            'log'
        ],
        [
            info,
            'info'
        ],
        [
            warn,
            'warn'
        ],
        [
            error,
            'error'
        ],
        [
            time,
            'time'
        ],
        [
            timeEnd,
            'timeEnd'
        ],
        [
            trace,
            'trace'
        ],
        [
            dir,
            'dir'
        ],
        [
            assert,
            'assert'
        ]
    ];
for (var i = 0; i < functions.length; i++) {
    var tuple = functions[i];
    var f = tuple[0];
    var name = tuple[1];
    if (!console[name]) {
        console[name] = f;
    }
}
module.exports = console;
function log() {
}
function info() {
    console.log.apply(console, arguments);
}
function warn() {
    console.log.apply(console, arguments);
}
function error() {
    console.warn.apply(console, arguments);
}
function time(label) {
    times[label] = Date.now();
}
function timeEnd(label) {
    var time = times[label];
    if (!time) {
        throw new Error('No such label: ' + label);
    }
    var duration = Date.now() - time;
    console.log(label + ': ' + duration + 'ms');
}
function trace() {
    var err = new Error();
    err.name = 'Trace';
    err.message = util.format.apply(null, arguments);
    console.error(err.stack);
}
function dir(object) {
    console.log(util.inspect(object) + '\n');
}
function assert(expression) {
    if (!expression) {
        var arr = slice.call(arguments, 1);
        assert.ok(false, util.format.apply(null, arr));
    }
}
});
require.define('71', function(module, exports, __dirname, __filename, undefined){
try {
    if (!setTimeout.call) {
        var slicer = Array.prototype.slice;
        exports.setTimeout = function (fn) {
            var args = slicer.call(arguments, 1);
            return setTimeout(function () {
                return fn.apply(this, args);
            });
        };
        exports.setInterval = function (fn) {
            var args = slicer.call(arguments, 1);
            return setInterval(function () {
                return fn.apply(this, args);
            });
        };
    } else {
        exports.setTimeout = setTimeout;
        exports.setInterval = setInterval;
    }
    exports.clearTimeout = clearTimeout;
    exports.clearInterval = clearInterval;
    if (window.setImmediate) {
        exports.setImmediate = window.setImmediate;
        exports.clearImmediate = window.clearImmediate;
    }
    exports.setTimeout(function () {
    });
} catch (_) {
    function bind(f, context) {
        return function () {
            return f.apply(context, arguments);
        };
    }
    if (typeof window !== 'undefined') {
        exports.setTimeout = bind(setTimeout, window);
        exports.setInterval = bind(setInterval, window);
        exports.clearTimeout = bind(clearTimeout, window);
        exports.clearInterval = bind(clearInterval, window);
        if (window.setImmediate) {
            exports.setImmediate = bind(window.setImmediate, window);
            exports.clearImmediate = bind(window.clearImmediate, window);
        }
    } else {
        if (typeof setTimeout !== 'undefined') {
            exports.setTimeout = setTimeout;
        }
        if (typeof setInterval !== 'undefined') {
            exports.setInterval = setInterval;
        }
        if (typeof clearTimeout !== 'undefined') {
            exports.clearTimeout = clearTimeout;
        }
        if (typeof clearInterval === 'function') {
            exports.clearInterval = clearInterval;
        }
    }
}
exports.unref = function unref() {
};
exports.ref = function ref() {
};
if (!exports.setImmediate) {
    var currentKey = 0, queue = {}, active = false;
    exports.setImmediate = function () {
        function drain() {
            active = false;
            for (var key in queue) {
                if (queue.hasOwnProperty(currentKey, key)) {
                    var fn = queue[key];
                    delete queue[key];
                    fn();
                }
            }
        }
        if (typeof window !== 'undefined' && window.postMessage && window.addEventListener) {
            window.addEventListener('message', function (ev) {
                if (ev.source === window && ev.data === 'browserify-tick') {
                    ev.stopPropagation();
                    drain();
                }
            }, true);
            return function setImmediate(fn) {
                var id = ++currentKey;
                queue[id] = fn;
                if (!active) {
                    active = true;
                    window.postMessage('browserify-tick', '*');
                }
                return id;
            };
        } else {
            return function setImmediate(fn) {
                var id = ++currentKey;
                queue[id] = fn;
                if (!active) {
                    active = true;
                    setTimeout(drain, 0);
                }
                return id;
            };
        }
    }();
    exports.clearImmediate = function clearImmediate(id) {
        delete queue[id];
    };
}
});
require.define('73', function(module, exports, __dirname, __filename, undefined){
(function () {
    var Response, ResponseData, Stimulus, lay, _, _ref, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    _ = require('2', module);
    lay = require('74', module);
    exports.Stimulus = Stimulus = function () {
        Stimulus.standardDefaults = {
            x: 0,
            y: 0,
            origin: 'top-left'
        };
        Stimulus.prototype.defaults = {};
        Stimulus.prototype.groupSize = function (group) {
            var children, height, i, width, _i, _ref;
            children = group.getChildren();
            width = 0;
            height = 0;
            for (i = _i = 0, _ref = children.length; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
                if (children[i].getWidth() > width) {
                    width = children[i].getWidth();
                }
                if (children[i].getHeight() > height) {
                    height = children[i].getHeight();
                }
            }
            return {
                width: width,
                height: height
            };
        };
        function Stimulus(spec) {
            var _ref;
            if (spec == null) {
                spec = {};
            }
            this.spec = _.defaults(spec, this.defaults);
            this.spec = _.defaults(spec, Stimulus.standardDefaults);
            this.spec = _.omit(this.spec, function (value, key) {
                return value == null;
            });
            this.name = this.constructor.name;
            if (((_ref = this.spec) != null ? _ref.id : void 0) != null) {
                this.id = this.spec.id;
            } else {
                this.id = _.uniqueId('stim_');
            }
            this.stopped = false;
            if (this.spec.layout != null) {
                this.layout = this.spec.layout;
            } else {
                this.layout = new lay.AbsoluteLayout();
            }
            this.overlay = false;
            this.name = this.constructor.name;
            this.initialize();
        }
        Stimulus.prototype.initialize = function () {
        };
        Stimulus.prototype.xyoffset = function (origin, nodeWidth, nodeHeight) {
            console.log('origin is', origin);
            switch (origin) {
            case 'center':
                return [
                    -nodeWidth / 2,
                    -nodeHeight / 2
                ];
            case 'center-left' || 'left-center':
                return [
                    0,
                    -nodeHeight / 2
                ];
            case 'center-right' || 'right-center':
                return [
                    -nodeWidth,
                    -nodeHeight / 2
                ];
            case 'top-left' || 'left-top':
                return [
                    0,
                    0
                ];
            case 'top-right' || 'right-top':
                return [
                    -nodeWidth,
                    0
                ];
            case 'top-center' || 'center-top':
                return [
                    -nodeWidth / 2,
                    0
                ];
            case 'bottom-left' || 'left-bottom':
                return [
                    0,
                    -nodeHeight
                ];
            case 'bottom-right' || 'right-bottom':
                return [
                    -nodeWidth,
                    -nodeHeight
                ];
            case 'bottom-center' || 'center-bottom':
                return [
                    -nodeWidth / 2,
                    -nodeHeight
                ];
            default:
                throw new Error('failed to match \'origin\' argument:', origin);
            }
        };
        Stimulus.prototype.computeCoordinates = function (context, position, nodeWidth, nodeHeight) {
            var xy, xyoff;
            if (nodeWidth == null) {
                nodeWidth = 0;
            }
            if (nodeHeight == null) {
                nodeHeight = 0;
            }
            xy = position != null ? this.layout.computePosition([
                context.width(),
                context.height()
            ], position) : this.spec.x != null && this.spec.y != null ? [
                this.layout.convertToCoordinate(this.spec.x, context.width()),
                this.layout.convertToCoordinate(this.spec.y, context.height())
            ] : [
                0,
                0
            ];
            console.log('origin', this.spec.origin);
            if (this.spec.origin != null) {
                xyoff = this.xyoffset(this.spec.origin, nodeWidth, nodeHeight);
                xy[0] = xy[0] + xyoff[0];
                xy[1] = xy[1] + xyoff[1];
            }
            return xy;
        };
        Stimulus.prototype.reset = function () {
            return this.stopped = false;
        };
        Stimulus.prototype.render = function (context, layer) {
        };
        Stimulus.prototype.stop = function (context) {
            return this.stopped = true;
        };
        return Stimulus;
    }();
    exports.Response = Response = function (_super) {
        __extends(Response, _super);
        function Response() {
            _ref = Response.__super__.constructor.apply(this, arguments);
            return _ref;
        }
        Response.prototype.start = function (context) {
            return this.activate(context);
        };
        Response.prototype.activate = function (context) {
        };
        return Response;
    }(exports.Stimulus);
    exports.ResponseData = ResponseData = function () {
        function ResponseData(data) {
            this.data = data;
        }
        return ResponseData;
    }();
}.call(this));
});
require.define('74', function(module, exports, __dirname, __filename, undefined){
(function () {
    var AbsoluteLayout, GridLayout, Layout, computeGridCells, convertPercentageToFraction, convertToCoordinate, isPercentage, isPositionLabel, positionToCoord, _, _ref, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    _ = require('2', module);
    isPercentage = function (perc) {
        return _.isString(perc) && perc.slice(-1) === '%';
    };
    isPositionLabel = function (pos) {
        return _.contains([
            'center',
            'center-left',
            'center-right',
            'top-left',
            'top-right',
            'top-center',
            'bottom-left',
            'bottom-right',
            'bottom-center',
            'left-center',
            'right-center',
            'left-top',
            'right-top',
            'center-top',
            'left-bottom',
            'right-bottom',
            'center-bottom'
        ], pos);
    };
    positionToCoord = function (pos, offx, offy, width, height, xy) {
        switch (pos) {
        case 'center':
            return [
                offx + width * 0.5,
                offy + height * 0.5
            ];
        case 'center-left' || 'left-center':
            return [
                offx + width / 6,
                offy + height * 0.5
            ];
        case 'center-right' || 'right-center':
            return [
                offx + width * 5 / 6,
                offy + height * 0.5
            ];
        case 'top-left' || 'left-top':
            return [
                offx + width / 6,
                offy + height / 6
            ];
        case 'top-right' || 'right-top':
            return [
                offx + width * 5 / 6,
                offy + height / 6
            ];
        case 'top-center' || 'center-top':
            return [
                offx + width * 0.5,
                offy + height / 6
            ];
        case 'bottom-left' || 'left-bottom':
            return [
                offx + width / 6,
                offy + height * 5 / 6
            ];
        case 'bottom-right' || 'right-bottom':
            return [
                offx + width * 5 / 6,
                offy + height * 5 / 6
            ];
        case 'bottom-center' || 'center-bottom':
            return [
                offx + width * 0.5,
                offy + height * 5 / 6
            ];
        default:
            return xy;
        }
    };
    convertPercentageToFraction = function (perc, dim) {
        var frac;
        frac = parseFloat(perc) / 100;
        frac = Math.min(1, frac);
        frac = Math.max(0, frac);
        return frac * dim;
    };
    convertToCoordinate = function (val, d) {
        var ret;
        if (isPercentage(val)) {
            return val = convertPercentageToFraction(val, d);
        } else if (isPositionLabel(val)) {
            ret = positionToCoord(val, 0, 0, d[0], d[1], [
                0,
                0
            ]);
            return ret;
        } else {
            return Math.min(val, d);
        }
    };
    computeGridCells = function (rows, cols, bounds) {
        var col, row, _i, _results;
        _results = [];
        for (row = _i = 0; 0 <= rows ? _i < rows : _i > rows; row = 0 <= rows ? ++_i : --_i) {
            _results.push(function () {
                var _j, _results1;
                _results1 = [];
                for (col = _j = 0; 0 <= cols ? _j < cols : _j > cols; col = 0 <= cols ? ++_j : --_j) {
                    _results1.push({
                        x: bounds.x + bounds.width / cols * col,
                        y: bounds.y + bounds.height / rows * row,
                        width: bounds.width / cols,
                        height: bounds.height / rows
                    });
                }
                return _results1;
            }());
        }
        return _results;
    };
    exports.Layout = Layout = function () {
        function Layout() {
        }
        Layout.prototype.computePosition = function (dim, constraints) {
            throw new Error('unimplimented error');
        };
        Layout.prototype.convertToCoordinate = function (val, d) {
            var ret;
            if (isPercentage(val)) {
                return val = convertPercentageToFraction(val, d);
            } else if (isPositionLabel(val)) {
                ret = positionToCoord(val, 0, 0, d[0], d[1], [
                    0,
                    0
                ]);
                return ret;
            } else {
                return Math.min(val, d);
            }
        };
        return Layout;
    }();
    exports.AbsoluteLayout = AbsoluteLayout = function (_super) {
        __extends(AbsoluteLayout, _super);
        function AbsoluteLayout() {
            _ref = AbsoluteLayout.__super__.constructor.apply(this, arguments);
            return _ref;
        }
        AbsoluteLayout.prototype.computePosition = function (dim, constraints) {
            var x, y;
            if (_.isArray(constraints)) {
                x = convertToCoordinate(constraints[0], dim[0]);
                y = convertToCoordinate(constraints[1], dim[1]);
                return [
                    x,
                    y
                ];
            } else {
                return convertToCoordinate(constraints, dim);
            }
        };
        return AbsoluteLayout;
    }(exports.Layout);
    exports.GridLayout = GridLayout = function (_super) {
        __extends(GridLayout, _super);
        function GridLayout(rows, cols, bounds) {
            this.rows = rows;
            this.cols = cols;
            this.bounds = bounds;
            this.ncells = this.rows * this.cols;
            this.cells = this.computeCells();
        }
        GridLayout.prototype.computeCells = function () {
            return computeGridCells(this.rows, this.cols, this.bounds);
        };
        GridLayout.prototype.computePosition = function (dim, constraints) {
            var cell;
            if (dim[0] !== this.bounds.width && dim[1] !== this.bounds.height) {
                this.bounds.width = dim[0];
                this.bounds.height = dim[1];
                this.cells = this.computeCells();
            }
            cell = this.cells[constraints[0]][constraints[1]];
            return [
                cell.x + cell.width / 2,
                cell.y + cell.height / 2
            ];
        };
        return GridLayout;
    }(exports.Layout);
    exports.positionToCoord = positionToCoord;
}.call(this));
});
require.define('79', function(module, exports, __dirname, __filename, undefined){
(function () {
    var Background, Kinetic, Stimulus, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    Kinetic = require('27', module).Kinetic;
    Stimulus = require('73', module).Stimulus;
    Background = function (_super) {
        __extends(Background, _super);
        function Background(stims, fill) {
            this.stims = stims != null ? stims : [];
            this.fill = fill != null ? fill : 'white';
            Background.__super__.constructor.call(this, {}, {});
        }
        Background.prototype.render = function (context, layer) {
            var background, stim, _i, _len, _ref, _results;
            background = new Kinetic.Rect({
                x: 0,
                y: 0,
                width: context.width(),
                height: context.height(),
                name: 'background',
                fill: this.fill
            });
            layer.add(background);
            _ref = this.stims;
            _results = [];
            for (_i = 0, _len = _ref.length; _i < _len; _i++) {
                stim = _ref[_i];
                _results.push(stim.render(context, layer));
            }
            return _results;
        };
        return Background;
    }(Stimulus);
    exports.Background = Background;
}.call(this));
});
require.define('83', function(module, exports, __dirname, __filename, undefined){
(function () {
    var Background, Bacon, Block, BlockSeq, Coda, DataTable, DefaultComponentFactory, Event, EventData, EventDataLog, Experiment, ExperimentContext, ExperimentState, FeedbackNode, FunctionNode, Kinetic, KineticContext, MockStimFactory, Prelude, Presenter, Q, Response, ResponseData, RunnableNode, StimFactory, Stimulus, TAFFY, Trial, buildCoda, buildEvent, buildPrelude, buildResponse, buildStimulus, buildTrial, createContext, des, functionNode, makeEventSeq, utils, _, __dummySpec, _ref, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    _ = require('2', module);
    Q = require('9', module);
    TAFFY = require('23', module).taffy;
    utils = require('76', module);
    DataTable = require('77', module).DataTable;
    Bacon = require('25', module);
    DefaultComponentFactory = require('122', module).DefaultComponentFactory;
    Background = require('79', module).Background;
    Kinetic = require('27', module).Kinetic;
    Stimulus = require('73', module).Stimulus;
    Response = require('73', module).Response;
    ResponseData = require('73', module).ResponseData;
    exports.EventData = EventData = function () {
        function EventData(name, id, data) {
            this.name = name;
            this.id = id;
            this.data = data;
        }
        return EventData;
    }();
    exports.EventDataLog = EventDataLog = function () {
        function EventDataLog() {
            this.eventStack = [];
        }
        EventDataLog.prototype.push = function (ev) {
            return this.eventStack.push(ev);
        };
        EventDataLog.prototype.last = function () {
            if (this.eventStack.length < 1) {
                throw 'EventLog is Empty, canot access last element';
            }
            return this.eventStack[this.eventStack.length - 1].data;
        };
        EventDataLog.prototype.findAll = function (id) {
            return _.filter(this.eventStack, function (ev) {
                return ev.id === id;
            });
        };
        EventDataLog.prototype.findLast = function (id) {
            var i, len, _i;
            len = this.eventStack.length - 1;
            for (i = _i = len; len <= 0 ? _i <= 0 : _i >= 0; i = len <= 0 ? ++_i : --_i) {
                if (this.eventStack[i].id === id) {
                    return this.eventStack[i];
                }
            }
        };
        return EventDataLog;
    }();
    exports.StimFactory = StimFactory = function () {
        function StimFactory() {
        }
        StimFactory.prototype.buildStimulus = function (spec, context) {
            var params, stimType;
            stimType = _.keys(spec)[0];
            params = _.values(spec)[0];
            return this.makeStimulus(stimType, params, context);
        };
        StimFactory.prototype.buildResponse = function (spec, context) {
            var params, responseType;
            responseType = _.keys(spec)[0];
            params = _.values(spec)[0];
            return this.makeResponse(responseType, params, context);
        };
        StimFactory.prototype.buildEvent = function (spec, context) {
            var response, responseSpec, stim, stimSpec;
            if (spec.Next == null) {
                throw new Error('Event specification does not contain \'Next\' element');
            }
            stimSpec = _.omit(spec, 'Next');
            responseSpec = _.pick(spec, 'Next');
            stim = this.buildStimulus(stimSpec, context);
            response = this.buildResponse(responseSpec.Next, context);
            return this.makeEvent(stim, response, context);
        };
        StimFactory.prototype.makeStimulus = function (name, params, context) {
            throw new Error('unimplemented');
        };
        StimFactory.prototype.makeResponse = function (name, params, context) {
            throw new Error('unimplemented');
        };
        StimFactory.prototype.makeEvent = function (stim, response, context) {
            throw new Error('unimplemented');
        };
        return StimFactory;
    }();
    exports.MockStimFactory = MockStimFactory = function (_super) {
        __extends(MockStimFactory, _super);
        function MockStimFactory() {
            _ref = MockStimFactory.__super__.constructor.apply(this, arguments);
            return _ref;
        }
        MockStimFactory.prototype.makeStimulus = function (name, params, context) {
            var ret;
            ret = {};
            ret[name] = params;
            return ret;
        };
        MockStimFactory.prototype.makeResponse = function (name, params, context) {
            var ret;
            ret = {};
            ret[name] = params;
            return ret;
        };
        MockStimFactory.prototype.makeEvent = function (stim, response, context) {
            return [
                stim,
                response
            ];
        };
        return MockStimFactory;
    }(exports.StimFactory);
    RunnableNode = function () {
        RunnableNode.functionList = function (nodes, context, callback) {
            return _.map(nodes, function (node) {
                return function (arg) {
                    context.handleValue(arg);
                    if (callback != null) {
                        callback(node);
                    }
                    return node.start(context);
                };
            });
        };
        RunnableNode.chainFunctions = function (funArray) {
            var fun, result, _i, _len;
            result = Q.resolve(0);
            for (_i = 0, _len = funArray.length; _i < _len; _i++) {
                fun = funArray[_i];
                result = result.then(fun, function (err) {
                    console.log('error message: ', err);
                    throw new Error('Error during execution: ', err);
                });
            }
            return result;
        };
        function RunnableNode(children) {
            this.children = children;
        }
        RunnableNode.prototype.before = function (context) {
            return new FunctionNode(function () {
                return 0;
            });
        };
        RunnableNode.prototype.after = function (context) {
            return new FunctionNode(function () {
                return 0;
            });
        };
        RunnableNode.prototype.numChildren = function () {
            return this.children.length;
        };
        RunnableNode.prototype.length = function () {
            return this.children.length;
        };
        RunnableNode.prototype.start = function (context) {
            var farray;
            farray = RunnableNode.functionList(_.flatten([
                this.before(context),
                this.children,
                this.after(context)
            ]), context, function (node) {
                return console.log('node done', node);
            });
            return RunnableNode.chainFunctions(farray);
        };
        RunnableNode.prototype.stop = function (context) {
        };
        return RunnableNode;
    }();
    exports.RunnableNode = RunnableNode;
    exports.FunctionNode = FunctionNode = function (_super) {
        __extends(FunctionNode, _super);
        function FunctionNode(fun) {
            this.fun = fun;
        }
        FunctionNode.prototype.start = function (context) {
            return Q.fcall(this.fun);
        };
        return FunctionNode;
    }(RunnableNode);
    functionNode = function (fun) {
        return new FunctionNode(fun);
    };
    exports.FeedbackNode = FeedbackNode = function (_super) {
        __extends(FeedbackNode, _super);
        function FeedbackNode(feedback) {
            this.feedback = feedback;
        }
        FeedbackNode.prototype.numChildren = function () {
            return 1;
        };
        FeedbackNode.prototype.length = function () {
            return 1;
        };
        FeedbackNode.prototype.start = function (context) {
            var args, event, idSet, obj, spec, _i, _len;
            if (this.feedback != null) {
                args = context.trialData().get();
                idSet = {};
                for (_i = 0, _len = args.length; _i < _len; _i++) {
                    obj = args[_i];
                    if (obj['id'] != null) {
                        idSet[obj['id']] = obj;
                    }
                }
                args = _.extend(args, idSet);
                spec = this.feedback.apply(args);
                event = context.stimFactory.buildEvent(spec, context);
                return event.start(context);
            } else {
                return Q(0);
            }
        };
        return FeedbackNode;
    }(RunnableNode);
    exports.Event = Event = function (_super) {
        __extends(Event, _super);
        function Event(stimulus, response) {
            this.stimulus = stimulus;
            this.response = response;
            Event.__super__.constructor.call(this, [this.response]);
        }
        Event.prototype.stop = function (context) {
            this.stimulus.stop(context);
            return this.response.stop(context);
        };
        Event.prototype.before = function (context) {
            var self, _this = this;
            self = this;
            return functionNode(function () {
                if (!context.exState.inPrelude) {
                    context.updateState(function () {
                        return context.exState.nextEvent(self);
                    });
                }
                if (!_this.stimulus.overlay) {
                    context.clearContent();
                }
                _this.stimulus.render(context, context.contentLayer);
                return context.draw();
            });
        };
        Event.prototype.after = function (context) {
            var _this = this;
            return functionNode(function () {
                return _this.stimulus.stop(context);
            });
        };
        Event.prototype.start = function (context) {
            return Event.__super__.start.call(this, context);
        };
        return Event;
    }(RunnableNode);
    exports.Trial = Trial = function (_super) {
        __extends(Trial, _super);
        function Trial(events, record, feedback, background) {
            if (events == null) {
                events = [];
            }
            this.record = record != null ? record : {};
            this.feedback = feedback;
            this.background = background;
            Trial.__super__.constructor.call(this, events);
        }
        Trial.prototype.numEvents = function () {
            return this.children.length;
        };
        Trial.prototype.push = function (event) {
            return this.children.push(event);
        };
        Trial.prototype.before = function (context) {
            var self, _this = this;
            self = this;
            return functionNode(function () {
                context.updateState(function () {
                    return context.exState.nextTrial(self);
                });
                context.clearBackground();
                if (_this.background != null) {
                    context.setBackground(_this.background);
                    return context.drawBackground();
                }
            });
        };
        Trial.prototype.after = function (context) {
            return new FeedbackNode(this.feedback);
        };
        Trial.prototype.start = function (context, callback) {
            var farray;
            farray = RunnableNode.functionList(_.flatten([
                this.before(context),
                this.children,
                this.after(context)
            ]), context, function (event) {
                return console.log('event callback', event);
            });
            return RunnableNode.chainFunctions(farray);
        };
        Trial.prototype.stop = function (context) {
        };
        return Trial;
    }(RunnableNode);
    exports.Block = Block = function (_super) {
        __extends(Block, _super);
        function Block(children, blockSpec) {
            this.blockSpec = blockSpec;
            Block.__super__.constructor.call(this, children);
        }
        Block.prototype.showEvent = function (spec, context) {
            var event;
            event = buildEvent(spec, context);
            return event.start(context);
        };
        Block.prototype.before = function (context) {
            var self, _this = this;
            self = this;
            return functionNode(function () {
                var args, spec;
                context.updateState(function () {
                    return context.exState.nextBlock(self);
                });
                if (_this.blockSpec != null && _this.blockSpec.Start) {
                    args = _.extend(context.exState.toRecord(), { context: context });
                    spec = _this.blockSpec.Start.apply(args);
                    return _this.showEvent(spec, context);
                } else {
                    return Q.fcall(0);
                }
            });
        };
        Block.prototype.after = function (context) {
            var _this = this;
            return functionNode(function () {
                var args, blockData, curid, ids, out, spec, _i, _len;
                if (_this.blockSpec != null && _this.blockSpec.End) {
                    blockData = context.blockData();
                    ids = _.unique(blockData.select('id'));
                    console.log('END ids', ids);
                    out = {};
                    for (_i = 0, _len = ids.length; _i < _len; _i++) {
                        curid = ids[_i];
                        out[curid] = DataTable.fromRecords(blockData.filter({ id: curid }).get());
                    }
                    args = _.extend(context.exState.toRecord(), { context: context }, out);
                    console.log('block end args');
                    spec = _this.blockSpec.End.apply(args);
                    return _this.showEvent(spec, context);
                } else {
                    return Q.fcall(0);
                }
            });
        };
        return Block;
    }(RunnableNode);
    exports.BlockSeq = BlockSeq = function (_super) {
        __extends(BlockSeq, _super);
        function BlockSeq(children) {
            BlockSeq.__super__.constructor.call(this, children);
        }
        return BlockSeq;
    }(RunnableNode);
    exports.Prelude = Prelude = function (_super) {
        __extends(Prelude, _super);
        function Prelude(children) {
            Prelude.__super__.constructor.call(this, children);
        }
        Prelude.prototype.before = function (context) {
            var _this = this;
            return functionNode(function () {
                return context.updateState(function () {
                    return context.exState.insidePrelude();
                });
            });
        };
        Prelude.prototype.after = function (context) {
            var _this = this;
            return functionNode(function () {
                return context.updateState(function () {
                    return context.exState.outsidePrelude();
                });
            });
        };
        return Prelude;
    }(RunnableNode);
    exports.Coda = Coda = function (_super) {
        __extends(Coda, _super);
        function Coda(children) {
            Coda.__super__.constructor.call(this, children);
        }
        return Coda;
    }(RunnableNode);
    exports.ExperimentState = ExperimentState = function () {
        function ExperimentState() {
            this.inPrelude = false;
            this.trial = {};
            this.block = {};
            this.event = {};
            this.blockNumber = 0;
            this.trialNumber = 0;
            this.eventNumber = 0;
            this.stimulus = {};
            this.response = {};
        }
        ExperimentState.prototype.insidePrelude = function () {
            var ret;
            ret = $.extend({}, this);
            ret.inPrelude = true;
            return ret;
        };
        ExperimentState.prototype.outsidePrelude = function () {
            var ret;
            ret = $.extend({}, this);
            ret.inPrelude = false;
            return ret;
        };
        ExperimentState.prototype.nextBlock = function (block) {
            var ret;
            ret = $.extend({}, this);
            ret.blockNumber = this.blockNumber + 1;
            ret.block = block;
            return ret;
        };
        ExperimentState.prototype.nextTrial = function (trial) {
            var ret;
            ret = $.extend({}, this);
            ret.trial = trial;
            ret.trialNumber = this.trialNumber + 1;
            return ret;
        };
        ExperimentState.prototype.nextEvent = function (event) {
            var ret;
            ret = $.extend({}, this);
            ret.event = event;
            ret.eventNumber = this.eventNumber + 1;
            return ret;
        };
        ExperimentState.prototype.toRecord = function () {
            var key, ret, value, _ref1, _ref10, _ref11, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9;
            ret = {
                blockNumber: this.blockNumber,
                trialNumber: this.trialNumber,
                eventNumber: this.eventNumber,
                stimulus: (_ref1 = this.event) != null ? (_ref2 = _ref1.stimulus) != null ? (_ref3 = _ref2.constructor) != null ? _ref3.name : void 0 : void 0 : void 0,
                response: (_ref4 = this.event) != null ? (_ref5 = _ref4.response) != null ? (_ref6 = _ref5.constructor) != null ? _ref6.name : void 0 : void 0 : void 0,
                stimulusID: (_ref7 = this.event) != null ? (_ref8 = _ref7.stimulus) != null ? _ref8.id : void 0 : void 0,
                responseID: (_ref9 = this.event) != null ? (_ref10 = _ref9.response) != null ? _ref10.id : void 0 : void 0
            };
            if (!_.isEmpty(this.trial) && this.trial.record != null) {
                _ref11 = this.trial.record;
                for (key in _ref11) {
                    value = _ref11[key];
                    ret[key] = value;
                }
            }
            return ret;
        };
        return ExperimentState;
    }();
    createContext = function (id) {
        var stage;
        if (id == null) {
            id = 'container';
        }
        stage = new Kinetic.Stage({
            container: id,
            width: $('#' + id).width(),
            height: $('#' + id).height()
        });
        return new KineticContext(stage);
    };
    exports.createContext = createContext;
    exports.ExperimentContext = ExperimentContext = function () {
        function ExperimentContext(stimFactory) {
            this.stimFactory = stimFactory;
            this.userData = TAFFY({});
            this.exState = new ExperimentState();
            this.eventData = new EventDataLog();
            this.log = [];
            this.trialNumber = 0;
            this.currentTrial = new Trial([], {});
            this.numBlocks = 0;
        }
        ExperimentContext.prototype.updateState = function (fun) {
            this.exState = fun(this.exState);
            return this.exState;
        };
        ExperimentContext.prototype.pushData = function (data, withState) {
            var record;
            if (withState == null) {
                withState = true;
            }
            console.log('pushing data', data);
            if (withState) {
                record = _.extend(this.exState.toRecord(), data);
            } else {
                record = data;
            }
            return this.userData.insert(record);
        };
        ExperimentContext.prototype.handleValue = function (arg) {
            if (arg != null && arg instanceof ResponseData) {
                return this.pushData(arg.data);
            }
        };
        ExperimentContext.prototype.width = function () {
            return 0;
        };
        ExperimentContext.prototype.height = function () {
            return 0;
        };
        ExperimentContext.prototype.offsetX = function () {
            return 0;
        };
        ExperimentContext.prototype.offsetY = function () {
            return 0;
        };
        ExperimentContext.prototype.centerX = function () {
            return this.width() / 2 + this.offsetX();
        };
        ExperimentContext.prototype.centerY = function () {
            return this.height() / 2 + this.offsetY();
        };
        ExperimentContext.prototype.screenInfo = function () {
            return {
                width: this.width(),
                height: this.height(),
                offset: {
                    x: this.offsetX(),
                    y: this.offsetY()
                },
                center: {
                    x: this.centerX(),
                    y: this.centerY()
                }
            };
        };
        ExperimentContext.prototype.logEvent = function (key, value) {
            var record;
            record = _.clone(this.currentTrial.record);
            record[key] = value;
            this.log.push(record);
            return console.log(this.log);
        };
        ExperimentContext.prototype.trialData = function () {
            var ret;
            ret = this.userData().filter({ trialNumber: this.exState.trialNumber });
            if (ret.length === 1) {
                return ret[0];
            } else {
                return ret;
            }
        };
        ExperimentContext.prototype.blockData = function (args) {
            if (args == null) {
                args = {
                    blockNum: null,
                    name: null
                };
            }
            if (args.blockNum == null) {
                args.blockNum = this.exState.blockNumber;
            }
            if (!args.name) {
                return this.userData().filter({ blockNumber: args.blockNum });
            } else {
                return this.userData().filter({ blockNumber: args.blockNum }).select(args.name);
            }
        };
        ExperimentContext.prototype.allData = function (args) {
            if (args == null) {
                args = { name: null };
            }
            if (!args.name) {
                return this.userData();
            } else {
                return this.userData().select(args.name);
            }
        };
        ExperimentContext.prototype.showEvent = function (event) {
            return event.start(this);
        };
        ExperimentContext.prototype.showStimulus = function (stimulus) {
            return stimulus.render(this);
        };
        ExperimentContext.prototype.start = function (blockList) {
            var error, farray;
            this.numBlocks = blockList.length();
            try {
                farray = RunnableNode.functionList(blockList, this, function (block) {
                    return console.log('block callback', block);
                });
                return RunnableNode.chainFunctions(farray);
            } catch (_error) {
                error = _error;
                return console.log('caught error:', error);
            }
        };
        ExperimentContext.prototype.clearContent = function () {
        };
        ExperimentContext.prototype.clearBackground = function () {
        };
        ExperimentContext.prototype.keydownStream = function () {
            return Bacon.fromEventTarget(window, 'keydown');
        };
        ExperimentContext.prototype.keypressStream = function () {
            return Bacon.fromEventTarget(window, 'keypress');
        };
        ExperimentContext.prototype.mousepressStream = function () {
        };
        ExperimentContext.prototype.draw = function () {
        };
        ExperimentContext.prototype.insertHTMLDiv = function () {
            $('canvas').css('position', 'absolute');
            $('#container').append('<div id="htmlcontainer" class="htmllayer"></div>');
            $('#htmlcontainer').css({
                position: 'absolute',
                'z-index': 999,
                outline: 'none',
                padding: '5px'
            });
            $('#container').attr('tabindex', 0);
            return $('#container').css('outline', 'none');
        };
        ExperimentContext.prototype.clearHtml = function () {
            $('#htmlcontainer').empty();
            return $('#htmlcontainer').hide();
        };
        ExperimentContext.prototype.appendHtml = function (input) {
            $('#htmlcontainer').addClass('htmllayer');
            $('#htmlcontainer').append(input);
            return $('#htmlcontainer').show();
        };
        ExperimentContext.prototype.hideHtml = function () {
            return $('#htmlcontainer').hide();
        };
        return ExperimentContext;
    }();
    KineticContext = function (_super) {
        __extends(KineticContext, _super);
        function KineticContext(stage) {
            this.stage = stage;
            KineticContext.__super__.constructor.call(this, new DefaultComponentFactory());
            this.contentLayer = new Kinetic.Layer({ clearBeforeDraw: true });
            this.backgroundLayer = new Kinetic.Layer({ clearBeforeDraw: true });
            this.background = new Background([], { fill: 'white' });
            this.stage.add(this.backgroundLayer);
            this.stage.add(this.contentLayer);
            this.insertHTMLDiv();
        }
        KineticContext.prototype.insertHTMLDiv = function () {
            KineticContext.__super__.insertHTMLDiv.apply(this, arguments);
            return $('.kineticjs-content').css('position', 'absolute');
        };
        KineticContext.prototype.setBackground = function (newBackground) {
            this.background = newBackground;
            this.backgroundLayer.removeChildren();
            return this.background.render(this, this.backgroundLayer);
        };
        KineticContext.prototype.drawBackground = function () {
            return this.backgroundLayer.draw();
        };
        KineticContext.prototype.clearBackground = function () {
            return this.backgroundLayer.removeChildren();
        };
        KineticContext.prototype.clearContent = function (draw) {
            if (draw == null) {
                draw = false;
            }
            this.clearHtml();
            this.backgroundLayer.draw();
            this.contentLayer.removeChildren();
            if (draw) {
                return this.draw();
            }
        };
        KineticContext.prototype.draw = function () {
            $('#container').focus();
            return this.contentLayer.draw();
        };
        KineticContext.prototype.width = function () {
            return this.stage.getWidth();
        };
        KineticContext.prototype.height = function () {
            return this.stage.getHeight();
        };
        KineticContext.prototype.offsetX = function () {
            return this.stage.getOffsetX();
        };
        KineticContext.prototype.offsetY = function () {
            return this.stage.getOffsetY();
        };
        KineticContext.prototype.showStimulus = function (stimulus) {
            return stimulus.render(this, this.contentLayer);
        };
        KineticContext.prototype.keydownStream = function () {
            return Bacon.fromEventTarget(window, 'keydown');
        };
        KineticContext.prototype.keypressStream = function () {
            return Bacon.fromEventTarget(window, 'keypress');
        };
        KineticContext.prototype.mousepressStream = function () {
            var MouseBus;
            MouseBus = function () {
                function MouseBus() {
                    var _this = this;
                    this.stream = new Bacon.Bus();
                    this.handler = function (x) {
                        return _this.stream.push(x);
                    };
                    this.stage.on('mousedown', this.handler);
                }
                MouseBus.prototype.stop = function () {
                    this.stage.off('mousedown', this.handler);
                    return this.stream.end();
                };
                return MouseBus;
            }();
            return new MouseBus();
        };
        return KineticContext;
    }(exports.ExperimentContext);
    exports.KineticContext = KineticContext;
    buildStimulus = function (spec, context) {
        var params, stimType;
        stimType = _.keys(spec)[0];
        params = _.values(spec)[0];
        console.log('stimType', stimType);
        console.log('params', params);
        return context.stimFactory.makeStimulus(stimType, params, context);
    };
    buildResponse = function (spec, context) {
        var params, responseType;
        responseType = _.keys(spec)[0];
        params = _.values(spec)[0];
        return context.stimFactory.makeResponse(responseType, params, context);
    };
    buildEvent = function (spec, context) {
        var response, responseSpec, stim, stimSpec;
        stimSpec = _.omit(spec, 'Next');
        responseSpec = _.pick(spec, 'Next');
        if (responseSpec == null || _.isEmpty(responseSpec)) {
            stim = buildStimulus(stimSpec, context);
            if (!stim instanceof Response) {
                throw new Error('buildEvent: Missing Response from event: ', spec);
            }
            return context.stimFactory.makeEvent(stim, stim, context);
        } else {
            stim = buildStimulus(stimSpec, context);
            response = buildResponse(responseSpec.Next, context);
            return context.stimFactory.makeEvent(stim, response, context);
        }
    };
    buildTrial = function (eventSpec, record, context, feedback, backgroundSpec) {
        var background, events, key, value;
        events = function () {
            var _results;
            _results = [];
            for (key in eventSpec) {
                value = eventSpec[key];
                _results.push(context.stimFactory.buildEvent(value));
            }
            return _results;
        }();
        if (backgroundSpec != null) {
            background = context.stimFactory.makeStimulus('Background', backgroundSpec);
            return new Trial(events, record, feedback, background);
        } else {
            return new Trial(events, record, feedback);
        }
    };
    makeEventSeq = function (spec, context) {
        var key, response, responseSpec, stim, stimSpec, value, _results;
        _results = [];
        for (key in spec) {
            value = spec[key];
            stimSpec = _.omit(value, 'Next');
            responseSpec = _.pick(value, 'Next');
            console.log('building stim', stimSpec);
            stim = buildStimulus(stimSpec, context);
            response = buildResponse(responseSpec.Next, context);
            _results.push(context.stimFactory.makeEvent(stim, response, context));
        }
        return _results;
    };
    buildPrelude = function (preludeSpec, context) {
        var events;
        events = makeEventSeq(preludeSpec, context);
        return new Prelude(events);
    };
    buildCoda = function (codaSpec, context) {
        var events;
        events = makeEventSeq(codaSpec, context);
        return new Coda(events);
    };
    __dummySpec = {
        Events: {
            1: {
                Nothing: '',
                Next: { Timeout: { duration: 0 } }
            }
        }
    };
    exports.Presenter = Presenter = function () {
        function Presenter(trialList, display, context) {
            this.trialList = trialList;
            this.display = display;
            this.context = context;
            this.trialBuilder = this.display.Trial;
            this.prelude = this.display.Prelude != null ? buildPrelude(this.display.Prelude.Events, this.context) : buildPrelude(__dummySpec.Events, this.context);
            this.coda = this.display.Coda != null ? buildCoda(this.display.Coda.Events, this.context) : (console.log('building dummy coda'), buildCoda(__dummySpec.Events, this.context));
        }
        Presenter.prototype.start = function () {
            var args, block, record, trialNum, trialSpec, trials, _this = this;
            this.blockList = new BlockSeq(function () {
                var _i, _len, _ref1, _results;
                _ref1 = this.trialList.blocks;
                _results = [];
                for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
                    block = _ref1[_i];
                    trials = function () {
                        var _j, _ref2, _results1;
                        _results1 = [];
                        for (trialNum = _j = 0, _ref2 = block.length; 0 <= _ref2 ? _j < _ref2 : _j > _ref2; trialNum = 0 <= _ref2 ? ++_j : --_j) {
                            record = _.clone(block[trialNum]);
                            args = {};
                            args.trial = record;
                            args.screen = this.context.screenInfo();
                            trialSpec = this.trialBuilder.apply(args);
                            _results1.push(buildTrial(trialSpec.Events, record, this.context, trialSpec.Feedback, trialSpec.Background));
                        }
                        return _results1;
                    }.call(this);
                    _results.push(new Block(trials, this.display.Block));
                }
                return _results;
            }.call(this));
            return this.prelude.start(this.context).then(function () {
                return _this.blockList.start(_this.context);
            }).then(function () {
                console.log('inside coda');
                return _this.coda.start(_this.context);
            });
        };
        return Presenter;
    }();
    exports.Experiment = Experiment = function () {
        function Experiment(designSpec, stimFactory) {
            this.designSpec = designSpec;
            this.stimFactory = stimFactory != null ? stimFactory : new MockStimFactory();
            this.design = new ExpDesign(this.designSpec);
            this.display = this.designSpec.Display;
            this.trialGenerator = this.display.Trial;
        }
        Experiment.prototype.buildStimulus = function (event, context) {
            var params, stimType;
            stimType = _.keys(event)[0];
            params = _.values(event)[0];
            return this.stimFactory.makeStimulus(stimType, params, context);
        };
        Experiment.prototype.buildEvent = function (event, context) {
            var params, responseType;
            responseType = _.keys(event)[0];
            params = _.values(event)[0];
            return this.stimFactory.makeResponse(responseType, params, context);
        };
        Experiment.prototype.buildTrial = function (eventSpec, record, context) {
            var events, key, response, responseSpec, stim, stimSpec, value;
            events = function () {
                var _results;
                _results = [];
                for (key in eventSpec) {
                    value = eventSpec[key];
                    stimSpec = _.omit(value, 'Next');
                    responseSpec = _.pick(value, 'Next');
                    stim = this.buildStimulus(stimSpec);
                    response = this.buildResponse(responseSpec.Next);
                    _results.push(this.stimFactory.makeEvent(stim, response));
                }
                return _results;
            }.call(this);
            return new Trial(events, record);
        };
        Experiment.prototype.start = function (context) {
            var i, record, trialList, trialSpec, trials;
            trials = this.design.fullDesign;
            console.log(trials.nrow());
            trialList = function () {
                var _i, _ref1, _results;
                _results = [];
                for (i = _i = 0, _ref1 = trials.nrow(); 0 <= _ref1 ? _i < _ref1 : _i > _ref1; i = 0 <= _ref1 ? ++_i : --_i) {
                    record = trials.record(i);
                    record.$trialNumber = i;
                    trialSpec = this.trialGenerator(record);
                    _results.push(this.buildTrial(trialSpec, record, context));
                }
                return _results;
            }.call(this);
            return context.start(trialList);
        };
        return Experiment;
    }();
    exports.letters = [
        'a',
        'b',
        'c',
        'd',
        'e',
        'd',
        'f',
        'g',
        'h',
        'i',
        'j',
        'k',
        'l',
        'm',
        'n',
        'o',
        'p',
        'q',
        'r',
        's',
        't',
        'u',
        'v',
        'w',
        'x',
        'y',
        'z'
    ];
    des = {
        Design: {
            Blocks: [
                [{
                        a: 1,
                        b: 2,
                        c: 3,
                        a: 2,
                        b: 3,
                        c: 4
                    }],
                [{
                        a: 5,
                        b: 7,
                        c: 6,
                        a: 5,
                        b: 7,
                        c: 6
                    }]
            ]
        }
    };
    console.log(des.Blocks);
    exports.buildStimulus = buildStimulus;
    exports.buildResponse = buildResponse;
    exports.buildEvent = buildEvent;
    exports.buildTrial = buildTrial;
    exports.buildPrelude = buildPrelude;
}.call(this));
});
require.define('77', function(module, exports, __dirname, __filename, undefined){
(function () {
    var DataTable, utils, _, __hasProp = {}.hasOwnProperty;
    _ = require('2', module);
    utils = require('76', module);
    DataTable = function () {
        function DataTable(vars) {
            var key, samelen, value, varlen;
            if (vars == null) {
                vars = {};
            }
            varlen = _.map(vars, function (x) {
                return x.length;
            });
            samelen = _.all(varlen, function (x) {
                return x === varlen[0];
            });
            if (!samelen) {
                throw 'arguments to DataTable must all have same length.';
            }
            for (key in vars) {
                value = vars[key];
                this[key] = value;
            }
        }
        DataTable.prototype.show = function () {
            var i, _i, _ref, _results;
            console.log('DataTable: rows: ' + this.nrow() + ' columns: ' + this.ncol());
            _results = [];
            for (i = _i = 0, _ref = this.nrow(); 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
                _results.push(console.log(this.record(i)));
            }
            return _results;
        };
        DataTable.fromRecords = function (records, union) {
            var allkeys, key, rec, vars, _i, _j, _k, _len, _len1, _len2;
            if (union == null) {
                union = true;
            }
            if (!_.isArray(records)) {
                throw new Error('DataTable.fromRecords: \'records\' arguemnt must be an array of records.');
            }
            allkeys = _.uniq(_.flatten(_.map(records, function (rec) {
                return _.keys(rec);
            })));
            vars = {};
            for (_i = 0, _len = allkeys.length; _i < _len; _i++) {
                key = allkeys[_i];
                vars[key] = [];
            }
            for (_j = 0, _len1 = records.length; _j < _len1; _j++) {
                rec = records[_j];
                for (_k = 0, _len2 = allkeys.length; _k < _len2; _k++) {
                    key = allkeys[_k];
                    if (rec[key] != null) {
                        vars[key].push(rec[key]);
                    } else {
                        vars[key].push(null);
                    }
                }
            }
            return new DataTable(vars);
        };
        DataTable.build = function (vars) {
            if (vars == null) {
                vars = {};
            }
            return Object.seal(new DataTable(vars));
        };
        DataTable.rbind = function (tab1, tab2, union) {
            var col1, col2, keys1, keys2, name, out, sharedKeys, _i, _len;
            if (union == null) {
                union = false;
            }
            keys1 = _.keys(tab1);
            keys2 = _.keys(tab2);
            sharedKeys = union ? _.union(keys1, keys2) : _.intersection(keys1, keys2);
            out = {};
            for (_i = 0, _len = sharedKeys.length; _i < _len; _i++) {
                name = sharedKeys[_i];
                col1 = tab1[name];
                col2 = tab2[name];
                if (!col1) {
                    col1 = utils.repLen([null], tab1.nrow());
                }
                if (!col2) {
                    col2 = utils.repLen([null], tab2.nrow());
                }
                out[name] = col1.concat(col2);
            }
            return new DataTable(out);
        };
        DataTable.cbind = function (tab1, tab2) {
            var diffkeys, key, out, _i, _len;
            if (tab1.nrow() !== tab2.nrow()) {
                throw 'cbind requires arguments to have same number of rows';
            }
            out = _.cloneDeep(tab1);
            diffkeys = _.difference(_.keys(tab2), _.keys(tab1));
            for (_i = 0, _len = diffkeys.length; _i < _len; _i++) {
                key = diffkeys[_i];
                out[key] = tab2[key];
            }
            return out;
        };
        DataTable.expand = function (vars, unique, nreps) {
            var d, i, key, name, nargs, nm, nx, orep, out, r1, r2, r3, repfac, value, _i, _j, _results;
            if (vars == null) {
                vars = {};
            }
            if (unique == null) {
                unique = true;
            }
            if (nreps == null) {
                nreps = 1;
            }
            if (unique) {
                out = {};
                for (name in vars) {
                    value = vars[name];
                    out[name] = _.unique(value);
                }
                vars = out;
            }
            nargs = _.size(vars);
            nm = _.keys(vars);
            repfac = 1;
            d = _.map(vars, function (x) {
                return x.length;
            });
            orep = _.reduce(d, function (x, acc) {
                return x * acc;
            });
            out = {};
            for (key in vars) {
                value = vars[key];
                nx = value.length;
                orep = orep / nx;
                r1 = utils.rep([repfac], nx);
                r2 = utils.rep(function () {
                    _results = [];
                    for (var _i = 0; 0 <= nx ? _i < nx : _i > nx; 0 <= nx ? _i++ : _i--) {
                        _results.push(_i);
                    }
                    return _results;
                }.apply(this), r1);
                r3 = utils.rep(r2, orep);
                out[key] = function () {
                    var _j, _len, _results1;
                    _results1 = [];
                    for (_j = 0, _len = r3.length; _j < _len; _j++) {
                        i = r3[_j];
                        _results1.push(value[i]);
                    }
                    return _results1;
                }();
                repfac = repfac * nx;
            }
            if (nreps > 1) {
                for (i = _j = 1; 1 <= nreps ? _j <= nreps : _j >= nreps; i = 1 <= nreps ? ++_j : --_j) {
                    out = _.merge(out, out);
                }
            }
            return new DataTable(out);
        };
        DataTable.prototype.dropColumn = function (colname) {
            var key, out, value;
            out = {};
            for (key in this) {
                if (!__hasProp.call(this, key))
                    continue;
                value = this[key];
                if (key !== colname) {
                    out[key] = _.clone(value);
                }
            }
            return new DataTable(out);
        };
        DataTable.prototype.subset = function (key, filter) {
            var el, i, keep, name, out, val, value;
            keep = function () {
                var _i, _len, _ref, _results;
                _ref = this[key];
                _results = [];
                for (_i = 0, _len = _ref.length; _i < _len; _i++) {
                    val = _ref[_i];
                    if (filter(val)) {
                        _results.push(true);
                    } else {
                        _results.push(false);
                    }
                }
                return _results;
            }.call(this);
            out = {};
            for (name in this) {
                if (!__hasProp.call(this, name))
                    continue;
                value = this[name];
                out[name] = function () {
                    var _i, _len, _results;
                    _results = [];
                    for (i = _i = 0, _len = value.length; _i < _len; i = ++_i) {
                        el = value[i];
                        if (keep[i] === true) {
                            _results.push(el);
                        }
                    }
                    return _results;
                }();
            }
            return new DataTable(out);
        };
        DataTable.prototype.whichRow = function (where) {
            var count, i, key, nkeys, out, rec, value, _i, _ref;
            out = [];
            nkeys = _.keys(where).length;
            for (i = _i = 0, _ref = this.nrow(); 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
                rec = this.record(i);
                count = utils.asArray(function () {
                    var _results;
                    _results = [];
                    for (key in where) {
                        value = where[key];
                        _results.push(rec[key] === value);
                    }
                    return _results;
                }());
                count = _.map(count, function (x) {
                    if (x) {
                        return 1;
                    } else {
                        return 0;
                    }
                });
                count = _.reduce(utils.asArray(count), function (sum, num) {
                    return sum + num;
                });
                if (count === nkeys) {
                    out.push(i);
                }
            }
            return out;
        };
        DataTable.prototype.select = function (where) {
            var count, i, key, nkeys, out, rec, value, _i, _ref;
            out = [];
            nkeys = _.keys(where).length;
            for (i = _i = 0, _ref = this.nrow(); 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
                rec = this.record(i);
                count = utils.asArray(function () {
                    var _results;
                    _results = [];
                    for (key in where) {
                        value = where[key];
                        _results.push(rec[key] === value);
                    }
                    return _results;
                }());
                count = _.map(count, function (x) {
                    if (x) {
                        return 1;
                    } else {
                        return 0;
                    }
                });
                count = _.reduce(utils.asArray(count), function (sum, num) {
                    return sum + num;
                });
                if (count === nkeys) {
                    out.push(rec);
                }
            }
            return out;
        };
        DataTable.prototype.nrow = function () {
            var lens, name, value;
            lens = function () {
                var _results;
                _results = [];
                for (name in this) {
                    if (!__hasProp.call(this, name))
                        continue;
                    value = this[name];
                    _results.push(value.length);
                }
                return _results;
            }.call(this);
            return _.max(lens);
        };
        DataTable.prototype.ncol = function () {
            return Object.keys(this).length;
        };
        DataTable.prototype.colnames = function () {
            return Object.keys(this);
        };
        DataTable.prototype.record = function (index) {
            var name, rec, value;
            rec = {};
            for (name in this) {
                if (!__hasProp.call(this, name))
                    continue;
                value = this[name];
                rec[name] = value[index];
            }
            return rec;
        };
        DataTable.prototype.replicate = function (nreps) {
            var name, out, value, _this = this;
            out = {};
            for (name in this) {
                if (!__hasProp.call(this, name))
                    continue;
                value = this[name];
                out[name] = _.flatten(_.times(nreps, function (n) {
                    return value;
                }));
            }
            return new DataTable(out);
        };
        DataTable.prototype.bindcol = function (name, column) {
            if (column.length !== this.nrow()) {
                throw 'new column must be same length as existing DataTable object: column.length is  ' + column.length + ' and this.length is  ' + this.nrow();
            }
            this[name] = column;
            return this;
        };
        DataTable.prototype.bindrow = function (rows) {
            var key, record, value, _i, _len;
            if (!_.isArray(rows)) {
                rows = [rows];
            }
            for (_i = 0, _len = rows.length; _i < _len; _i++) {
                record = rows[_i];
                console.log(record);
                for (key in record) {
                    if (!__hasProp.call(record, key))
                        continue;
                    value = record[key];
                    if (!_.has(this, key)) {
                        throw new Error('DataTable has no field named ' + key);
                    } else {
                        this[key].push(value);
                    }
                }
            }
            return this;
        };
        DataTable.prototype.shuffle = function () {
            var i, ind, nr, out, sind, _i, _j, _results;
            nr = this.nrow();
            ind = function () {
                _results = [];
                for (var _i = 0; 0 <= nr ? _i < nr : _i > nr; 0 <= nr ? _i++ : _i--) {
                    _results.push(_i);
                }
                return _results;
            }.apply(this);
            sind = _.shuffle(ind);
            out = [];
            for (i = _j = 0; 0 <= nr ? _j < nr : _j > nr; i = 0 <= nr ? ++_j : --_j) {
                out[i] = this.record(sind[i]);
            }
            return DataTable.fromRecords(out);
        };
        return DataTable;
    }();
    exports.DataTable = DataTable;
}.call(this));
});
require.define('76', function(module, exports, __dirname, __filename, undefined){
(function () {
    var getTimestamp, record, _, _ref, _ref1;
    _ = require('2', module);
    if (typeof window !== 'undefined' && window !== null ? (_ref = window.performance) != null ? _ref.now : void 0 : void 0) {
        getTimestamp = function () {
            return window.performance.now();
        };
    } else if (typeof window !== 'undefined' && window !== null ? (_ref1 = window.performance) != null ? _ref1.webkitNow : void 0 : void 0) {
        getTimestamp = function () {
            return window.performance.webkitNow();
        };
    } else {
        getTimestamp = function () {
            return new Date().getTime();
        };
    }
    exports.getTimestamp = getTimestamp;
    this.browserBackDisabled = false;
    exports.disableBrowserBack = function () {
        var rx;
        if (!this.browserBackDisabled) {
            rx = /INPUT|SELECT|TEXTAREA/i;
            this.browserBackDisabled = true;
            return $(document).bind('keydown keypress', function (e) {
                if (e.which === 8) {
                    if (!rx.test(e.target.tagName) || e.target.disabled || e.target.readOnly) {
                        return e.preventDefault();
                    }
                }
            });
        }
    };
    exports.module = function (name) {
        return global[name] = global[name] || {};
    };
    exports.asArray = function (value) {
        if (_.isArray(value)) {
            return value;
        } else if (_.isNumber(value) || _.isBoolean(value)) {
            return [value];
        } else {
            return _.toArray(value);
        }
    };
    exports.permute = function (input) {
        var main, permArr, usedChars;
        permArr = [];
        usedChars = [];
        exports.main = main = function (input) {
            var ch, i, _i, _ref2;
            for (i = _i = 0, _ref2 = input.length; 0 <= _ref2 ? _i < _ref2 : _i > _ref2; i = 0 <= _ref2 ? ++_i : --_i) {
                ch = input.splice(i, 1)[0];
                usedChars.push(ch);
                if (input.length === 0) {
                    permArr.push(usedChars.slice());
                }
                main(input);
                input.splice(i, 0, ch);
                usedChars.pop();
            }
            return permArr;
        };
        return main(input);
    };
    exports.rep = function (vec, times) {
        var el, i, j, out, _this = this;
        if (!(times instanceof Array)) {
            times = [times];
        }
        if (times.length !== 1 && vec.length !== times.length) {
            throw 'vec.length must equal times.length or times.length must be 1';
        }
        if (vec.length === times.length) {
            out = function () {
                var _i, _len, _results;
                _results = [];
                for (i = _i = 0, _len = vec.length; _i < _len; i = ++_i) {
                    el = vec[i];
                    _results.push(function () {
                        var _j, _ref2, _results1;
                        _results1 = [];
                        for (j = _j = 1, _ref2 = times[i]; 1 <= _ref2 ? _j <= _ref2 : _j >= _ref2; j = 1 <= _ref2 ? ++_j : --_j) {
                            _results1.push(el);
                        }
                        return _results1;
                    }());
                }
                return _results;
            }();
            return _.flatten(out);
        } else {
            out = _.times(times[0], function (n) {
                return vec;
            });
            return _.flatten(out);
        }
    };
    exports.repLen = function (vec, length) {
        var i, _i, _results;
        if (length < 1) {
            throw 'repLen: length must be greater than or equal to 1';
        }
        _results = [];
        for (i = _i = 0; 0 <= length ? _i < length : _i > length; i = 0 <= length ? ++_i : --_i) {
            _results.push(vec[i % vec.length]);
        }
        return _results;
    };
    exports.sample = function (elements, n, replace) {
        var i, _i, _results;
        if (replace == null) {
            replace = false;
        }
        if (n > elements.length && !replace) {
            throw 'cannot take sample larger than the number of elements when \'replace\' argument is false';
        }
        if (!replace) {
            return _.shuffle(elements).slice(0, n);
        } else {
            _results = [];
            for (i = _i = 0; 0 <= n ? _i < n : _i > n; i = 0 <= n ? ++_i : --_i) {
                _results.push(elements[Math.floor(Math.random() * elements.length)]);
            }
            return _results;
        }
    };
    exports.oneOf = function (elements) {
        return elements[Math.floor(Math.random() * elements.length)];
    };
    exports.doTimer = function (length, oncomplete) {
        var instance, start;
        start = getTimestamp();
        instance = function () {
            var diff, half;
            diff = getTimestamp() - start;
            if (diff >= length) {
                return oncomplete(diff);
            } else {
                half = Math.max((length - diff) / 2, 1);
                if (half < 20) {
                    half = 1;
                }
                return setTimeout(instance, half);
            }
        };
        return setTimeout(instance, 1);
    };
    exports.match = function (record, matcher) {
        var mkeys, rkeys;
        rkeys = _.keys(record);
        mkeys = _.keys(matcher);
        console.log('record keys', rkeys);
        return console.log('matcher keys', mkeys);
    };
    record = {};
    record.flanker = 'congruent';
    record.centerColor = 'red';
}.call(this));
});
require.define('82', function(module, exports, __dirname, __filename, undefined){
(function () {
    var KP;
    exports.Sound = require('84', module).Sound;
    exports.Confirm = require('85', module).Confirm;
    exports.First = require('86', module).First;
    exports.Group = require('87', module).Group;
    KP = require('88', module);
    exports.KeyPress = KP.KeyPress;
    exports.SpaceKey = KP.SpaceKey;
    exports.AnyKey = KP.AnyKey;
    exports.MousePress = require('89', module).MousePress;
    exports.Prompt = require('90', module).Prompt;
    exports.Sequence = require('91', module).Sequence;
    exports.Timeout = require('92', module).Timeout;
    exports.Click = require('93', module).Click;
    exports.Nothing = require('124', module).Nothing;
}.call(this));
});
require.define('93', function(module, exports, __dirname, __filename, undefined){
(function () {
    var Click, Q, Response, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    Q = require('9', module);
    Response = require('73', module).Response;
    Click = function (_super) {
        __extends(Click, _super);
        function Click(refid) {
            this.refid = refid;
            Click.__super__.constructor.call(this);
        }
        Click.prototype.activate = function (context) {
            var deferred, element, _this = this;
            element = context.stage.get('#' + this.refid);
            if (!element) {
                throw new Error('cannot find element with id' + this.refid);
            }
            deferred = Q.defer();
            element.on('click', function (ev) {
                return deferred.resolve(ev);
            });
            return deferred.promise;
        };
        return Click;
    }(Response);
    exports.Click = Click;
}.call(this));
});
require.define('92', function(module, exports, __dirname, __filename, undefined){
(function () {
    var Q, Response, ResponseData, Timeout, utils, _ref, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    utils = require('76', module);
    Q = require('9', module);
    Response = require('73', module).Response;
    ResponseData = require('73', module).ResponseData;
    Timeout = function (_super) {
        __extends(Timeout, _super);
        function Timeout() {
            _ref = Timeout.__super__.constructor.apply(this, arguments);
            return _ref;
        }
        Timeout.prototype.defaults = { duration: 1000 };
        Timeout.prototype.activate = function (context) {
            var deferred, _this = this;
            deferred = Q.defer();
            utils.doTimer(this.spec.duration, function (diff) {
                var resp;
                resp = {
                    name: 'Timeout',
                    id: _this.id,
                    timeElapsed: diff,
                    timeRequested: _this.spec.duration
                };
                return deferred.resolve(new ResponseData(resp));
            });
            return deferred.promise;
        };
        return Timeout;
    }(Response);
    exports.Timeout = Timeout;
}.call(this));
});
require.define('91', function(module, exports, __dirname, __filename, undefined){
(function () {
    var Q, Sequence, Stimulus, Timeout, utils, _, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    Stimulus = require('73', module).Stimulus;
    Timeout = require('92', module).Timeout;
    Q = require('9', module);
    utils = require('76', module);
    _ = require('2', module);
    Sequence = function (_super) {
        __extends(Sequence, _super);
        function Sequence(stims, soa, clear, times) {
            var i;
            this.stims = stims;
            this.soa = soa;
            this.clear = clear != null ? clear : true;
            this.times = times != null ? times : 1;
            Sequence.__super__.constructor.call(this, {});
            if (this.soa.length !== this.stims.length) {
                this.soa = utils.repLen(this.soa, this.stims.length);
            }
            this.onsets = function () {
                var _i, _ref, _results;
                _results = [];
                for (i = _i = 0, _ref = this.soa.length; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
                    _results.push(_.reduce(this.soa.slice(0, +i + 1 || 9000000000), function (x, acc) {
                        return x + acc;
                    }));
                }
                return _results;
            }.call(this);
        }
        Sequence.prototype.genseq = function (context, layer) {
            var deferred, _i, _ref, _results, _this = this;
            deferred = Q.defer();
            _.forEach(function () {
                _results = [];
                for (var _i = 0, _ref = this.stims.length; 0 <= _ref ? _i < _ref : _i > _ref; 0 <= _ref ? _i++ : _i--) {
                    _results.push(_i);
                }
                return _results;
            }.apply(this), function (i) {
                var ev, stim;
                ev = new Timeout({ duration: _this.onsets[i] });
                stim = _this.stims[i];
                return ev.activate(context).then(function () {
                    if (!_this.stopped) {
                        if (_this.clear) {
                            context.clearContent();
                        }
                        stim.render(context, layer);
                        context.draw();
                    }
                    if (i === _this.stims.length - 1) {
                        return deferred.resolve(1);
                    }
                });
            });
            return deferred.promise;
        };
        Sequence.prototype.render = function (context, layer) {
            var i, result, _i, _ref, _this = this;
            result = Q.resolve(0);
            for (i = _i = 0, _ref = this.times; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
                result = result.then(function () {
                    return _this.genseq(context, layer);
                });
            }
            return result.then(function () {
                return context.clearContent();
            });
        };
        return Sequence;
    }(Stimulus);
    exports.Sequence = Sequence;
}.call(this));
});
require.define('90', function(module, exports, __dirname, __filename, undefined){
(function () {
    var Prompt, Q, Response, utils, _ref, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    utils = require('76', module);
    Q = require('9', module);
    Response = require('73', module).Response;
    Prompt = function (_super) {
        __extends(Prompt, _super);
        function Prompt() {
            _ref = Prompt.__super__.constructor.apply(this, arguments);
            return _ref;
        }
        Prompt.prototype.defaults = {
            title: 'Prompt',
            delay: 0,
            defaultValue: '',
            theme: 'vex-theme-wireframe'
        };
        Prompt.prototype.activate = function (context) {
            var deferred, promise, _this = this;
            deferred = Q.defer();
            promise = Q.delay(this.spec.delay);
            promise.then(function (f) {
                return vex.dialog.prompt({
                    message: _this.spec.title,
                    placeholder: _this.spec.defaultValue,
                    className: 'vex-theme-wireframe',
                    callback: function (value) {
                        return deferred.resolve(value);
                    }
                });
            });
            return deferred.promise;
        };
        return Prompt;
    }(Response);
    exports.Prompt = Prompt;
}.call(this));
});
require.define('89', function(module, exports, __dirname, __filename, undefined){
(function () {
    var MousePress, Q, Response, ResponseData, utils, _ref, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    Q = require('9', module);
    Response = require('73', module).Response;
    ResponseData = require('73', module).ResponseData;
    utils = require('76', module);
    MousePress = function (_super) {
        __extends(MousePress, _super);
        function MousePress() {
            _ref = MousePress.__super__.constructor.apply(this, arguments);
            return _ref;
        }
        MousePress.prototype.activate = function (context) {
            var deferred, mouse, myname, _this = this;
            this.startTime = utils.getTimestamp();
            myname = this.name;
            deferred = Q.defer();
            mouse = context.mousepressStream();
            mouse.stream.take(1).onValue(function (event) {
                var resp, timestamp;
                timestamp = utils.getTimestamp();
                mouse.stop();
                resp = {
                    name: myname,
                    id: _this.id,
                    KeyTime: timestamp,
                    RT: timestamp - _this.startTime,
                    Accuracy: Acc
                };
                return deferred.resolve(new ResponseData(resp));
            });
            return deferred.promise;
        };
        return MousePress;
    }(Response);
    exports.MousePress = MousePress;
}.call(this));
});
require.define('88', function(module, exports, __dirname, __filename, undefined){
(function () {
    var AnyKey, KeyPress, KeyResponse, Q, Response, ResponseData, SpaceKey, i, keyTable, utils, _, _i, _j, _ref, _ref1, _ref2, _ref3, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    Q = require('9', module);
    Response = require('73', module).Response;
    ResponseData = require('73', module).ResponseData;
    utils = require('76', module);
    _ = require('2', module);
    keyTable = {
        8: 'backspace',
        9: 'tab',
        13: 'enter',
        16: 'shift',
        17: 'ctrl',
        18: 'alt',
        20: 'capslock',
        27: 'esc',
        32: 'space',
        33: 'pageup',
        34: 'pagedown',
        35: 'end',
        36: 'home',
        37: 'left',
        38: 'up',
        39: 'right',
        40: 'down',
        45: 'ins',
        46: 'del',
        91: 'meta',
        93: 'meta',
        224: 'meta',
        106: '*',
        107: '+',
        109: '-',
        110: '.',
        111: '/',
        186: ';',
        187: '=',
        188: ',',
        189: '-',
        190: '.',
        191: '/',
        192: '`',
        219: '[',
        220: '\\',
        221: ']'
    };
    for (i = _i = 1; _i < 20; i = ++_i) {
        keyTable[111 + i] = 'f' + i;
    }
    for (i = _j = 1; _j <= 9; i = ++_j) {
        keyTable[i + 96];
    }
    KeyResponse = function (_super) {
        __extends(KeyResponse, _super);
        function KeyResponse() {
            _ref = KeyResponse.__super__.constructor.apply(this, arguments);
            return _ref;
        }
        KeyResponse.prototype.defaults = {
            keys: [
                '1',
                '2'
            ],
            correct: ['1'],
            timeout: null
        };
        KeyResponse.prototype.createResponseData = function (timeStamp, startTime, Acc, char) {
            var resp;
            resp = {
                name: this.name,
                id: this.id,
                KeyTime: timeStamp,
                RT: timeStamp - startTime,
                Accuracy: Acc,
                KeyChar: char
            };
            return resp;
        };
        KeyResponse.prototype.resolveOnTimeout = function (deferred, timeout) {
            var _this = this;
            return utils.doTimer(timeout, function (diff) {
                var Acc, resp, timeStamp;
                if (!deferred.isResolved) {
                    timeStamp = utils.getTimestamp();
                    Acc = false;
                    resp = _this.createResponseData(timeStamp, _this.startTime, Acc, '');
                    return deferred.resolve(new ResponseData(resp));
                }
            });
        };
        return KeyResponse;
    }(Response);
    KeyPress = function (_super) {
        __extends(KeyPress, _super);
        function KeyPress() {
            _ref1 = KeyPress.__super__.constructor.apply(this, arguments);
            return _ref1;
        }
        KeyPress.prototype.activate = function (context) {
            var deferred, keyStream, _this = this;
            this.startTime = utils.getTimestamp();
            deferred = Q.defer();
            keyStream = context.keypressStream();
            if (this.spec.timeout != null) {
                resolveOnTimeout(deferred, this.spec.timeout);
            }
            keyStream.filter(function (event) {
                var char;
                char = String.fromCharCode(event.keyCode);
                return _.contains(_this.spec.keys, char);
            }).take(1).onValue(function (filtered) {
                var Acc, resp, timeStamp;
                timeStamp = utils.getTimestamp();
                Acc = _.contains(_this.spec.correct, String.fromCharCode(filtered.keyCode));
                resp = _this.createResponseData(timeStamp, _this.startTime, Acc, String.fromCharCode(filtered.keyCode));
                return deferred.resolve(new ResponseData(resp));
            });
            return deferred.promise;
        };
        return KeyPress;
    }(KeyResponse);
    exports.KeyPress = KeyPress;
    SpaceKey = function (_super) {
        __extends(SpaceKey, _super);
        function SpaceKey() {
            _ref2 = SpaceKey.__super__.constructor.apply(this, arguments);
            return _ref2;
        }
        SpaceKey.prototype.activate = function (context) {
            var deferred, keyStream, _this = this;
            this.startTime = utils.getTimestamp();
            deferred = Q.defer();
            keyStream = context.keypressStream();
            keyStream.filter(function (event) {
                return event.keyCode === 32;
            }).take(1).onValue(function (event) {
                var resp, timeStamp;
                timeStamp = utils.getTimestamp();
                resp = {
                    name: 'SpaceKey',
                    id: _this.id,
                    KeyTime: timeStamp,
                    RT: timeStamp - _this.startTime,
                    KeyChar: 'space'
                };
                return deferred.resolve(new ResponseData(resp));
            });
            return deferred.promise;
        };
        return SpaceKey;
    }(Response);
    AnyKey = function (_super) {
        __extends(AnyKey, _super);
        function AnyKey() {
            _ref3 = AnyKey.__super__.constructor.apply(this, arguments);
            return _ref3;
        }
        AnyKey.prototype.activate = function (context) {
            var deferred, keyStream, _this = this;
            this.startTime = utils.getTimestamp();
            deferred = Q.defer();
            keyStream = context.keypressStream();
            keyStream.take(1).onValue(function (event) {
                var resp, timeStamp;
                timeStamp = utils.getTimestamp();
                resp = {
                    name: 'AnyKey',
                    id: _this.id,
                    KeyTime: timeStamp,
                    RT: timeStamp - _this.startTime,
                    KeyChar: String.fromCharCode(event.keyCode)
                };
                return deferred.resolve(new ResponseData(resp));
            });
            return deferred.promise;
        };
        return AnyKey;
    }(Response);
    exports.SpaceKey = SpaceKey;
    exports.AnyKey = AnyKey;
}.call(this));
});
require.define('87', function(module, exports, __dirname, __filename, undefined){
(function () {
    var Group, Stimulus, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    Stimulus = require('73', module).Stimulus;
    Group = function (_super) {
        __extends(Group, _super);
        function Group(stims, layout) {
            var stim, _i, _len, _ref;
            this.stims = stims;
            Group.__super__.constructor.call(this, {});
            if (layout) {
                this.layout = layout;
                _ref = this.stims;
                for (_i = 0, _len = _ref.length; _i < _len; _i++) {
                    stim = _ref[_i];
                    stim.layout = layout;
                }
            }
        }
        Group.prototype.render = function (context, layer) {
            var stim, _i, _len, _ref, _results;
            _ref = this.stims;
            _results = [];
            for (_i = 0, _len = _ref.length; _i < _len; _i++) {
                stim = _ref[_i];
                _results.push(stim.render(context, layer));
            }
            return _results;
        };
        return Group;
    }(Stimulus);
    exports.Group = Group;
}.call(this));
});
require.define('86', function(module, exports, __dirname, __filename, undefined){
(function () {
    var First, Q, Response, _, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    _ = require('2', module);
    Q = require('9', module);
    Response = require('73', module).Response;
    First = function (_super) {
        __extends(First, _super);
        function First(responses) {
            this.responses = responses;
            First.__super__.constructor.call(this, {});
        }
        First.prototype.activate = function (context) {
            var deferred, _done, _this = this;
            console.log('activating first');
            _done = false;
            deferred = Q.defer();
            _.forEach(this.responses, function (resp) {
                return resp.activate(context).then(function (obj) {
                    if (!_done) {
                        console.log('resolving response', obj);
                        deferred.resolve(obj);
                        return _done = true;
                    } else {
                        return console.log('not resolving, already done');
                    }
                });
            });
            return deferred.promise;
        };
        return First;
    }(Response);
    exports.First = First;
}.call(this));
});
require.define('85', function(module, exports, __dirname, __filename, undefined){
(function () {
    var Confirm, Q, Response, _ref, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    Q = require('9', module);
    Response = require('73', module).Response;
    Confirm = function (_super) {
        __extends(Confirm, _super);
        function Confirm() {
            _ref = Confirm.__super__.constructor.apply(this, arguments);
            return _ref;
        }
        Confirm.prototype.defaults = {
            message: '',
            delay: 0,
            defaultValue: '',
            theme: 'vex-theme-wireframe'
        };
        Confirm.prototype.activate = function (context) {
            var deferred, promise, _this = this;
            console.log('activating confirm dialog');
            deferred = Q.defer();
            promise = Q.delay(this.spec.delay);
            promise.then(function (f) {
                console.log('rendering confirm dialog');
                return vex.dialog.confirm({
                    message: _this.spec.message,
                    className: _this.spec.theme,
                    callback: function (value) {
                        return deferred.resolve(value);
                    }
                });
            });
            return deferred.promise;
        };
        return Confirm;
    }(Response);
    exports.Confirm = Confirm;
}.call(this));
});
require.define('84', function(module, exports, __dirname, __filename, undefined){
(function () {
    var Sound, Stimulus, buzz, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    Stimulus = require('73', module).Stimulus;
    buzz = require('11', module);
    Sound = function (_super) {
        __extends(Sound, _super);
        Sound.prototype.defaults = { url: 'http://www.centraloutdoors.com/mp3/sheep/sheep.wav' };
        function Sound(spec) {
            if (spec == null) {
                spec = {};
            }
            Sound.__super__.constructor.call(this, spec);
            this.sound = new buzz.sound(this.spec.url);
        }
        Sound.prototype.render = function (context, layer) {
            return this.sound.play();
        };
        return Sound;
    }(Stimulus);
    exports.Sound = Sound;
}.call(this));
});
require.define('81', function(module, exports, __dirname, __filename, undefined){
(function () {
    var HMixResp, HMixStim, Html, HtmlMixin, HtmlResponse, HtmlStimulus, Mixen, Response, Stimulus, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    Stimulus = require('73', module).Stimulus;
    Response = require('73', module).Response;
    Mixen = require('31', module);
    HtmlMixin = function () {
        HtmlMixin.prototype.tag = 'div';
        HtmlMixin.prototype.div = function () {
            return $(document.createElement('div'));
        };
        function HtmlMixin() {
            this.el = document.createElement(this.tag);
            this.el = $(this.el);
        }
        HtmlMixin.prototype.positionElement = function (el, x, y) {
            console.log('placing element at', x, y);
            return el.css({
                position: 'absolute',
                left: x,
                top: y
            });
        };
        HtmlMixin.prototype.centerElement = function (el) {
            return el.css({
                margin: '0 auto',
                position: 'absolute',
                left: '50%',
                top: '50%'
            });
        };
        return HtmlMixin;
    }();
    HMixStim = Mixen(HtmlMixin, Stimulus);
    HMixResp = Mixen(HtmlMixin, Response);
    HtmlStimulus = function (_super) {
        __extends(HtmlStimulus, _super);
        function HtmlStimulus() {
            HtmlStimulus.__super__.constructor.apply(this, arguments);
        }
        HtmlStimulus.prototype.render = function (context, layer) {
            var coords;
            this.el.hide();
            context.appendHtml(this.el);
            coords = this.computeCoordinates(context, this.spec.position, this.el.width(), this.el.height());
            console.log('coords', coords);
            this.positionElement(this.el, coords[0], coords[1]);
            this.el.show();
            console.log('element width is', this.el.width());
            console.log('element height is', this.el.height());
            console.log('spec.position', this.spec.position);
            console.log('spec.x', this.spec.x);
            console.log('spec.y', this.spec.y);
            return HtmlStimulus.__super__.render.call(this, context, layer);
        };
        return HtmlStimulus;
    }(HMixStim);
    HtmlResponse = function (_super) {
        __extends(HtmlResponse, _super);
        function HtmlResponse() {
            HtmlResponse.__super__.constructor.apply(this, arguments);
        }
        return HtmlResponse;
    }(HMixResp);
    exports.HtmlStimulus = HtmlStimulus;
    exports.HtmlResponse = HtmlResponse;
    Html = {};
    Html.HtmlButton = require('94', module).HtmlButton;
    Html.HtmlLink = require('95', module).HtmlLink;
    Html.HtmlLabel = require('96', module).HtmlLabel;
    Html.HtmlIcon = require('97', module).HtmlIcon;
    Html.Instructions = require('98', module).Instructions;
    Html.Markdown = require('99', module).Markdown;
    Html.Message = require('100', module).Message;
    Html.Page = require('101', module).Page;
    Html.HtmlResponse = HtmlResponse;
    Html.HtmlStimulus = HtmlStimulus;
    exports.Html = Html;
}.call(this));
});
require.define('101', function(module, exports, __dirname, __filename, undefined){
(function () {
    var HtmlStimulus, Page, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    HtmlStimulus = require('81', module).HtmlStimulus;
    Page = function (_super) {
        __extends(Page, _super);
        Page.prototype.defaults = { html: '<p>HTML Page</p>' };
        function Page(spec) {
            if (spec == null) {
                spec = {};
            }
            Page.__super__.constructor.call(this, spec);
            this.el.append(this.spec.html);
        }
        Page.prototype.render = function (context, layer) {
            return context.appendHtml(this.el);
        };
        return Page;
    }(HtmlStimulus);
    exports.Page = Page;
}.call(this));
});
require.define('100', function(module, exports, __dirname, __filename, undefined){
(function () {
    var Message, html, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    html = require('81', module);
    Message = function (_super) {
        __extends(Message, _super);
        Message.prototype.defaults = {
            title: 'Message!',
            content: 'your content here',
            color: '',
            size: 'large'
        };
        function Message(spec) {
            if (spec == null) {
                spec = {};
            }
            Message.__super__.constructor.call(this, spec);
            this.el.addClass(this.messageClass());
            this.title = $('<div>' + this.spec.title + '</div>').addClass('header');
            this.content = $('<p>' + this.spec.content + '</p>');
            this.el.append(this.title);
            this.el.append(this.content);
        }
        Message.prototype.messageClass = function () {
            return 'ui message ' + this.spec.color + ' ' + this.spec.size;
        };
        return Message;
    }(html.HtmlStimulus);
    exports.Message = Message;
}.call(this));
});
require.define('99', function(module, exports, __dirname, __filename, undefined){
(function () {
    var Markdown, html, marked, _, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    html = require('81', module);
    marked = require('40', module);
    _ = require('2', module);
    Markdown = function (_super) {
        __extends(Markdown, _super);
        function Markdown(spec) {
            var _this = this;
            if (spec == null) {
                spec = {};
            }
            Markdown.__super__.constructor.call(this, spec);
            if (_.isString(spec)) {
                this.spec = {};
                this.spec.content = spec;
            }
            if (this.spec.url != null) {
                $.ajax({
                    url: this.spec.url,
                    success: function (result) {
                        _this.spec.content = result;
                        return _this.el.append(marked(_this.spec.content));
                    },
                    error: function (result) {
                        return console.log('ajax failure', result);
                    }
                });
            } else {
                this.el.append($(marked(this.spec.content)));
            }
            this.el.addClass('markdown');
        }
        return Markdown;
    }(html.HtmlStimulus);
    exports.Markdown = Markdown;
}.call(this));
});
require.define('98', function(module, exports, __dirname, __filename, undefined){
(function () {
    var Instructions, Markdown, Q, html, _, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    html = require('81', module);
    Q = require('9', module);
    Markdown = require('99', module).Markdown;
    _ = require('2', module);
    Instructions = function (_super) {
        __extends(Instructions, _super);
        function Instructions(spec) {
            var content, div, i, itm, key, md, type, value;
            if (spec == null) {
                spec = {};
            }
            Instructions.__super__.constructor.call(this, spec);
            this.pages = function () {
                var _ref, _results;
                _ref = this.spec.pages;
                _results = [];
                for (key in _ref) {
                    value = _ref[key];
                    type = _.keys(value)[0];
                    content = _.values(value)[0];
                    md = new Markdown(content);
                    div = this.div();
                    div.addClass('ui stacked segment').append(md.el);
                    _results.push(div);
                }
                return _results;
            }.call(this);
            this.menu = this.div();
            this.menu.addClass('ui borderless pagination menu');
            this.back = $('<a class="item">\n  <i class="icon left arrow"></i>  Previous\n </a>').attr('id', 'instructions_back');
            this.next = $('<a class="item">\nNext <i class="icon right arrow"></i>\n</a>').attr('id', 'instructions_next');
            this.menu.append(this.back).append('\n');
            this.items = function () {
                var _i, _ref, _results;
                _results = [];
                for (i = _i = 1, _ref = this.pages.length; 1 <= _ref ? _i <= _ref : _i >= _ref; i = 1 <= _ref ? ++_i : --_i) {
                    itm = $('<a class="item">' + i + ' of ' + this.pages.length + '</a>');
                    this.menu.append(itm).append('\n');
                    _results.push(itm);
                }
                return _results;
            }.call(this);
            this.items[0].addClass('active');
            this.menu.append(this.next).css('position', 'absolute').css('right', '15px');
            this.currentPage = 0;
            this.el.append(this.pages[this.currentPage]);
            this.el.append(this.menu);
        }
        Instructions.prototype.activate = function (context) {
            this.deferred = Q.defer();
            return this.deferred.promise;
        };
        Instructions.prototype.updateEl = function (currentPage) {
            this.el.empty();
            this.el.append(this.pages[this.currentPage]);
            return this.el.append(this.menu);
        };
        Instructions.prototype.render = function (context, layer) {
            var _this = this;
            this.next.click(function (e) {
                if (_this.currentPage < _this.pages.length - 1) {
                    _this.items[_this.currentPage].removeClass('active');
                    _this.currentPage += 1;
                    _this.items[_this.currentPage].addClass('active');
                    _this.updateEl(_this.currentPage);
                    return _this.render(context);
                } else {
                    return _this.deferred.resolve(0);
                }
            });
            this.back.click(function (e) {
                if (_this.currentPage > 0) {
                    _this.items[_this.currentPage].removeClass('active');
                    _this.currentPage -= 1;
                    _this.items[_this.currentPage].addClass('active');
                    _this.updateEl(_this.currentPage);
                    return _this.render(context);
                }
            });
            if (this.currentPage > 0) {
                this.back.removeClass('disabled');
            }
            $(this.pages[this.currentPage]).css({ 'min-height': context.height() - 50 });
            return context.appendHtml(this.el);
        };
        return Instructions;
    }(html.HtmlResponse);
    exports.Instructions = Instructions;
}.call(this));
});
require.define('97', function(module, exports, __dirname, __filename, undefined){
(function () {
    var HtmlIcon, html, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    html = require('81', module);
    HtmlIcon = function (_super) {
        __extends(HtmlIcon, _super);
        HtmlIcon.prototype.defaults = {
            glyph: 'plane',
            size: 'massive'
        };
        function HtmlIcon(spec) {
            if (spec == null) {
                spec = {};
            }
            HtmlIcon.__super__.constructor.call(this, spec);
            this.html = $('<i></i>');
            this.html.addClass(this.spec.glyph + ' ' + this.spec.size + ' icon');
            this.el.append(this.html);
        }
        return HtmlIcon;
    }(html.HtmlStimulus);
    exports.HtmlIcon = HtmlIcon;
}.call(this));
});
require.define('96', function(module, exports, __dirname, __filename, undefined){
(function () {
    var HtmlLabel, html, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    html = require('81', module);
    HtmlLabel = function (_super) {
        __extends(HtmlLabel, _super);
        HtmlLabel.prototype.defaults = {
            glyph: null,
            size: 'large',
            text: 'label',
            color: 'orange'
        };
        function HtmlLabel(spec) {
            if (spec == null) {
                spec = {};
            }
            HtmlLabel.__super__.constructor.call(this, spec);
            this.el.addClass('ui ' + this.spec.color + ' ' + this.spec.size + ' label');
            this.el.append(this.spec.text + ' ');
            if (this.spec.glyph != null) {
                this.el.append('<i class="' + this.spec.glyph + ' ' + this.spec.size + '  icon"></i>');
            }
        }
        return HtmlLabel;
    }(html.HtmlStimulus);
    exports.HtmlLabel = HtmlLabel;
}.call(this));
});
require.define('95', function(module, exports, __dirname, __filename, undefined){
(function () {
    var HtmlLink, html, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    html = require('81', module);
    HtmlLink = function (_super) {
        __extends(HtmlLink, _super);
        HtmlLink.prototype.defaults = { label: 'link' };
        function HtmlLink(spec) {
            if (spec == null) {
                spec = {};
            }
            HtmlLink.__super__.constructor.call(this, spec);
            this.html = $('<a href=\'#\'>' + this.spec.label + '</a>');
            this.el.append(this.html);
            this.positionElement(this.el);
        }
        return HtmlLink;
    }(html.HtmlStimulus);
    exports.HtmlLink = HtmlLink;
}.call(this));
});
require.define('94', function(module, exports, __dirname, __filename, undefined){
(function () {
    var HtmlButton, html, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    html = require('81', module);
    HtmlButton = function (_super) {
        __extends(HtmlButton, _super);
        HtmlButton.prototype.defaults = {
            label: 'Next',
            'class': ''
        };
        function HtmlButton(spec) {
            if (spec == null) {
                spec = {};
            }
            HtmlButton.__super__.constructor.call(this, spec);
            this.el.addClass('ui button');
            this.el.addClass(this.spec['class']);
            this.el.append(this.spec.label);
            this.positionElement(this.el);
        }
        return HtmlButton;
    }(html.HtmlStimulus);
    exports.HtmlButton = HtmlButton;
}.call(this));
});
require.define('80', function(module, exports, __dirname, __filename, undefined){
(function () {
    var Canvas;
    Canvas = {};
    Canvas.Arrow = require('102', module).Arrow;
    Canvas.Background = require('79', module).Background;
    Canvas.Blank = require('103', module).Blank;
    Canvas.Circle = require('104', module).Circle;
    Canvas.Clear = require('105', module).Clear;
    Canvas.FixationCross = require('106', module).FixationCross;
    Canvas.CanvasBorder = require('107', module).CanvasBorder;
    Canvas.GridLines = require('108', module).GridLines;
    Canvas.Picture = require('109', module).Picture;
    Canvas.Rectangle = require('110', module).Rectangle;
    Canvas.StartButton = require('111', module).StartButton;
    Canvas.Text = require('112', module).Text;
    Canvas.TextInput = require('113', module).TextInput;
    exports.Canvas = Canvas;
}.call(this));
});
require.define('113', function(module, exports, __dirname, __filename, undefined){
(function () {
    var Kinetic, Stimulus, TextInput, utils, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    Stimulus = require('73', module).Stimulus;
    utils = require('76', module);
    Kinetic = require('27', module).Kinetic;
    TextInput = function (_super) {
        __extends(TextInput, _super);
        TextInput.prototype.defaults = {
            x: 100,
            y: 100,
            width: 200,
            height: 40,
            defaultValue: '',
            fill: '#FAF5E6',
            stroke: '#0099FF',
            strokeWidth: 1,
            content: ''
        };
        function TextInput(spec) {
            if (spec == null) {
                spec = {};
            }
            TextInput.__super__.constructor.call(this, spec);
            utils.disableBrowserBack();
        }
        TextInput.prototype.getChar = function (e) {
            if (e.keyCode !== 16) {
                if (e.keyCode >= 65 && e.keyCode <= 90) {
                    if (e.shiftKey) {
                        return String.fromCharCode(e.keyCode);
                    } else {
                        return String.fromCharCode(e.keyCode + 32);
                    }
                } else if (e.keyCode >= 48 && e.keyCode <= 57) {
                    return String.fromCharCode(e.keyCode);
                } else {
                    switch (e.keyCode) {
                    case 186:
                        return ';';
                    case 187:
                        return '=';
                    case 188:
                        return ',';
                    case 189:
                        return '-';
                    default:
                        return '';
                    }
                }
            } else {
                return String.fromCharCode(e.keyCode);
            }
        };
        TextInput.prototype.animateCursor = function (layer, cursor) {
            var flashTime, _this = this;
            flashTime = 0;
            return new Kinetic.Animation(function (frame) {
                if (frame.time > flashTime + 500) {
                    flashTime = frame.time;
                    if (cursor.getOpacity() === 1) {
                        cursor.setOpacity(0);
                    } else {
                        cursor.setOpacity(1);
                    }
                    return layer.draw();
                }
            }, layer);
        };
        TextInput.prototype.render = function (context, layer) {
            var cursor, cursorBlink, enterPressed, fsize, group, keyStream, text, textContent, textRect, _this = this;
            textRect = new Kinetic.Rect({
                x: this.spec.x,
                y: this.spec.y,
                width: this.spec.width,
                height: this.spec.height,
                fill: this.spec.fill,
                cornerRadius: 4,
                lineJoin: 'round',
                stroke: this.spec.stroke,
                strokeWidth: this.spec.strokeWidth
            });
            textContent = this.spec.content;
            fsize = 0.85 * this.spec.height;
            text = new Kinetic.Text({
                text: this.spec.content,
                x: this.spec.x + 2,
                y: this.spec.y - 5,
                height: this.spec.height,
                fontSize: fsize,
                fill: 'black',
                padding: 10,
                align: 'left'
            });
            cursor = new Kinetic.Rect({
                x: text.getX() + text.getWidth() - 7,
                y: this.spec.y + 5,
                width: 1.5,
                height: text.getHeight() - 10,
                fill: 'black'
            });
            enterPressed = false;
            keyStream = context.keydownStream();
            keyStream.takeWhile(function (x) {
                return enterPressed === false && !_this.stopped;
            }).onValue(function (event) {
                var char;
                if (event.keyCode === 13) {
                    return enterPressed = true;
                } else if (event.keyCode === 8) {
                    textContent = textContent.slice(0, -1);
                    text.setText(textContent);
                    cursor.setX(text.getX() + text.getWidth() - 7);
                    return layer.draw();
                } else if (text.getWidth() > textRect.getWidth()) {
                } else {
                    char = _this.getChar(event);
                    textContent += char;
                    text.setText(textContent);
                    cursor.setX(text.getX() + text.getWidth() - 7);
                    return layer.draw();
                }
            });
            cursorBlink = this.animateCursor(layer, cursor);
            cursorBlink.start();
            group = new Kinetic.Group({});
            group.add(textRect);
            group.add(cursor);
            group.add(text);
            return layer.add(group);
        };
        return TextInput;
    }(Stimulus);
    exports.TextInput = TextInput;
}.call(this));
});
require.define('112', function(module, exports, __dirname, __filename, undefined){
(function () {
    var Kinetic, Stimulus, Text, layout, _, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    Stimulus = require('73', module).Stimulus;
    layout = require('74', module);
    Kinetic = require('27', module).Kinetic;
    _ = require('2', module);
    Text = function (_super) {
        __extends(Text, _super);
        Text.prototype.defaults = {
            content: 'Text',
            x: 5,
            y: 5,
            width: null,
            fill: 'black',
            fontSize: 40,
            fontFamily: 'Arial',
            textAlign: 'center',
            position: null
        };
        function Text(spec) {
            if (spec == null) {
                spec = {};
            }
            Text.__super__.constructor.call(this, spec);
            if (_.isArray(this.spec.content)) {
                this.spec.content = this.spec.content.join('\n');
                if (spec.lineHeight == null) {
                    this.spec.lineHeight = 2;
                }
            }
        }
        Text.prototype.render = function (context, layer) {
            var coords, text;
            text = new Kinetic.Text({
                x: 0,
                y: 0,
                text: this.spec.content,
                fontSize: this.spec.fontSize,
                fontFamily: this.spec.fontFamily,
                fill: this.spec.fill,
                lineHeight: this.spec.lineHeight || 1,
                width: this.spec.width,
                listening: false,
                align: this.spec.textAlign
            });
            coords = this.computeCoordinates(context, this.spec.position, text.getWidth(), text.getHeight());
            text.setPosition({
                x: coords[0],
                y: coords[1]
            });
            return layer.add(text);
        };
        return Text;
    }(Stimulus);
    exports.Text = Text;
}.call(this));
});
require.define('111', function(module, exports, __dirname, __filename, undefined){
(function () {
    var Kinetic, StartButton, Stimulus, _ref, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    Stimulus = require('73', module).Stimulus;
    Kinetic = require('27', module).Kinetic;
    StartButton = function (_super) {
        __extends(StartButton, _super);
        function StartButton() {
            _ref = StartButton.__super__.constructor.apply(this, arguments);
            return _ref;
        }
        StartButton.prototype.defaults = {
            width: 150,
            height: 75
        };
        StartButton.prototype.render = function (context, layer) {
            var button, group, text, xcenter, ycenter;
            xcenter = context.width() / 2;
            ycenter = context.height() / 2;
            group = new Kinetic.Group({ id: this.spec.id });
            text = new Kinetic.Text({
                text: 'Start',
                x: xcenter - this.spec.width / 2,
                y: ycenter - this.spec.height / 2,
                width: this.spec.width,
                height: this.spec.height,
                fontSize: 30,
                fill: 'white',
                fontFamily: 'Arial',
                align: 'center',
                padding: 20
            });
            button = new Kinetic.Rect({
                x: xcenter - this.spec.width / 2,
                y: ycenter - text.getHeight() / 2,
                width: this.spec.width,
                height: text.getHeight(),
                fill: 'black',
                cornerRadius: 10,
                stroke: 'LightSteelBlue',
                strokeWidth: 5
            });
            group.add(button);
            group.add(text);
            return layer.add(group);
        };
        return StartButton;
    }(Stimulus);
    exports.StartButton = StartButton;
}.call(this));
});
require.define('110', function(module, exports, __dirname, __filename, undefined){
(function () {
    var Kinetic, Rectangle, Stimulus, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    Stimulus = require('73', module).Stimulus;
    Kinetic = require('27', module).Kinetic;
    Rectangle = function (_super) {
        __extends(Rectangle, _super);
        Rectangle.prototype.defaults = {
            x: 0,
            y: 0,
            width: 100,
            height: 100,
            opacity: 1,
            fill: 'black'
        };
        function Rectangle(spec) {
            if (spec == null) {
                spec = {};
            }
            Rectangle.__super__.constructor.call(this, spec);
        }
        Rectangle.prototype.render = function (context, layer) {
            var coords, rect;
            coords = this.computeCoordinates(context, this.spec.position, this.spec.width, this.spec.height);
            rect = new Kinetic.Rect({
                x: coords[0],
                y: coords[1],
                width: this.spec.width,
                height: this.spec.height,
                fill: this.spec.fill,
                stroke: this.spec.stroke,
                strokeWidth: this.spec.strokeWidth,
                opacity: this.spec.opacity
            });
            return layer.add(rect);
        };
        return Rectangle;
    }(Stimulus);
    exports.Rectangle = Rectangle;
}.call(this));
});
require.define('109', function(module, exports, __dirname, __filename, undefined){
(function () {
    var Kinetic, Picture, Stimulus, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    Stimulus = require('73', module).Stimulus;
    Kinetic = require('27', module).Kinetic;
    Picture = function (_super) {
        __extends(Picture, _super);
        Picture.prototype.defaults = {
            url: 'http://www.html5canvastutorials.com/demos/assets/yoda.jpg',
            x: 0,
            y: 0
        };
        function Picture(spec) {
            var _this = this;
            if (spec == null) {
                spec = {};
            }
            Picture.__super__.constructor.call(this, spec);
            this.imageObj = new Image();
            this.image = null;
            this.imageObj.onload = function () {
                return _this.image = new Kinetic.Image({
                    x: _this.spec.x,
                    y: _this.spec.y,
                    image: _this.imageObj,
                    width: _this.spec.width || _this.imageObj.width,
                    height: _this.spec.height || _this.imageObj.height
                });
            };
            this.imageObj.src = this.spec.url;
        }
        Picture.prototype.render = function (context, layer) {
            return layer.add(this.image);
        };
        return Picture;
    }(Stimulus);
    exports.Picture = Picture;
}.call(this));
});
require.define('108', function(module, exports, __dirname, __filename, undefined){
(function () {
    var GridLines, Kinetic, Stimulus, _ref, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    Stimulus = require('73', module).Stimulus;
    Kinetic = require('27', module).Kinetic;
    GridLines = function (_super) {
        __extends(GridLines, _super);
        function GridLines() {
            _ref = GridLines.__super__.constructor.apply(this, arguments);
            return _ref;
        }
        GridLines.prototype.defaults = {
            x: 0,
            y: 0,
            rows: 3,
            cols: 3,
            stroke: 'black',
            strokeWidth: 2
        };
        GridLines.prototype.render = function (context, layer) {
            var i, line, x, y, _i, _j, _ref1, _ref2, _results;
            for (i = _i = 0, _ref1 = this.spec.rows; 0 <= _ref1 ? _i <= _ref1 : _i >= _ref1; i = 0 <= _ref1 ? ++_i : --_i) {
                y = this.spec.y + i * context.height() / this.spec.rows;
                line = new Kinetic.Line({
                    points: [
                        this.spec.x,
                        y,
                        this.spec.x + context.width(),
                        y
                    ],
                    stroke: this.spec.stroke,
                    strokeWidth: this.spec.strokeWidth,
                    dashArray: this.spec.dashArray
                });
                layer.add(line);
            }
            _results = [];
            for (i = _j = 0, _ref2 = this.spec.cols; 0 <= _ref2 ? _j <= _ref2 : _j >= _ref2; i = 0 <= _ref2 ? ++_j : --_j) {
                x = this.spec.x + i * context.width() / this.spec.cols;
                line = new Kinetic.Line({
                    points: [
                        x,
                        this.spec.y,
                        x,
                        this.spec.y + context.height()
                    ],
                    stroke: this.spec.stroke,
                    strokeWidth: this.spec.strokeWidth,
                    dashArray: this.spec.dashArray
                });
                _results.push(layer.add(line));
            }
            return _results;
        };
        return GridLines;
    }(Stimulus);
    exports.GridLines = GridLines;
}.call(this));
});
require.define('107', function(module, exports, __dirname, __filename, undefined){
(function () {
    var CanvasBorder, Kinetic, Stimulus, _ref, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    Stimulus = require('73', module).Stimulus;
    Kinetic = require('27', module).Kinetic;
    CanvasBorder = function (_super) {
        __extends(CanvasBorder, _super);
        function CanvasBorder() {
            _ref = CanvasBorder.__super__.constructor.apply(this, arguments);
            return _ref;
        }
        CanvasBorder.prototype.defaults = {
            strokeWidth: 5,
            stroke: 'black'
        };
        CanvasBorder.prototype.render = function (context, layer) {
            var border;
            border = new Kinetic.Rect({
                x: 0,
                y: 0,
                width: context.width(),
                height: context.height(),
                strokeWidth: this.spec.strokeWidth,
                stroke: this.spec.stroke
            });
            return layer.add(border);
        };
        return CanvasBorder;
    }(Stimulus);
    exports.CanvasBorder = CanvasBorder;
}.call(this));
});
require.define('106', function(module, exports, __dirname, __filename, undefined){
(function () {
    var FixationCross, Kinetic, Stimulus, _ref, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    Stimulus = require('73', module).Stimulus;
    Kinetic = require('27', module).Kinetic;
    FixationCross = function (_super) {
        __extends(FixationCross, _super);
        function FixationCross() {
            _ref = FixationCross.__super__.constructor.apply(this, arguments);
            return _ref;
        }
        FixationCross.prototype.defaults = {
            strokeWidth: 8,
            length: 150,
            fill: 'black'
        };
        FixationCross.prototype.render = function (context, layer) {
            var group, horz, vert, x, y;
            x = context.width() / 2;
            y = context.height() / 2;
            horz = new Kinetic.Rect({
                x: x - this.spec.length / 2,
                y: y,
                width: this.spec.length,
                height: this.spec.strokeWidth,
                fill: this.spec.fill
            });
            vert = new Kinetic.Rect({
                x: x - this.spec.strokeWidth / 2,
                y: y - this.spec.length / 2 + this.spec.strokeWidth / 2,
                width: this.spec.strokeWidth,
                height: this.spec.length,
                fill: this.spec.fill
            });
            group = new Kinetic.Group();
            group.add(horz);
            group.add(vert);
            return layer.add(group);
        };
        return FixationCross;
    }(Stimulus);
    exports.FixationCross = FixationCross;
}.call(this));
});
require.define('105', function(module, exports, __dirname, __filename, undefined){
(function () {
    var Clear, Stimulus, _ref, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    Stimulus = require('73', module).Stimulus;
    Clear = function (_super) {
        __extends(Clear, _super);
        function Clear() {
            _ref = Clear.__super__.constructor.apply(this, arguments);
            return _ref;
        }
        Clear.prototype.render = function (context, layer) {
            return context.clearContent(true);
        };
        return Clear;
    }(Stimulus);
    exports.Clear = Clear;
}.call(this));
});
require.define('104', function(module, exports, __dirname, __filename, undefined){
(function () {
    var Circle, Kinetic, Stimulus, _ref, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    Stimulus = require('73', module).Stimulus;
    Kinetic = require('27', module).Kinetic;
    Circle = function (_super) {
        __extends(Circle, _super);
        function Circle() {
            _ref = Circle.__super__.constructor.apply(this, arguments);
            return _ref;
        }
        Circle.prototype.defaults = {
            x: 0,
            y: 0,
            radius: 50,
            fill: 'red',
            opacity: 1,
            origin: 'center'
        };
        Circle.prototype.render = function (context, layer) {
            var circ, coords;
            circ = new Kinetic.Circle({
                x: 0,
                y: 0,
                radius: this.spec.radius,
                fill: this.spec.fill,
                stroke: this.spec.stroke,
                strokeWidth: this.spec.strokeWidth,
                opacity: this.spec.opacity
            });
            coords = this.computeCoordinates(context, this.spec.position, circ.getWidth(), circ.getHeight());
            circ.setPosition({
                x: coords[0] + circ.getWidth() / 2,
                y: coords[1] + circ.getHeight() / 2
            });
            return layer.add(circ);
        };
        return Circle;
    }(Stimulus);
    exports.Circle = Circle;
}.call(this));
});
require.define('103', function(module, exports, __dirname, __filename, undefined){
(function () {
    var Blank, Kinetic, Stimulus, _ref, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    Kinetic = require('27', module).Kinetic;
    Stimulus = require('73', module).Stimulus;
    Blank = function (_super) {
        __extends(Blank, _super);
        function Blank() {
            _ref = Blank.__super__.constructor.apply(this, arguments);
            return _ref;
        }
        Blank.prototype.defaults = {
            fill: 'white',
            opacity: 1
        };
        Blank.prototype.render = function (context, layer) {
            var blank;
            blank = new Kinetic.Rect({
                x: 0,
                y: 0,
                width: context.width(),
                height: context.height(),
                fill: this.spec.fill,
                opacity: this.spec.opacity
            });
            return layer.add(blank);
        };
        return Blank;
    }(Stimulus);
    exports.Blank = Blank;
}.call(this));
});
require.define('102', function(module, exports, __dirname, __filename, undefined){
(function () {
    var Arrow, Kinetic, Stimulus, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    Stimulus = require('73', module).Stimulus;
    Kinetic = require('27', module).Kinetic;
    Arrow = function (_super) {
        __extends(Arrow, _super);
        Arrow.prototype.defaults = {
            x: 100,
            y: 100,
            length: 100,
            direction: 'right',
            thickness: 40,
            fill: 'black',
            arrowSize: 25,
            angle: null
        };
        function Arrow(spec) {
            if (spec == null) {
                spec = {};
            }
            Arrow.__super__.constructor.call(this, spec);
        }
        Arrow.prototype.initialize = function () {
            var computedHeight, computedLength, coords, shaftLength, _this;
            if (this.spec.angle != null) {
                this.angle = this.spec.angle;
            } else {
                this.angle = function () {
                    switch (this.spec.direction) {
                    case 'right':
                        return 0;
                    case 'left':
                        return 180;
                    case 'up':
                        return 90;
                    case 'down':
                        return 270;
                    default:
                        return 0;
                    }
                }.call(this);
            }
            shaftLength = this.spec.length - this.spec.arrowSize;
            this.arrowShaft = new Kinetic.Rect({
                x: 0,
                y: 0,
                width: shaftLength,
                height: this.spec.thickness,
                fill: this.spec.fill,
                stroke: this.spec.stroke,
                strokeWidth: this.spec.strokeWidth,
                opacity: this.spec.opacity
            });
            _this = this;
            this.arrowHead = new Kinetic.Shape({
                drawFunc: function (cx) {
                    cx.beginPath();
                    cx.moveTo(shaftLength, -_this.spec.arrowSize / 2);
                    cx.lineTo(shaftLength + _this.spec.arrowSize, _this.spec.thickness / 2);
                    cx.lineTo(shaftLength, _this.spec.thickness + _this.spec.arrowSize / 2);
                    cx.closePath();
                    return cx.fillStrokeShape(this);
                },
                fill: _this.spec.fill,
                stroke: this.spec.stroke,
                strokeWidth: this.spec.strokeWidth,
                opacity: this.spec.opacity,
                width: _this.spec.arrowSize,
                height: _this.spec.arrowSize + _this.spec.thickness
            });
            computedLength = shaftLength + this.spec.arrowSize;
            computedHeight = this.spec.thickness;
            this.group = new Kinetic.Group({
                x: 0,
                y: 0,
                rotationDeg: this.angle,
                offset: [
                    computedLength / 2,
                    this.spec.thickness / 2
                ]
            });
            this.group.add(this.arrowShaft);
            this.group.add(this.arrowHead);
            coords = this.computeCoordinates(context, this.spec.position, computedLength, computedHeight);
            return this.group.setPosition({
                x: coords[0] + computedLength / 2,
                y: coords[1] + this.spec.thickness / 2
            });
        };
        Arrow.prototype.render = function (context, layer) {
            return layer.add(this.group);
        };
        return Arrow;
    }(Stimulus);
    exports.Arrow = Arrow;
}.call(this));
});
require.define('117', function(module, exports, __dirname, __filename, undefined){
(function () {
    var ArrayIterator, BlockStructure, CellTable, ConditionSet, DataTable, ExpDesign, Factor, FactorNode, FactorSetNode, FactorSpec, ItemNode, ItemSetNode, Iterator, SamplerNode, TaskNode, TaskSchema, TrialList, VarSpec, csv, sampler, trimWhiteSpace, utils, _, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    _ = require('2', module);
    utils = require('76', module);
    DataTable = require('77', module).DataTable;
    csv = require('120', module);
    sampler = require('116', module);
    exports.Factor = Factor = function (_super) {
        __extends(Factor, _super);
        Factor.asFactor = function (arr) {
            return function (func, args, ctor) {
                ctor.prototype = func.prototype;
                var child = new ctor(), result = func.apply(child, args);
                return Object(result) === result ? result : child;
            }(Factor, arr, function () {
            });
        };
        function Factor(arr) {
            var arg, _i, _len;
            for (_i = 0, _len = arr.length; _i < _len; _i++) {
                arg = arr[_i];
                this.push(arg);
            }
            this.levels = _.uniq(arr).sort();
        }
        return Factor;
    }(Array);
    exports.VarSpec = VarSpec = function () {
        function VarSpec() {
        }
        VarSpec.name = '';
        VarSpec.nblocks = 1;
        VarSpec.reps = 1;
        VarSpec.expanded = {};
        VarSpec.prototype.names = function () {
            return this.name;
        };
        VarSpec.prototype.ntrials = function () {
            return this.nblocks * this.reps;
        };
        VarSpec.prototype.valueAt = function (block, trial) {
        };
        return VarSpec;
    }();
    exports.FactorSpec = FactorSpec = function (_super) {
        __extends(FactorSpec, _super);
        function FactorSpec(name, levels) {
            this.name = name;
            this.levels = levels;
            this.factorSet = {};
            this.factorSet[this.name] = this.levels;
            this.conditionTable = DataTable.expand(this.factorSet);
        }
        FactorSpec.prototype.cross = function (other) {
            return new CrossedFactorSpec(this.nblocks, this.reps, [
                this,
                other
            ]);
        };
        FactorSpec.prototype.expand = function (nblocks, reps) {
            var blocks, concatBlocks, i, prop, vset, _i, _results;
            prop = {};
            prop[this.name] = this.levels;
            vset = new DataTable(prop);
            blocks = function () {
                var _i, _results;
                _results = [];
                for (i = _i = 1; 1 <= nblocks ? _i <= nblocks : _i >= nblocks; i = 1 <= nblocks ? ++_i : --_i) {
                    _results.push(vset.replicate(reps));
                }
                return _results;
            }();
            concatBlocks = _.reduce(blocks, function (sum, nex) {
                return DataTable.rbind(sum, nex);
            });
            concatBlocks.bindcol('$Block', utils.rep(function () {
                _results = [];
                for (var _i = 1; 1 <= nblocks ? _i <= nblocks : _i >= nblocks; 1 <= nblocks ? _i++ : _i--) {
                    _results.push(_i);
                }
                return _results;
            }.apply(this), utils.rep(reps * vset.nrow(), nblocks)));
            return concatBlocks;
        };
        return FactorSpec;
    }(VarSpec);
    exports.CellTable = CellTable = function (_super) {
        __extends(CellTable, _super);
        function CellTable(parents) {
            var fac;
            this.parents = parents;
            this.parentNames = function () {
                var _i, _len, _ref, _results;
                _ref = this.parents;
                _results = [];
                for (_i = 0, _len = _ref.length; _i < _len; _i++) {
                    fac = _ref[_i];
                    _results.push(fac.name);
                }
                return _results;
            }.call(this);
            this.name = _.reduce(this.parentNames, function (n, n1) {
                return n + ':' + n1;
            });
            this.levels = function () {
                var _i, _len, _ref, _results;
                _ref = this.parents;
                _results = [];
                for (_i = 0, _len = _ref.length; _i < _len; _i++) {
                    fac = _ref[_i];
                    _results.push(fac.levels);
                }
                return _results;
            }.call(this);
            this.factorSet = _.zipObject(this.parentNames, this.levels);
            this.table = DataTable.expand(this.factorSet);
        }
        CellTable.prototype.names = function () {
            return this.parentNames;
        };
        CellTable.prototype.conditions = function () {
            var i, rec, _i, _ref, _results;
            _results = [];
            for (i = _i = 0, _ref = this.table.nrow(); 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
                rec = this.table.record(i);
                _results.push(_.reduce(rec, function (n, n1) {
                    return n + ':' + n1;
                }));
            }
            return _results;
        };
        CellTable.prototype.expand = function (nblocks, reps) {
            var blocks, i;
            return blocks = function () {
                var _i, _results;
                _results = [];
                for (i = _i = 1; 1 <= nblocks ? _i <= nblocks : _i >= nblocks; i = 1 <= nblocks ? ++_i : --_i) {
                    _results.push(this.table.replicate(reps));
                }
                return _results;
            }.call(this);
        };
        return CellTable;
    }(VarSpec);
    exports.BlockStructure = BlockStructure = function () {
        function BlockStructure(nblocks, trialsPerBlock) {
            this.nblocks = nblocks;
            this.trialsPerBlock = trialsPerBlock;
        }
        return BlockStructure;
    }();
    exports.TaskNode = TaskNode = function () {
        function TaskNode(varNodes, crossedSet) {
            var i, vname, _i, _j, _k, _len, _len1, _ref, _ref1, _ref2;
            this.varNodes = varNodes;
            this.crossedSet = crossedSet != null ? crossedSet : [];
            this.factorNames = _.map(this.varNodes, function (x) {
                return x.name;
            });
            this.varmap = {};
            for (i = _i = 0, _ref = this.factorNames.length; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
                this.varmap[this.factorNames[i]] = this.varSpecs[i];
            }
            if (this.crossedSet.length > 0) {
                _ref1 = this.crossedSet;
                for (_j = 0, _len = _ref1.length; _j < _len; _j++) {
                    vname = _ref1[_j];
                    this.crossedVars = this.varmap[vname];
                }
                this.crossedSpec = new CrossedFactorSpec(this.crossedVars);
            } else {
                this.crossedVars = [];
                this.crossedSpec = {};
            }
            this.uncrossedVars = _.difference(this.factorNames, this.crossedSet);
            _ref2 = this.uncrossedVars;
            for (_k = 0, _len1 = _ref2.length; _k < _len1; _k++) {
                vname = _ref2[_k];
                this.uncrossedSpec = this.varmap[vname];
            }
            ({
                expand: function (nblocks, nreps) {
                    var ctable;
                    if (this.crossedVars.length > 0) {
                        return ctable = this.crossedSpec.expand(nblocks, nreps);
                    }
                }
            });
        }
        return TaskNode;
    }();
    exports.FactorNode = FactorNode = function () {
        FactorNode.build = function (name, spec) {
            return new FactorNode(name, spec.levels);
        };
        function FactorNode(name, levels) {
            this.name = name;
            this.levels = levels;
            this.cellTable = new CellTable([this]);
        }
        FactorNode.prototype.expand = function (nblocks, nreps) {
            return this.cellTable.expand(nblocks, nreps);
        };
        return FactorNode;
    }();
    exports.FactorSetNode = FactorSetNode = function () {
        FactorSetNode.build = function (spec) {
            var fnodes, key, value;
            fnodes = function () {
                var _results;
                _results = [];
                for (key in spec) {
                    value = spec[key];
                    _results.push(FactorNode.build(key, value));
                }
                return _results;
            }();
            return new FactorSetNode(fnodes);
        };
        function FactorSetNode(factors) {
            var i, _i, _ref;
            this.factors = factors;
            this.factorNames = _.map(this.factors, function (x) {
                return x.name;
            });
            this.varmap = {};
            for (i = _i = 0, _ref = this.factorNames.length; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
                this.varmap[this.factorNames[i]] = this.factors[i];
            }
            this.cellTable = new CellTable(this.factors);
            this.name = this.cellTable.name;
        }
        FactorSetNode.prototype.levels = function () {
            return this.cellTable.levels;
        };
        FactorSetNode.prototype.conditions = function () {
            return this.cellTable.conditions();
        };
        FactorSetNode.prototype.expand = function (nblocks, nreps) {
            return this.cellTable.expand(nblocks, nreps);
        };
        FactorSetNode.prototype.trialList = function (nblocks, nreps) {
            var blk, blocks, i, j, tlist, _i, _j, _len, _ref;
            if (nblocks == null) {
                nblocks = 1;
            }
            if (nreps == null) {
                nreps = 1;
            }
            blocks = this.expand(nblocks, nreps);
            tlist = new TrialList(nblocks);
            for (i = _i = 0, _len = blocks.length; _i < _len; i = ++_i) {
                blk = blocks[i];
                for (j = _j = 0, _ref = blk.nrow(); 0 <= _ref ? _j < _ref : _j > _ref; j = 0 <= _ref ? ++_j : --_j) {
                    tlist.add(i, blk.record(j));
                }
            }
            return tlist;
        };
        return FactorSetNode;
    }();
    exports.Iterator = Iterator = function () {
        function Iterator() {
        }
        Iterator.prototype.hasNext = function () {
            return false;
        };
        Iterator.prototype.next = function () {
            throw 'empty iterator';
        };
        Iterator.prototype.map = function (fun) {
            throw 'empty iterator';
        };
        return Iterator;
    }();
    exports.ArrayIterator = ArrayIterator = function (_super) {
        __extends(ArrayIterator, _super);
        function ArrayIterator(arr) {
            this.arr = arr;
            this.cursor = 0;
            ({
                hasNext: function () {
                    return this.cursor < this.arr.length;
                },
                next: function () {
                    var ret;
                    ret = this.arr[this.cursor];
                    this.cursor = this.cursor + 1;
                    return ret;
                },
                map: function (f) {
                    return _.map(this.arr, function (el) {
                        return f(el);
                    });
                }
            });
        }
        return ArrayIterator;
    }(Iterator);
    exports.TrialList = TrialList = function () {
        function TrialList(nblocks) {
            var i, _i;
            this.blocks = [];
            for (i = _i = 0; 0 <= nblocks ? _i < nblocks : _i > nblocks; i = 0 <= nblocks ? ++_i : --_i) {
                this.blocks.push([]);
            }
        }
        TrialList.prototype.add = function (block, trial) {
            return this.blocks[block].push(trial);
        };
        TrialList.prototype.get = function (block, trialNum) {
            return this.blocks[block][trialNum];
        };
        TrialList.prototype.getBlock = function (block) {
            return this.blocks[block];
        };
        TrialList.prototype.nblocks = function () {
            return this.blocks.length;
        };
        TrialList.prototype.ntrials = function () {
            var nt;
            nt = _.map(this.blocks, function (b) {
                return b.length;
            });
            return _.reduce(nt, function (x0, x1) {
                return x0 + x1;
            });
        };
        TrialList.prototype.shuffle = function () {
            return this.blocks = _.map(this.blocks, function (blk) {
                return _.shuffle(blk);
            });
        };
        TrialList.prototype.bind = function (fun) {
            var blk, i, out, ret, trial, _i, _j, _len, _len1, _ref;
            out = new TrialList(this.blocks.length);
            _ref = this.blocks;
            for (i = _i = 0, _len = _ref.length; _i < _len; i = ++_i) {
                blk = _ref[i];
                for (_j = 0, _len1 = blk.length; _j < _len1; _j++) {
                    trial = blk[_j];
                    ret = fun(trial);
                    out.add(i, _.assign(trial, ret));
                }
            }
            return out;
        };
        TrialList.prototype.blockIterator = function () {
            return new ArrayIterator(_.map(this.blocks, function (blk) {
                return new ArrayIterator(blk);
            }));
        };
        return TrialList;
    }();
    trimWhiteSpace = function (records) {
        var i, key, out, record, trimmed, value, _i, _ref;
        trimmed = [];
        for (i = _i = 0, _ref = records.length; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
            record = records[i];
            out = {};
            for (key in record) {
                value = record[key];
                out[key.trim()] = value.trim();
            }
            trimmed.push(out);
        }
        return trimmed;
    };
    exports.ItemNode = ItemNode = function () {
        ItemNode.build = function (name, spec) {
            var attrs, dtable, inode, items, snode, _this = this;
            if (spec.type == null) {
                spec.type = 'text';
            }
            snode = spec.sampler != null ? SamplerNode.build(spec.sampler) : new SamplerNode('default', {});
            if (spec.data != null) {
                dtable = DataTable.fromRecords(spec.data);
                attrs = dtable.dropColumn(name);
                items = dtable[name];
                return new ItemNode(name, items, attrs, spec.type, snode.makeSampler(items));
            } else if (spec.csv != null) {
                inode = null;
                $.ajax({
                    url: spec.csv.url,
                    dataType: 'text',
                    async: false,
                    success: function (data) {
                        var records;
                        records = trimWhiteSpace(csv.toObjects(data));
                        dtable = DataTable.fromRecords(records);
                        items = dtable[name];
                        attrs = dtable.dropColumn(name);
                        return inode = new ItemNode(name, items, attrs, spec.type, snode.makeSampler(items));
                    },
                    error: function (x) {
                        return console.log(x);
                    }
                });
                return inode;
            }
        };
        function ItemNode(name, items, attributes, type, sampler) {
            this.name = name;
            this.items = items;
            this.attributes = attributes;
            this.type = type;
            this.sampler = sampler;
            if (this.items.length !== this.attributes.nrow()) {
                throw 'Number of items must equal number of attributes';
            }
        }
        ItemNode.prototype.sample = function (n) {
            return this.sampler.take(n);
        };
        return ItemNode;
    }();
    exports.ItemSetNode = ItemSetNode = function () {
        ItemSetNode.build = function (spec) {
            var key, nodes, value;
            nodes = function () {
                var _results;
                _results = [];
                for (key in spec) {
                    value = spec[key];
                    _results.push(exports.ItemNode.build(key, value));
                }
                return _results;
            }();
            return new ItemSetNode(nodes);
        };
        function ItemSetNode(itemNodes) {
            this.itemNodes = itemNodes;
            this.names = _.map(this.itemNodes, function (n) {
                return n.name;
            });
        }
        ItemSetNode.prototype.sample = function (n) {
            var i, items, j, name, out, record, _i, _j, _len, _ref;
            items = _.map(this.itemNodes, function (node) {
                return node.sample(n);
            });
            out = [];
            for (i = _i = 0; 0 <= n ? _i < n : _i > n; i = 0 <= n ? ++_i : --_i) {
                record = {};
                _ref = this.names;
                for (j = _j = 0, _len = _ref.length; _j < _len; j = ++_j) {
                    name = _ref[j];
                    record[name] = items[j][i];
                }
                out.push(record);
            }
            return out;
        };
        return ItemSetNode;
    }();
    SamplerNode = SamplerNode = function () {
        SamplerNode.build = function (spec) {
            if (spec.type == null) {
                spec.type = 'default';
            }
            return new SamplerNode(spec.type, spec);
        };
        function SamplerNode(type, params) {
            this.makeSampler = function () {
                switch (type) {
                case 'default':
                    return function (items) {
                        return new sampler.Sampler(items, params);
                    };
                case 'exhaustive':
                    return function (items) {
                        return new sampler.ExhaustiveSampler(items, params);
                    };
                case 'replacement':
                    return function (items) {
                        return new sampler.ReplacementSampler(items, params);
                    };
                default:
                    throw new Error('unrecognized sampler type', type);
                }
            }();
        }
        return SamplerNode;
    }();
    exports.SamplerNode = SamplerNode;
    exports.ConditionSet = ConditionSet = function () {
        ConditionSet.build = function (spec) {
            var key, value, _crossed, _uncrossed;
            if (spec.Crossed == null && !spec.Uncrossed) {
                _crossed = exports.FactorSetNode.build(spec.Crossed);
                _uncrossed = {};
            } else {
                _crossed = exports.FactorSetNode.build(spec.Crossed);
                _uncrossed = function () {
                    var _ref, _results;
                    _ref = spec.Uncrossed;
                    _results = [];
                    for (key in _ref) {
                        value = _ref[key];
                        _results.push(FactorNode.build(key, value));
                    }
                    return _results;
                }();
            }
            return new ConditionSet(_crossed, _uncrossed);
        };
        function ConditionSet(crossed, uncrossed) {
            var _this = this;
            this.crossed = crossed;
            this.uncrossed = uncrossed;
            this.factorNames = [].concat(this.crossed.factorNames).concat(_.map(this.uncrossed, function (fac) {
                return fac.name;
            }));
            this.factorArray = _.clone(this.crossed.factors);
            _.forEach(this.uncrossed, function (fac) {
                return _this.factorArray.push(fac);
            });
            this.factorSet = _.zipObject(this.factorNames, this.factorArray);
        }
        return ConditionSet;
    }();
    exports.TaskSchema = TaskSchema = function () {
        TaskSchema.build = function (spec) {
            var key, schema, value;
            schema = {};
            for (key in spec) {
                value = spec[key];
                schema[key] = FactorSetNode.build(value);
            }
            return new TaskSchema(schema);
        };
        function TaskSchema(schema) {
            this.schema = schema;
        }
        TaskSchema.prototype.trialTypes = function () {
            return _.keys(this.schema);
        };
        TaskSchema.prototype.factors = function (type) {
            return this.schema[type];
        };
        return TaskSchema;
    }();
    exports.ExpDesign = ExpDesign = function () {
        ExpDesign.blocks = 1;
        ExpDesign.validate = function (spec) {
            var des;
            if (!('Design' in spec)) {
                throw 'Design is undefined';
            }
            des = spec['Design'];
            if (!('Variables' in des)) {
                throw 'Variables is undefined';
            }
            if (!('Structure' in des)) {
                throw 'Structure is undefined';
            }
            if (!('Items' in spec)) {
                throw 'Items is undefined';
            }
        };
        ExpDesign.splitCrossedItems = function (itemSpec, crossedVariables) {
            var attrnames, conditionTable, i, indices, itemSets, j, keySet, levs, record, values;
            attrnames = crossedVariables.colnames();
            keySet = function () {
                var _i, _ref, _results;
                _results = [];
                for (i = _i = 0, _ref = crossedVariables.nrow(); 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
                    record = crossedVariables.record(i);
                    levs = _.values(record);
                    _results.push(_.reduce(levs, function (a, b) {
                        return a + ':' + b;
                    }));
                }
                return _results;
            }();
            values = itemSpec['values'];
            conditionTable = new DataTable(_.pick(itemSpec, attrnames));
            itemSets = function () {
                var _i, _ref, _results;
                _results = [];
                for (i = _i = 0, _ref = crossedVariables.nrow(); 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
                    record = crossedVariables.record(i);
                    indices = conditionTable.whichRow(record);
                    _results.push(function () {
                        var _j, _len, _results1;
                        _results1 = [];
                        for (_j = 0, _len = indices.length; _j < _len; _j++) {
                            j = indices[_j];
                            _results1.push(values[j]);
                        }
                        return _results1;
                    }());
                }
                return _results;
            }();
            return _.zipObject(keySet, itemSets);
        };
        ExpDesign.prototype.init = function (spec) {
            this.design = spec['Design'];
            this.variables = this.design['Variables'];
            this.itemSpec = spec['Items'];
            this.structure = this.design['Structure'];
            this.factorNames = _.keys(this.variables);
            this.crossed = this.variables['Crossed'];
            return this.auxiliary = this.variables['Auxiliary'];
        };
        ExpDesign.prototype.initStructure = function () {
            if (this.structure['type'] === 'Block') {
                if (!_.has(this.structure, 'reps_per_block')) {
                    this.structure['reps_per_block'] = 1;
                }
                this.reps_per_block = this.structure['reps_per_block'];
                return this.blocks = this.structure['blocks'];
            } else {
                this.reps_per_block = 1;
                return this.blocks = 1;
            }
        };
        ExpDesign.prototype.makeConditionalSampler = function (crossedSpec, crossedItems) {
            var crossedItemMap, crossedItemName, key;
            crossedItemName = _.keys(crossedItems)[0];
            console.log('names:', crossedSpec.names());
            crossedItemMap = function () {
                var _i, _len, _ref, _results;
                _ref = crossedSpec.names();
                _results = [];
                for (_i = 0, _len = _ref.length; _i < _len; _i++) {
                    key = _ref[_i];
                    _results.push(crossedItems[crossedItemName][key]);
                }
                return _results;
            }();
            crossedItemMap = _.zipObject(_.keys(this.crossed), crossedItemMap);
            console.log('item map: ', crossedItemMap);
            return new ConditionalSampler(crossedItems[crossedItemName].values, new DataTable(crossedItemMap), crossedSpec);
        };
        ExpDesign.prototype.makeCrossedSpec = function (crossed, nblocks, nreps) {
            var factors, key, val;
            factors = function () {
                var _results;
                _results = [];
                for (key in crossed) {
                    val = crossed[key];
                    _results.push(new FactorSpec(nblocks, nreps, key, val.levels));
                }
                return _results;
            }();
            return crossed = new CrossedFactorSpec(nblocks, nreps, factors);
        };
        ExpDesign.prototype.makeFactorSpec = function (fac, nblocks, nreps) {
            return new FactorSpec(nblocks, nreps, _.keys(fac)[0], _.values(fac)[0]);
        };
        function ExpDesign(spec) {
            var crossedItems, crossedSampler;
            if (spec == null) {
                spec = {};
            }
            ExpDesign.validate(spec);
            this.init(spec);
            this.initStructure();
            this.crossedSpec = this.makeCrossedSpec(this.crossed, this.blocks, this.reps_per_block);
            crossedItems = this.itemSpec.Crossed;
            crossedSampler = this.makeConditionalSampler(this.crossedSpec, crossedItems);
            this.fullDesign = this.crossedSpec.expanded.bindcol(_.keys(crossedItems)[0], crossedSampler.take(this.crossedSpec.expanded.nrow()));
            console.log(this.crossedDesign);
        }
        return ExpDesign;
    }();
}.call(this));
});
require.define('116', function(module, exports, __dirname, __filename, undefined){
(function () {
    var CombinatoricSampler, ConditionalSampler, DataTable, ExhaustiveSampler, GridSampler, MatchSampler, ReplacementSampler, Sampler, UniformSampler, utils, _, _ref, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        }, __slice = [].slice;
    utils = require('76', module);
    _ = require('2', module);
    DataTable = require('77', module).DataTable;
    Sampler = function () {
        function Sampler(items) {
            var _i, _ref, _results;
            this.items = items;
            this.indexBuffer = _.shuffle(function () {
                _results = [];
                for (var _i = 0, _ref = this.items.length; 0 <= _ref ? _i < _ref : _i > _ref; 0 <= _ref ? _i++ : _i--) {
                    _results.push(_i);
                }
                return _results;
            }.apply(this));
        }
        Sampler.prototype.next = function () {
            var i, _i, _ref, _results;
            i = this.indexBuffer.length > 0 ? this.indexBuffer.shift() : (this.indexBuffer = _.shuffle(function () {
                _results = [];
                for (var _i = 0, _ref = this.items.length; 0 <= _ref ? _i < _ref : _i > _ref; 0 <= _ref ? _i++ : _i--) {
                    _results.push(_i);
                }
                return _results;
            }.apply(this)), this.indexBuffer.shift());
            return this.items[i];
        };
        Sampler.prototype.take = function (n) {
            var i, ret, _i, _ref, _results;
            if (n > this.items.length) {
                throw 'cannot take sample larger than the number of items when using non-replacing sampler';
            }
            this.indexBuffer = _.shuffle(function () {
                _results = [];
                for (var _i = 0, _ref = this.items.length; 0 <= _ref ? _i < _ref : _i > _ref; 0 <= _ref ? _i++ : _i--) {
                    _results.push(_i);
                }
                return _results;
            }.apply(this));
            ret = function () {
                var _j, _results1;
                _results1 = [];
                for (i = _j = 0; 0 <= n ? _j < n : _j > n; i = 0 <= n ? ++_j : --_j) {
                    _results1.push(this.next());
                }
                return _results1;
            }.call(this);
            return ret;
        };
        Sampler.prototype.takeOne = function () {
            return this.take(1)[0];
        };
        return Sampler;
    }();
    exports.Sampler = Sampler;
    exports.ReplacementSampler = ReplacementSampler = function (_super) {
        __extends(ReplacementSampler, _super);
        function ReplacementSampler() {
            _ref = ReplacementSampler.__super__.constructor.apply(this, arguments);
            return _ref;
        }
        ReplacementSampler.prototype.sampleFrom = function (items, n) {
            return utils.sample(items, n, true);
        };
        ReplacementSampler.prototype.take = function (n) {
            return this.sampleFrom(this.items, n);
        };
        return ReplacementSampler;
    }(Sampler);
    exports.ExhaustiveSampler = ExhaustiveSampler = function (_super) {
        __extends(ExhaustiveSampler, _super);
        ExhaustiveSampler.fillBuffer = function (items, n) {
            var buf, i;
            buf = function () {
                var _i, _results;
                _results = [];
                for (i = _i = 1; 1 <= n ? _i <= n : _i >= n; i = 1 <= n ? ++_i : --_i) {
                    _results.push(_.shuffle(items));
                }
                return _results;
            }();
            return _.flatten(buf);
        };
        function ExhaustiveSampler(items) {
            this.items = items;
            this.buffer = ExhaustiveSampler.fillBuffer(this.items, 10);
        }
        ExhaustiveSampler.prototype.take = function (n) {
            var buf, buflen, res;
            if (n <= this.buffer.length) {
                res = _.take(this.buffer, n);
                this.buffer = _.drop(this.buffer, n);
                return res;
            } else {
                buflen = Math.max(n, 10 * this.items.length);
                buf = ExhaustiveSampler.fillBuffer(this.items, buflen / this.items.length);
                this.buffer = this.buffer.concat(buf);
                return this.take(n);
            }
        };
        return ExhaustiveSampler;
    }(Sampler);
    exports.MatchSampler = MatchSampler = function () {
        function MatchSampler(sampler) {
            this.sampler = sampler;
        }
        MatchSampler.prototype.take = function (n, match) {
            var probe, probeIndex, sam;
            if (match == null) {
                match = true;
            }
            sam = this.sampler.take(n);
            if (match) {
                probe = utils.sample(sam, 1)[0];
            } else {
                probe = this.sampler.take(1)[0];
            }
            probeIndex = _.indexOf(sam, probe);
            return {
                targetSet: sam,
                probe: probe,
                probeIndex: probeIndex,
                match: match
            };
        };
        return MatchSampler;
    }();
    exports.UniformSampler = UniformSampler = function (_super) {
        __extends(UniformSampler, _super);
        UniformSampler.validate = function (range) {
            if (range.length !== 2) {
                throw 'range must be an array with two values (min, max)';
            }
            if (range[1] <= range[0]) {
                throw 'range[1] must > range[0]';
            }
        };
        function UniformSampler(range) {
            this.range = range;
            this.interval = this.range[1] - this.range[0];
        }
        UniformSampler.prototype.take = function (n) {
            var i, nums;
            nums = function () {
                var _i, _results;
                _results = [];
                for (i = _i = 1; 1 <= n ? _i <= n : _i >= n; i = 1 <= n ? ++_i : --_i) {
                    _results.push(Math.round(Math.random() * this.interval));
                }
                return _results;
            }.call(this);
            return nums;
        };
        return UniformSampler;
    }(Sampler);
    exports.CombinatoricSampler = CombinatoricSampler = function (_super) {
        __extends(CombinatoricSampler, _super);
        function CombinatoricSampler() {
            var samplers;
            samplers = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
            this.samplers = samplers;
        }
        CombinatoricSampler.prototype.take = function (n) {
            var i, j, xs, _i, _results;
            _results = [];
            for (i = _i = 0; 0 <= n ? _i < n : _i > n; i = 0 <= n ? ++_i : --_i) {
                xs = function () {
                    var _j, _ref1, _results1;
                    _results1 = [];
                    for (j = _j = 0, _ref1 = this.samplers.length; 0 <= _ref1 ? _j < _ref1 : _j > _ref1; j = 0 <= _ref1 ? ++_j : --_j) {
                        _results1.push(this.samplers[j].take(1));
                    }
                    return _results1;
                }.call(this);
                _results.push(_.flatten(xs));
            }
            return _results;
        };
        return CombinatoricSampler;
    }(Sampler);
    exports.GridSampler = GridSampler = function (_super) {
        __extends(GridSampler, _super);
        function GridSampler(x, y) {
            var i;
            this.x = x;
            this.y = y;
            this.grid = DataTable.expand({
                x: this.x,
                y: this.y
            });
            console.log('rows:', this.grid.nrow());
            this.tuples = function () {
                var _i, _ref1, _results;
                _results = [];
                for (i = _i = 0, _ref1 = this.grid.nrow(); 0 <= _ref1 ? _i < _ref1 : _i > _ref1; i = 0 <= _ref1 ? ++_i : --_i) {
                    _results.push(_.values(this.grid.record(i)));
                }
                return _results;
            }.call(this);
        }
        GridSampler.prototype.take = function (n) {
            return utils.sample(this.tuples, n);
        };
        return GridSampler;
    }(Sampler);
    exports.ConditionalSampler = ConditionalSampler = function (_super) {
        __extends(ConditionalSampler, _super);
        ConditionalSampler.prototype.makeItemSubsets = function () {
            var ctable, i, indices, itemSets, j, keySet, levs, record;
            ctable = this.factorSpec.conditionTable;
            keySet = function () {
                var _i, _ref1, _results;
                _results = [];
                for (i = _i = 0, _ref1 = ctable.nrow(); 0 <= _ref1 ? _i < _ref1 : _i > _ref1; i = 0 <= _ref1 ? ++_i : --_i) {
                    record = ctable.record(i);
                    levs = _.values(record);
                    _results.push(_.reduce(levs, function (a, b) {
                        return a + ':' + b;
                    }));
                }
                return _results;
            }();
            console.log(keySet);
            itemSets = function () {
                var _i, _ref1, _results;
                _results = [];
                for (i = _i = 0, _ref1 = ctable.nrow(); 0 <= _ref1 ? _i < _ref1 : _i > _ref1; i = 0 <= _ref1 ? ++_i : --_i) {
                    record = ctable.record(i);
                    indices = this.itemMap.whichRow(record);
                    _results.push(function () {
                        var _j, _len, _results1;
                        _results1 = [];
                        for (_j = 0, _len = indices.length; _j < _len; _j++) {
                            j = indices[_j];
                            _results1.push(this.items[j]);
                        }
                        return _results1;
                    }.call(this));
                }
                return _results;
            }.call(this);
            console.log(itemSets);
            return _.zipObject(keySet, itemSets);
        };
        function ConditionalSampler(items, itemMap, factorSpec) {
            var key, value, _ref1;
            this.items = items;
            this.itemMap = itemMap;
            this.factorSpec = factorSpec;
            this.keyMap = this.makeItemSubsets();
            this.conditions = _.keys(this.keyMap);
            this.samplerSet = {};
            _ref1 = this.keyMap;
            for (key in _ref1) {
                value = _ref1[key];
                this.samplerSet[key] = new ExhaustiveSampler(value);
            }
        }
        ConditionalSampler.prototype.take = function (n) {
            var keys;
            keys = utils.repLen(this.conditions, n);
            return _.flatten(this.takeCondition(keys));
        };
        ConditionalSampler.prototype.takeCondition = function (keys) {
            var key, _i, _len, _results;
            _results = [];
            for (_i = 0, _len = keys.length; _i < _len; _i++) {
                key = keys[_i];
                _results.push(this.samplerSet[key].take(1));
            }
            return _results;
        };
        return ConditionalSampler;
    }(Sampler);
}.call(this));
});
require.define('115', function(module, exports, __dirname, __filename, undefined){
(function () {
    var Base, DotSet, Kinetic, RandomDotMotion, x, _, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    Base = require('73', module);
    _ = require('2', module);
    Kinetic = require('27', module);
    DotSet = function () {
        DotSet.randomDelta = function (distance) {
            var rads;
            rads = Math.random() * Math.PI * 2;
            return [
                distance * Math.cos(rads),
                distance * Math.sin(rads)
            ];
        };
        DotSet.coherentDelta = function (distance, direction) {
            return [
                distance * Math.cos(Math.PI * direction / 180),
                distance * Math.sin(Math.PI * direction / 180)
            ];
        };
        DotSet.pointInCircle = function () {
            var r, t, u;
            t = 2 * Math.PI * Math.random();
            u = Math.random() + Math.random();
            r = u > 1 ? 2 - u : u;
            return [
                r * Math.cos(t),
                r * Math.sin(t)
            ];
        };
        DotSet.inCircle = function (center_x, center_y, radius, x, y) {
            var squareDist;
            squareDist = Math.pow(center_x - x, 2) + Math.pow(center_y - y, 2);
            return squareDist <= Math.pow(radius, 2);
        };
        function DotSet(ndots, nparts, coherence) {
            var _this = this;
            this.ndots = ndots;
            this.nparts = nparts != null ? nparts : 3;
            if (coherence == null) {
                coherence = 0.5;
            }
            this.frameNum = 0;
            this.dotsPerSet = Math.round(this.ndots / this.nparts);
            this.dotSets = _.map([
                0,
                1,
                2
            ], function (i) {
                var _i, _ref, _results;
                return _.map(function () {
                    _results = [];
                    for (var _i = 0, _ref = _this.dotsPerSet; 0 <= _ref ? _i < _ref : _i > _ref; 0 <= _ref ? _i++ : _i--) {
                        _results.push(_i);
                    }
                    return _results;
                }.apply(this), function (d) {
                    return [
                        Math.random(),
                        Math.random()
                    ];
                });
            });
        }
        DotSet.prototype.getDotPartition = function (i) {
            return this.dotSets[i];
        };
        DotSet.prototype.nextFrame = function (coherence, distance, direction) {
            var delta, dset, i, partition, res, xy;
            partition = this.frameNum % this.nparts;
            dset = this.dotSets[partition];
            res = function () {
                var _i, _ref, _results;
                _results = [];
                for (i = _i = 0, _ref = dset.length; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
                    xy = dset[i];
                    delta = Math.random() < coherence ? DotSet.coherentDelta(distance, direction) : DotSet.randomDelta(distance);
                    xy = [
                        xy[0] + delta[0],
                        xy[1] + delta[1]
                    ];
                    if (xy[0] < 0 || xy[0] > 1 || xy[1] < 0 || xy[1] > 1) {
                        xy = [
                            Math.random(),
                            Math.random()
                        ];
                    }
                    _results.push(dset[i] = xy);
                }
                return _results;
            }();
            this.frameNum = this.frameNum + 1;
            return res;
        };
        return DotSet;
    }();
    exports.RandomDotMotion = RandomDotMotion = function (_super) {
        __extends(RandomDotMotion, _super);
        function RandomDotMotion(spec) {
            if (spec == null) {
                spec = {
                    x: 0,
                    y: 0,
                    numDots: 70,
                    apRadius: 400,
                    dotSpeed: 0.02,
                    dotSize: 2,
                    coherence: 0.55,
                    partitions: 3
                };
            }
            this.numDots = spec.numDots;
            this.apRadius = spec.apRadius;
            this.dotSpeed = spec.dotSpeed;
            this.dotSize = spec.dotSize;
            this.coherence = spec.coherence;
            this.partitions = spec.partitions;
            this.x = spec.x;
            this.y = spec.y;
            this.dotSet = new DotSet(this.numDots, 3, 0.5);
        }
        RandomDotMotion.prototype.createDots = function () {
            var dots, xy, _i, _len, _results;
            dots = this.dotSet.nextFrame(this.coherence, this.dotSpeed, 180);
            _results = [];
            for (_i = 0, _len = dots.length; _i < _len; _i++) {
                xy = dots[_i];
                _results.push(new Kinetic.Rect({
                    x: this.x + this.apRadius * xy[0],
                    y: this.x + this.apRadius * xy[1],
                    width: this.dotSize,
                    height: this.dotSize,
                    fill: 'green'
                }));
            }
            return _results;
        };
        RandomDotMotion.prototype.createInitialDots = function () {
            var dpart, i, xy, _i, _ref, _results;
            _results = [];
            for (i = _i = 0, _ref = this.partitions; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
                dpart = this.dotSet.getDotPartition(i);
                _results.push(function () {
                    var _j, _len, _results1;
                    _results1 = [];
                    for (_j = 0, _len = dpart.length; _j < _len; _j++) {
                        xy = dpart[_j];
                        _results1.push(new Kinetic.Rect({
                            x: this.x + this.apRadius * xy[0],
                            y: this.x + this.apRadius * xy[1],
                            width: this.dotSize,
                            height: this.dotSize,
                            fill: 'green'
                        }));
                    }
                    return _results1;
                }.call(this));
            }
            return _results;
        };
        RandomDotMotion.prototype.displayInitialDots = function (nodes, group) {
            var node, _i, _len, _results;
            _results = [];
            for (_i = 0, _len = nodes.length; _i < _len; _i++) {
                node = nodes[_i];
                _results.push(group.add(node));
            }
            return _results;
        };
        RandomDotMotion.prototype.render = function (context, layer) {
            var i, nodeSets, _i, _ref, _this = this;
            this.groups = function () {
                var _i, _ref, _results;
                _results = [];
                for (i = _i = 0, _ref = this.partitions; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
                    _results.push(new Kinetic.Group({ listening: false }));
                }
                return _results;
            }.call(this);
            _.map(this.groups, function (g) {
                return layer.add(g);
            });
            nodeSets = this.createInitialDots();
            for (i = _i = 0, _ref = this.partitions; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
                this.displayInitialDots(nodeSets[i], this.groups[i]);
            }
            layer.draw();
            this.anim = new Kinetic.Animation(function (frame) {
                var curset, dx, part, xy, _j, _ref1, _results;
                dx = _this.dotSet.nextFrame(_this.coherence, _this.dotSpeed, 180);
                part = _this.dotSet.frameNum % _this.partitions;
                curset = nodeSets[part];
                _results = [];
                for (i = _j = 0, _ref1 = curset.length; 0 <= _ref1 ? _j < _ref1 : _j > _ref1; i = 0 <= _ref1 ? ++_j : --_j) {
                    xy = dx[i];
                    xy = [
                        xy[0] * _this.apRadius,
                        xy[1] * _this.apRadius
                    ];
                    console.log(xy);
                    curset[i].setPosition(xy);
                    if (!DotSet.inCircle(0.5 * _this.apRadius, 0.5 * _this.apRadius, _this.apRadius / 2, xy[0], xy[1])) {
                        _results.push(curset[i].hide());
                    } else {
                        _results.push(curset[i].show());
                    }
                }
                return _results;
            }, layer);
            layer.draw();
            return this.anim.start();
        };
        RandomDotMotion.prototype.render2 = function (context, layer) {
            var i, nodeSets, _i, _ref, _this = this;
            this.layers = function () {
                var _i, _ref, _results;
                _results = [];
                for (i = _i = 0, _ref = this.partitions; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
                    _results.push(new Kinetic.Layer({ listening: false }));
                }
                return _results;
            }.call(this);
            _.map(this.layers, function (l) {
                return context.stage.add(l);
            });
            nodeSets = this.createInitialDots();
            for (i = _i = 0, _ref = this.partitions; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
                this.displayInitialDots(nodeSets[i], this.layers[i]);
            }
            this.anim = new Kinetic.Animation(function (frame) {
                var curset, dx, part, xy, _j, _ref1;
                dx = _this.dotSet.nextFrame(_this.coherence, _this.dotSpeed, 180);
                part = _this.dotSet.frameNum % _this.partitions;
                curset = nodeSets[part];
                for (i = _j = 0, _ref1 = curset.length; 0 <= _ref1 ? _j < _ref1 : _j > _ref1; i = 0 <= _ref1 ? ++_j : --_j) {
                    xy = dx[i];
                    xy = [
                        xy[0] * _this.apRadius,
                        xy[1] * _this.apRadius
                    ];
                    console.log(xy);
                    curset[i].setPosition(xy);
                }
                return _this.layers[part].draw();
            });
            layer.draw();
            return this.anim.start();
        };
        RandomDotMotion.prototype.stop = function (context) {
            return this.anim.stop();
        };
        return RandomDotMotion;
    }(Base.Stimulus);
    x = new DotSet(51, 3);
    console.log(x.dotSets);
    console.log('NEXT', x.nextFrame(0.5, 0.01, 180));
}.call(this));
});
require.define('114', function(module, exports, __dirname, __filename, undefined){
(function () {
    var AbsoluteLayout, Background, Bacon, Base, GridLayout, Kinetic, KineticStimFactory, Layout, Q, Response, Stimulus, disableBrowserBack, doTimer, getTimestamp, input, lay, li, marked, renderable, ul, utils, _, _ref;
    Bacon = require('25', module).Bacon;
    Kinetic = require('27', module);
    _ = require('2', module);
    Q = require('9', module);
    marked = require('40', module);
    utils = require('76', module);
    lay = require('74', module);
    Base = require('73', module);
    Stimulus = Base.Stimulus;
    Response = Base.Response;
    Background = require('119', module).Background;
    _ref = require('60', module), renderable = _ref.renderable, ul = _ref.ul, li = _ref.li, input = _ref.input;
    Layout = lay.Layout;
    AbsoluteLayout = lay.AbsoluteLayout;
    GridLayout = lay.GridLayout;
    doTimer = utils.doTimer;
    disableBrowserBack = utils.disableBrowserBack;
    getTimestamp = utils.getTimeStamp;
    exports.KineticStimFactory = KineticStimFactory = function () {
        function KineticStimFactory() {
            console.log('making stim factory');
        }
        KineticStimFactory.prototype.makeLayout = function (name, params, context) {
        };
        KineticStimFactory.prototype.makeInstructions = function (spec) {
        };
        KineticStimFactory.prototype.makeStimulus = function (name, params, context) {
        };
        KineticStimFactory.prototype.makeResponse = function (name, params, context) {
        };
        KineticStimFactory.prototype.makeEvent = function (stim, response) {
        };
        return KineticStimFactory;
    }();
}.call(this));
});
require.define('119', function(module, exports, __dirname, __filename, undefined){
(function () {
    var Background, Kinetic, Stimulus, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    Kinetic = require('27', module).Kinetic;
    Stimulus = require('73', module).Stimulus;
    Background = function (_super) {
        __extends(Background, _super);
        function Background(stims, fill) {
            this.stims = stims != null ? stims : [];
            this.fill = fill != null ? fill : 'white';
            Background.__super__.constructor.call(this, {}, {});
        }
        Background.prototype.render = function (context, layer) {
            var background, stim, _i, _len, _ref, _results;
            background = new Kinetic.Rect({
                x: 0,
                y: 0,
                width: context.width(),
                height: context.height(),
                name: 'background',
                fill: this.fill
            });
            layer.add(background);
            _ref = this.stims;
            _results = [];
            for (_i = 0, _len = _ref.length; _i < _len; _i++) {
                stim = _ref[_i];
                _results.push(stim.render(context, layer));
            }
            return _results;
        };
        return Background;
    }(Stimulus);
    exports.Background = Background;
}.call(this));
});
require.define('120', function(module, exports, __dirname, __filename, undefined){
RegExp.escape = function (s) {
    return s.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&');
};
(function (undefined) {
    'use strict';
    var $;
    if (typeof jQuery !== 'undefined' && jQuery) {
        $ = jQuery;
    } else {
        $ = {};
    }
    $.csv = {
        defaults: {
            separator: ',',
            delimiter: '"',
            headers: true
        },
        hooks: {
            castToScalar: function (value, state) {
                var hasDot = /\./;
                if (isNaN(value)) {
                    return value;
                } else {
                    if (hasDot.test(value)) {
                        return parseFloat(value);
                    } else {
                        var integer = parseInt(value);
                        if (isNaN(integer)) {
                            return null;
                        } else {
                            return integer;
                        }
                    }
                }
            }
        },
        parsers: {
            parse: function (csv, options) {
                var separator = options.separator;
                var delimiter = options.delimiter;
                if (!options.state.rowNum) {
                    options.state.rowNum = 1;
                }
                if (!options.state.colNum) {
                    options.state.colNum = 1;
                }
                var data = [];
                var entry = [];
                var state = 0;
                var value = '';
                var exit = false;
                function endOfEntry() {
                    state = 0;
                    value = '';
                    if (options.start && options.state.rowNum < options.start) {
                        entry = [];
                        options.state.rowNum++;
                        options.state.colNum = 1;
                        return;
                    }
                    if (options.onParseEntry === undefined) {
                        data.push(entry);
                    } else {
                        var hookVal = options.onParseEntry(entry, options.state);
                        if (hookVal !== false) {
                            data.push(hookVal);
                        }
                    }
                    entry = [];
                    if (options.end && options.state.rowNum >= options.end) {
                        exit = true;
                    }
                    options.state.rowNum++;
                    options.state.colNum = 1;
                }
                function endOfValue() {
                    if (options.onParseValue === undefined) {
                        entry.push(value);
                    } else {
                        var hook = options.onParseValue(value, options.state);
                        if (hook !== false) {
                            entry.push(hook);
                        }
                    }
                    value = '';
                    state = 0;
                    options.state.colNum++;
                }
                var escSeparator = RegExp.escape(separator);
                var escDelimiter = RegExp.escape(delimiter);
                var match = /(D|S|\r\n|\n|\r|[^DS\r\n]+)/;
                var matchSrc = match.source;
                matchSrc = matchSrc.replace(/S/g, escSeparator);
                matchSrc = matchSrc.replace(/D/g, escDelimiter);
                match = RegExp(matchSrc, 'gm');
                csv.replace(match, function (m0) {
                    if (exit) {
                        return;
                    }
                    switch (state) {
                    case 0:
                        if (m0 === separator) {
                            value += '';
                            endOfValue();
                            break;
                        }
                        if (m0 === delimiter) {
                            state = 1;
                            break;
                        }
                        if (/^(\r\n|\n|\r)$/.test(m0)) {
                            endOfValue();
                            endOfEntry();
                            break;
                        }
                        value += m0;
                        state = 3;
                        break;
                    case 1:
                        if (m0 === delimiter) {
                            state = 2;
                            break;
                        }
                        value += m0;
                        state = 1;
                        break;
                    case 2:
                        if (m0 === delimiter) {
                            value += m0;
                            state = 1;
                            break;
                        }
                        if (m0 === separator) {
                            endOfValue();
                            break;
                        }
                        if (/^(\r\n|\n|\r)$/.test(m0)) {
                            endOfValue();
                            endOfEntry();
                            break;
                        }
                        throw new Error('CSVDataError: Illegal State [Row:' + options.state.rowNum + '][Col:' + options.state.colNum + ']');
                    case 3:
                        if (m0 === separator) {
                            endOfValue();
                            break;
                        }
                        if (/^(\r\n|\n|\r)$/.test(m0)) {
                            endOfValue();
                            endOfEntry();
                            break;
                        }
                        if (m0 === delimiter) {
                            throw new Error('CSVDataError: Illegal Quote [Row:' + options.state.rowNum + '][Col:' + options.state.colNum + ']');
                        }
                        throw new Error('CSVDataError: Illegal Data [Row:' + options.state.rowNum + '][Col:' + options.state.colNum + ']');
                    default:
                        throw new Error('CSVDataError: Unknown State [Row:' + options.state.rowNum + '][Col:' + options.state.colNum + ']');
                    }
                });
                if (entry.length !== 0) {
                    endOfValue();
                    endOfEntry();
                }
                return data;
            },
            splitLines: function (csv, options) {
                var separator = options.separator;
                var delimiter = options.delimiter;
                if (!options.state.rowNum) {
                    options.state.rowNum = 1;
                }
                var entries = [];
                var state = 0;
                var entry = '';
                var exit = false;
                function endOfLine() {
                    state = 0;
                    if (options.start && options.state.rowNum < options.start) {
                        entry = '';
                        options.state.rowNum++;
                        return;
                    }
                    if (options.onParseEntry === undefined) {
                        entries.push(entry);
                    } else {
                        var hookVal = options.onParseEntry(entry, options.state);
                        if (hookVal !== false) {
                            entries.push(hookVal);
                        }
                    }
                    entry = '';
                    if (options.end && options.state.rowNum >= options.end) {
                        exit = true;
                    }
                    options.state.rowNum++;
                }
                var escSeparator = RegExp.escape(separator);
                var escDelimiter = RegExp.escape(delimiter);
                var match = /(D|S|\n|\r|[^DS\r\n]+)/;
                var matchSrc = match.source;
                matchSrc = matchSrc.replace(/S/g, escSeparator);
                matchSrc = matchSrc.replace(/D/g, escDelimiter);
                match = RegExp(matchSrc, 'gm');
                csv.replace(match, function (m0) {
                    if (exit) {
                        return;
                    }
                    switch (state) {
                    case 0:
                        if (m0 === separator) {
                            entry += m0;
                            state = 0;
                            break;
                        }
                        if (m0 === delimiter) {
                            entry += m0;
                            state = 1;
                            break;
                        }
                        if (m0 === '\n') {
                            endOfLine();
                            break;
                        }
                        if (/^\r$/.test(m0)) {
                            break;
                        }
                        entry += m0;
                        state = 3;
                        break;
                    case 1:
                        if (m0 === delimiter) {
                            entry += m0;
                            state = 2;
                            break;
                        }
                        entry += m0;
                        state = 1;
                        break;
                    case 2:
                        var prevChar = entry.substr(entry.length - 1);
                        if (m0 === delimiter && prevChar === delimiter) {
                            entry += m0;
                            state = 1;
                            break;
                        }
                        if (m0 === separator) {
                            entry += m0;
                            state = 0;
                            break;
                        }
                        if (m0 === '\n') {
                            endOfLine();
                            break;
                        }
                        if (m0 === '\r') {
                            break;
                        }
                        throw new Error('CSVDataError: Illegal state [Row:' + options.state.rowNum + ']');
                    case 3:
                        if (m0 === separator) {
                            entry += m0;
                            state = 0;
                            break;
                        }
                        if (m0 === '\n') {
                            endOfLine();
                            break;
                        }
                        if (m0 === '\r') {
                            break;
                        }
                        if (m0 === delimiter) {
                            throw new Error('CSVDataError: Illegal quote [Row:' + options.state.rowNum + ']');
                        }
                        throw new Error('CSVDataError: Illegal state [Row:' + options.state.rowNum + ']');
                    default:
                        throw new Error('CSVDataError: Unknown state [Row:' + options.state.rowNum + ']');
                    }
                });
                if (entry !== '') {
                    endOfLine();
                }
                return entries;
            },
            parseEntry: function (csv, options) {
                var separator = options.separator;
                var delimiter = options.delimiter;
                if (!options.state.rowNum) {
                    options.state.rowNum = 1;
                }
                if (!options.state.colNum) {
                    options.state.colNum = 1;
                }
                var entry = [];
                var state = 0;
                var value = '';
                function endOfValue() {
                    if (options.onParseValue === undefined) {
                        entry.push(value);
                    } else {
                        var hook = options.onParseValue(value, options.state);
                        if (hook !== false) {
                            entry.push(hook);
                        }
                    }
                    value = '';
                    state = 0;
                    options.state.colNum++;
                }
                if (!options.match) {
                    var escSeparator = RegExp.escape(separator);
                    var escDelimiter = RegExp.escape(delimiter);
                    var match = /(D|S|\n|\r|[^DS\r\n]+)/;
                    var matchSrc = match.source;
                    matchSrc = matchSrc.replace(/S/g, escSeparator);
                    matchSrc = matchSrc.replace(/D/g, escDelimiter);
                    options.match = RegExp(matchSrc, 'gm');
                }
                csv.replace(options.match, function (m0) {
                    switch (state) {
                    case 0:
                        if (m0 === separator) {
                            value += '';
                            endOfValue();
                            break;
                        }
                        if (m0 === delimiter) {
                            state = 1;
                            break;
                        }
                        if (m0 === '\n' || m0 === '\r') {
                            break;
                        }
                        value += m0;
                        state = 3;
                        break;
                    case 1:
                        if (m0 === delimiter) {
                            state = 2;
                            break;
                        }
                        value += m0;
                        state = 1;
                        break;
                    case 2:
                        if (m0 === delimiter) {
                            value += m0;
                            state = 1;
                            break;
                        }
                        if (m0 === separator) {
                            endOfValue();
                            break;
                        }
                        if (m0 === '\n' || m0 === '\r') {
                            break;
                        }
                        throw new Error('CSVDataError: Illegal State [Row:' + options.state.rowNum + '][Col:' + options.state.colNum + ']');
                    case 3:
                        if (m0 === separator) {
                            endOfValue();
                            break;
                        }
                        if (m0 === '\n' || m0 === '\r') {
                            break;
                        }
                        if (m0 === delimiter) {
                            throw new Error('CSVDataError: Illegal Quote [Row:' + options.state.rowNum + '][Col:' + options.state.colNum + ']');
                        }
                        throw new Error('CSVDataError: Illegal Data [Row:' + options.state.rowNum + '][Col:' + options.state.colNum + ']');
                    default:
                        throw new Error('CSVDataError: Unknown State [Row:' + options.state.rowNum + '][Col:' + options.state.colNum + ']');
                    }
                });
                endOfValue();
                return entry;
            }
        },
        helpers: {
            collectPropertyNames: function (objects) {
                var o, propName, props = [];
                for (o in objects) {
                    for (propName in objects[o]) {
                        if (objects[o].hasOwnProperty(propName) && props.indexOf(propName) < 0 && typeof objects[o][propName] !== 'function') {
                            props.push(propName);
                        }
                    }
                }
                return props;
            }
        },
        toArray: function (csv, options, callback) {
            var options = options !== undefined ? options : {};
            var config = {};
            config.callback = callback !== undefined && typeof callback === 'function' ? callback : false;
            config.separator = 'separator' in options ? options.separator : $.csv.defaults.separator;
            config.delimiter = 'delimiter' in options ? options.delimiter : $.csv.defaults.delimiter;
            var state = options.state !== undefined ? options.state : {};
            var options = {
                    delimiter: config.delimiter,
                    separator: config.separator,
                    onParseEntry: options.onParseEntry,
                    onParseValue: options.onParseValue,
                    state: state
                };
            var entry = $.csv.parsers.parseEntry(csv, options);
            if (!config.callback) {
                return entry;
            } else {
                config.callback('', entry);
            }
        },
        toArrays: function (csv, options, callback) {
            var options = options !== undefined ? options : {};
            var config = {};
            config.callback = callback !== undefined && typeof callback === 'function' ? callback : false;
            config.separator = 'separator' in options ? options.separator : $.csv.defaults.separator;
            config.delimiter = 'delimiter' in options ? options.delimiter : $.csv.defaults.delimiter;
            var data = [];
            var options = {
                    delimiter: config.delimiter,
                    separator: config.separator,
                    onParseEntry: options.onParseEntry,
                    onParseValue: options.onParseValue,
                    start: options.start,
                    end: options.end,
                    state: {
                        rowNum: 1,
                        colNum: 1
                    }
                };
            data = $.csv.parsers.parse(csv, options);
            if (!config.callback) {
                return data;
            } else {
                config.callback('', data);
            }
        },
        toObjects: function (csv, options, callback) {
            var options = options !== undefined ? options : {};
            var config = {};
            config.callback = callback !== undefined && typeof callback === 'function' ? callback : false;
            config.separator = 'separator' in options ? options.separator : $.csv.defaults.separator;
            config.delimiter = 'delimiter' in options ? options.delimiter : $.csv.defaults.delimiter;
            config.headers = 'headers' in options ? options.headers : $.csv.defaults.headers;
            options.start = 'start' in options ? options.start : 1;
            if (config.headers) {
                options.start++;
            }
            if (options.end && config.headers) {
                options.end++;
            }
            var lines = [];
            var data = [];
            var options = {
                    delimiter: config.delimiter,
                    separator: config.separator,
                    onParseEntry: options.onParseEntry,
                    onParseValue: options.onParseValue,
                    start: options.start,
                    end: options.end,
                    state: {
                        rowNum: 1,
                        colNum: 1
                    },
                    match: false,
                    transform: options.transform
                };
            var headerOptions = {
                    delimiter: config.delimiter,
                    separator: config.separator,
                    start: 1,
                    end: 1,
                    state: {
                        rowNum: 1,
                        colNum: 1
                    }
                };
            var headerLine = $.csv.parsers.splitLines(csv, headerOptions);
            var headers = $.csv.toArray(headerLine[0], options);
            var lines = $.csv.parsers.splitLines(csv, options);
            options.state.colNum = 1;
            if (headers) {
                options.state.rowNum = 2;
            } else {
                options.state.rowNum = 1;
            }
            for (var i = 0, len = lines.length; i < len; i++) {
                var entry = $.csv.toArray(lines[i], options);
                var object = {};
                for (var j in headers) {
                    object[headers[j]] = entry[j];
                }
                if (options.transform !== undefined) {
                    data.push(options.transform.call(undefined, object));
                } else {
                    data.push(object);
                }
                options.state.rowNum++;
            }
            if (!config.callback) {
                return data;
            } else {
                config.callback('', data);
            }
        },
        fromArrays: function (arrays, options, callback) {
            var options = options !== undefined ? options : {};
            var config = {};
            config.callback = callback !== undefined && typeof callback === 'function' ? callback : false;
            config.separator = 'separator' in options ? options.separator : $.csv.defaults.separator;
            config.delimiter = 'delimiter' in options ? options.delimiter : $.csv.defaults.delimiter;
            var output = '', line, lineValues, i, j;
            for (i = 0; i < arrays.length; i++) {
                line = arrays[i];
                lineValues = [];
                for (j = 0; j < line.length; j++) {
                    var strValue = line[j] === undefined || line[j] === null ? '' : line[j].toString();
                    if (strValue.indexOf(config.delimiter) > -1) {
                        strValue = strValue.replace(config.delimiter, config.delimiter + config.delimiter);
                    }
                    var escMatcher = '\n|\r|S|D';
                    escMatcher = escMatcher.replace('S', config.separator);
                    escMatcher = escMatcher.replace('D', config.delimiter);
                    if (strValue.search(escMatcher) > -1) {
                        strValue = config.delimiter + strValue + config.delimiter;
                    }
                    lineValues.push(strValue);
                }
                output += lineValues.join(config.separator) + '\r\n';
            }
            if (!config.callback) {
                return output;
            } else {
                config.callback('', output);
            }
        },
        fromObjects: function (objects, options, callback) {
            var options = options !== undefined ? options : {};
            var config = {};
            config.callback = callback !== undefined && typeof callback === 'function' ? callback : false;
            config.separator = 'separator' in options ? options.separator : $.csv.defaults.separator;
            config.delimiter = 'delimiter' in options ? options.delimiter : $.csv.defaults.delimiter;
            config.headers = 'headers' in options ? options.headers : $.csv.defaults.headers;
            config.sortOrder = 'sortOrder' in options ? options.sortOrder : 'declare';
            config.manualOrder = 'manualOrder' in options ? options.manualOrder : [];
            config.transform = options.transform;
            if (typeof config.manualOrder === 'string') {
                config.manualOrder = $.csv.toArray(config.manualOrder, config);
            }
            if (config.transform !== undefined) {
                var origObjects = objects;
                objects = [];
                var i;
                for (i = 0; i < origObjects.length; i++) {
                    objects.push(config.transform.call(undefined, origObjects[i]));
                }
            }
            var props = $.csv.helpers.collectPropertyNames(objects);
            if (config.sortOrder === 'alpha') {
                props.sort();
            }
            if (config.manualOrder.length > 0) {
                var propsManual = [].concat(config.manualOrder);
                var p;
                for (p = 0; p < props.length; p++) {
                    if (propsManual.indexOf(props[p]) < 0) {
                        propsManual.push(props[p]);
                    }
                }
                props = propsManual;
            }
            var o, p, line, output = [], propName;
            if (config.headers) {
                output.push(props);
            }
            for (o = 0; o < objects.length; o++) {
                line = [];
                for (p = 0; p < props.length; p++) {
                    propName = props[p];
                    if (propName in objects[o] && typeof objects[o][propName] !== 'function') {
                        line.push(objects[o][propName]);
                    } else {
                        line.push('');
                    }
                }
                output.push(line);
            }
            return $.csv.fromArrays(output, options, config.callback);
        }
    };
    $.csvEntry2Array = $.csv.toArray;
    $.csv2Array = $.csv.toArrays;
    $.csv2Dictionary = $.csv.toObjects;
    if (typeof module !== 'undefined' && module.exports) {
        module.exports = $.csv;
    }
}.call(this));
});
require.define('122', function(module, exports, __dirname, __filename, undefined){
(function () {
    var Canvas, ComponentFactory, Components, DefaultComponentFactory, Html, Layout, Psy, _, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    _ = require('2', module);
    Canvas = require('80', module).Canvas;
    Html = require('81', module).Html;
    Components = require('82', module);
    Psy = require('83', module);
    Layout = require('74', module);
    ComponentFactory = function () {
        function ComponentFactory(context) {
            this.context = context;
        }
        ComponentFactory.prototype.buildStimulus = function (spec) {
            var params, stimType;
            stimType = _.keys(spec)[0];
            params = _.values(spec)[0];
            return this.makeStimulus(stimType, params);
        };
        ComponentFactory.prototype.buildResponse = function (spec) {
            var params, responseType;
            responseType = _.keys(spec)[0];
            params = _.values(spec)[0];
            return this.makeResponse(responseType, params);
        };
        ComponentFactory.prototype.buildEvent = function (spec) {
            var response, responseSpec, stim, stimSpec;
            if (spec.Next == null) {
                console.log('error building event with spec: ', spec);
                throw new Error('Event specification does not contain \'Next\' element');
            }
            stimSpec = _.omit(spec, 'Next');
            responseSpec = _.pick(spec, 'Next');
            stim = this.buildStimulus(stimSpec);
            response = this.buildResponse(responseSpec.Next);
            return this.makeEvent(stim, response);
        };
        ComponentFactory.prototype.make = function (name, params, registry) {
            throw new Error('unimplemented', name, params, registry);
        };
        ComponentFactory.prototype.makeStimulus = function (name, params) {
            throw new Error('unimplemented', name, params);
        };
        ComponentFactory.prototype.makeResponse = function (name, params) {
            throw new Error('unimplemented', name, params);
        };
        ComponentFactory.prototype.makeEvent = function (stim, response) {
            throw new Error('unimplemented', stim, response);
        };
        ComponentFactory.prototype.makeLayout = function (name, params, context) {
            throw new Error('unimplemented', name, params, context);
        };
        return ComponentFactory;
    }();
    exports.ComponentFactory = ComponentFactory;
    DefaultComponentFactory = function (_super) {
        __extends(DefaultComponentFactory, _super);
        function DefaultComponentFactory() {
            this.registry = _.merge(Components, Canvas, Html);
        }
        DefaultComponentFactory.prototype.make = function (name, params, registry) {
            var callee, layoutName, layoutParams, names, props, resps, stims, _i, _j, _k, _ref, _ref1, _ref2, _results, _results1, _results2, _this = this;
            callee = arguments.callee;
            console.log('making', name);
            switch (name) {
            case 'Group':
                console.log('building group');
                names = _.map(params.stims, function (stim) {
                    return _.keys(stim)[0];
                });
                props = _.map(params.stims, function (stim) {
                    return _.values(stim)[0];
                });
                stims = _.map(function () {
                    _results = [];
                    for (var _i = 0, _ref = names.length; 0 <= _ref ? _i < _ref : _i > _ref; 0 <= _ref ? _i++ : _i--) {
                        _results.push(_i);
                    }
                    return _results;
                }.apply(this), function (i) {
                    return callee(names[i], props[i], _this.registry);
                });
                if (params.layout != null) {
                    layoutName = _.keys(params.layout)[0];
                    layoutParams = _.values(params.layout)[0];
                    return new Components.Group(stims, this.makeLayout(layoutName, layoutParams, context));
                } else {
                    return new Components.Group(stims);
                }
                break;
            case 'Background':
                console.log('building background', params);
                names = _.keys(params);
                props = _.values(params);
                console.log('names', names);
                console.log('props', props);
                stims = _.map(function () {
                    _results1 = [];
                    for (var _j = 0, _ref1 = names.length; 0 <= _ref1 ? _j < _ref1 : _j > _ref1; 0 <= _ref1 ? _j++ : _j--) {
                        _results1.push(_j);
                    }
                    return _results1;
                }.apply(this), function (i) {
                    return callee(names[i], props[i], _this.registry);
                });
                return new Canvas.Background(stims);
            case 'First':
                names = _.keys(params);
                props = _.values(params);
                resps = _.map(function () {
                    _results2 = [];
                    for (var _k = 0, _ref2 = names.length; 0 <= _ref2 ? _k < _ref2 : _k > _ref2; 0 <= _ref2 ? _k++ : _k--) {
                        _results2.push(_k);
                    }
                    return _results2;
                }.apply(this), function (i) {
                    return callee(names[i], props[i], _this.registry);
                });
                return new Components.First(resps);
            default:
                if (registry[name] == null) {
                    console.log('registry is', registry);
                    throw new Error('DefaultComponentFactory:make cannot find component in registry named: ', name);
                }
                return new registry[name](params);
            }
        };
        DefaultComponentFactory.prototype.makeStimulus = function (name, params) {
            return this.make(name, params, this.registry);
        };
        DefaultComponentFactory.prototype.makeResponse = function (name, params) {
            return this.make(name, params, this.registry);
        };
        DefaultComponentFactory.prototype.makeEvent = function (stim, response) {
            return new Psy.Event(stim, response);
        };
        DefaultComponentFactory.prototype.makeLayout = function (name, params, context) {
            switch (name) {
            case 'Grid':
                return new Layout.GridLayout(params[0], params[1], {
                    x: 0,
                    y: 0,
                    width: context.width(),
                    height: context.height()
                });
            default:
                return console.log('unrecognized layout', name);
            }
        };
        return DefaultComponentFactory;
    }(ComponentFactory);
    exports.DefaultComponentFactory = DefaultComponentFactory;
    exports.componentFactory = new DefaultComponentFactory();
    console.log('exports.DefaultComponentFactory', DefaultComponentFactory);
}.call(this));
});
require.define('123', function(module, exports, __dirname, __filename, undefined){
(function () {
    var divide_list, get_type, __slice = [].slice;
    get_type = function (varable) {
        var as_string;
        as_string = Object.prototype.toString.call(varable);
        return as_string.slice(1, -1).split(' ')[1].toLowerCase();
    };
    divide_list = function (stack, long_list) {
        var keys;
        if (long_list.length > 0) {
            if (get_type(long_list[0]) === 'object') {
                keys = Object.keys(long_list[0]);
                keys.forEach(function (key) {
                    return stack.push({
                        pattern: key,
                        result: long_list[0][key]
                    });
                });
                return divide_list(stack, long_list.slice(1));
            } else {
                stack.push({
                    pattern: long_list[0],
                    result: long_list[1]
                });
                return divide_list(stack, long_list.slice(2));
            }
        } else {
            return stack;
        }
    };
    exports.match = function () {
        var choices, chosen, data, possible, sure;
        data = arguments[0], choices = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
        possible = divide_list([], choices).filter(function (solution) {
            var the_type;
            the_type = get_type(solution.pattern);
            if (solution.pattern === void 0) {
                return true;
            } else if (the_type === 'regexp') {
                if (get_type(data) === 'string') {
                    return data.match(solution.pattern);
                } else {
                    return false;
                }
            } else if (the_type === 'function') {
                return solution.pattern(data);
            } else {
                return data === solution.pattern;
            }
        });
        sure = possible.filter(function (solution) {
            return solution.pattern != null;
        });
        chosen = sure.length > 0 ? sure[0] : possible[0];
        if (chosen != null) {
            if (get_type(chosen.result) === 'function') {
                return chosen.result(data);
            } else {
                return chosen.result;
            }
        } else {
            return chosen;
        }
    };
}.call(this));
});
require.define('124', function(module, exports, __dirname, __filename, undefined){
(function () {
    var Nothing, Stimulus, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
            for (var key in parent) {
                if (__hasProp.call(parent, key))
                    child[key] = parent[key];
            }
            function ctor() {
                this.constructor = child;
            }
            ctor.prototype = parent.prototype;
            child.prototype = new ctor();
            child.__super__ = parent.prototype;
            return child;
        };
    Stimulus = require('73', module).Stimulus;
    Nothing = function (_super) {
        __extends(Nothing, _super);
        function Nothing(spec) {
            if (spec == null) {
                spec = {};
            }
            Nothing.__super__.constructor.call(this, spec);
        }
        Nothing.prototype.render = function (context, layer) {
        };
        return Nothing;
    }(Stimulus);
    exports.Nothing = Nothing;
}.call(this));
});
return require('55');
})((function() {
  var loading = {};
  var files = {};
  var outer;
  if (typeof require === 'function') {
    outer = require;
  }
  function inner(id, parentModule) {
    if({}.hasOwnProperty.call(inner.cache, id))
      return inner.cache[id];

    if({}.hasOwnProperty.call(loading, id))
      return loading[id].exports;

    var resolved = inner.resolve(id);
    if(!resolved && outer) {
      return inner.cache[id] = outer(id);
    }
    if(!resolved) throw new Error("Failed to resolve module '" + id + "'");

    var dirname;
    var filename = files[id] || '';
    if (filename && typeof __dirname === 'string')
      filename = __dirname + '/' + filename;
    if (filename)
      dirname = filename.slice(0, filename.lastIndexOf('/') + 1);
    else
      dirname = '';
    var module$ = {
      id: id,
      require: inner,
      exports: {},
      loaded: false,
      parent: parentModule,
      children: []
    };
    if(parentModule) parentModule.children.push(module$);

    loading[id] = module$;
    resolved.call(this, module$, module$.exports, dirname, filename);
    inner.cache[id] = module$.exports;
    delete loading[id];
    module$.loaded = true;
    return inner.cache[id] = module$.exports;
  }

  inner.modules = {};
  inner.cache = {};

  inner.resolve = function(id){
    return {}.hasOwnProperty.call(inner.modules, id) ? inner.modules[id] : void 0;
  };
  inner.define = function(id, fn){ inner.modules[id] = fn; };

  return inner;
})()));
//
{"version":3,"file":"psycloud.js","sources":["jslibs/buzz.js","jslibs/kinetic.js","jslibs/kinetic-v4.7.1.js","src/main.coffee","src/stimresp.js","src/layout.js","src/components/canvas/background.js","src/psycloud.js","src/datatable.js","src/utils.js","src/components/components.js","src/components/click.js","src/components/timeout.js","src/components/sequence.js","src/components/prompt.js","src/components/mousepress.js","src/components/keypress.js","src/components/group.js","src/components/first.js","src/components/confirm.js","src/components/sound.js","src/components/html/html.js","src/components/html/page.js","src/components/html/message.js","src/components/html/markdown.js","src/components/html/instructions.js","src/components/html/htmlicon.js","src/components/html/htmllabel.js","src/components/html/htmllink.js","src/components/html/htmlbutton.js","src/components/canvas/canvas.js","src/components/canvas/textinput.js","src/components/canvas/text.js","src/components/canvas/startbutton.js","src/components/canvas/rectangle.js","src/components/canvas/picture.js","src/components/canvas/gridlines.js","src/components/canvas/canvasborder.js","src/components/canvas/fixationcross.js","src/components/canvas/clear.js","src/components/canvas/circle.js","src/components/canvas/blank.js","src/components/canvas/arrow.js","src/design.js","src/samplers.js","src/dotmotion.js","src/elements.js","src/components/canvas/Background.js","jslibs/jquery.csv.js","src/factory.js","src/components/nothing.js"],"names":["name","context","factory","module","exports","define","amd","buzz","defaults","autoplay","duration","formats","loop","placeholder","preload","volume","document","types","mp3","ogg","wav","aac","m4a","sounds","el","createElement","sound","src","options","doc","pid","events","eventsOnce","supported","isSupported","load","play","togglePlay","paused","pause","isPaused","stop","setTime","isEnded","ended","bind","currentTime","unloop","removeAttribute","unbind","mute","muted","unmute","toggleMute","isMuted","setVolume","getVolume","increaseVolume","value","decreaseVolume","time","set","whenReady","getTime","Math","round","isNaN","setPercent","percent","fromPercent","getPercent","toPercent","setSpeed","playbackRate","getSpeed","getDuration","getPlayed","timerangeToArray","played","getBuffered","buffered","getSeekable","seekable","getErrorCode","error","code","getErrorMessage","getStateCode","readyState","getStateMessage","getNetworkStateCode","networkState","getNetworkStateMessage","key","get","func","split","self","efunc","e","call","t","length","type","idx","push","addEventListener","i","namespace","replace","removeEventListener","splice","bindOnce","trigger","eventType","evt","createEvent","initEvent","dispatchEvent","fadeTo","to","callback","Function","from","delay","abs","doFade","setTimeout","apply","fadeIn","fadeOut","fadeWith","timeRange","array","start","end","getExt","filename","pop","addSource","source","appendChild","hasOwnProperty","Array","j","k","group","argsToArray","arguments","getSounds","add","soundArray","a","remove","fn","fade","args","shift","prototype","slice","all","canPlayType","isOGGSupported","isWAVSupported","isMP3Supported","isAACSupported","toTimer","withHours","h","m","s","floor","fromTimer","splits","toString","parseInt","total","decimal","r","pow","Kinetic","require","version","stages","idCounter","ids","names","shapes","listenClickTap","inDblClickWindow","enableTrace","traceArrMax","dblClickWindow","pixelRatio","undefined","UA","ua","navigator","userAgent","toLowerCase","match","exec","indexOf","browser","Filters","Node","config","_init","Shape","__init","Container","Stage","___init","Layer","Group","isDragging","dd","DD","isDragReady","node","_addId","id","_removeId","_addName","_removeName","_id","nodes","n","no","root","returnExports","Collection","each","toArray","arr","len","toCollection","collection","mapMethods","leng","method","Transform","translate","x","y","scale","sx","sy","rotate","rad","c","cos","sin","m11","m12","m21","m22","getTranslation","skew","multiply","matrix","dx","dy","invert","d","m0","m1","m2","m3","m4","m5","getMatrix","setAbsolutePosition","yt","xt","CANVAS","CONTEXT_2D","OBJECT_ARRAY","OBJECT_NUMBER","OBJECT_STRING","PI_OVER_DEG180","PI","DEG180_OVER_PI","HASH","EMPTY_STRING","ZERO","KINETIC_WARNING","KINETIC_ERROR","RGB_PAREN","COLORS","aqua","lime","silver","black","maroon","teal","blue","navy","white","fuchsia","olive","yellow","orange","gray","purple","green","red","pink","cyan","transparent","RGB_REGEX","Util","_isElement","obj","nodeType","_isFunction","constructor","_isObject","Object","_isArray","_isNumber","_isString","_hasMethods","_isInDocument","parentNode","_roundArrValues","retArr","val","_getXY","arg","_getSize","width","height","_getPoints","_getImage","imageObj","canvas","dataUrl","Image","onload","data","_context","getContext","putImageData","toDataURL","_rgbToHex","g","b","_hexToRgb","hex","bigint","getRandomColor","randColor","random","def","getRGB","color","rgb","substring","substr","_merge","o1","o2","retObj","_clone","_degToRad","deg","_radToDeg","_capitalize","str","charAt","toUpperCase","Error","warn","window","console","extend","c1","c2","addMethods","methods","_getControlPoints","p0","p1","p2","x0","y0","x1","y1","x2","y2","d01","sqrt","d12","fa","fb","p1x","p1y","p2x","p2y","_expandPoints","points","tension","allPoints","cp","_removeLastLetter","devicePixelRatio","backingStoreRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","_pixelRatio","Canvas","init","_canvas","style","padding","margin","border","background","position","top","left","getPixelRatio","setPixelRatio","setSize","getWidth","getHeight","setWidth","setHeight","mimeType","quality","err","message","SceneCanvas","SceneContext","HitCanvas","HitContext","COMMA","OPEN_PAREN","CLOSE_PAREN","OPEN_PAREN_BRACKET","CLOSE_BRACKET_PAREN","SEMICOLON","DOUBLE_PAREN","EQUALS","SET","CONTEXT_METHODS","Context","traceArr","_enableTrace","getTrace","relaxed","trace","join","property","clearTrace","_trace","reset","getCanvas","setTransform","clear","pos","size","clearRect","fillShape","shape","getFillEnabled","_fill","strokeShape","getStrokeEnabled","_stroke","fillStrokeShape","fillEnabled","hasShadow","hasFill","_applyLineCap","lineCap","getLineCap","setAttr","_applyOpacity","absOpacity","getAbsoluteOpacity","_applyLineJoin","lineJoin","getLineJoin","_applyAncestorTransforms","getAbsoluteTransform","transform","_clip","container","clipX","getClipX","clipY","getClipY","clipWidth","getClipWidth","clipHeight","getClipHeight","save","beginPath","rect","clip","_drawChildren","restore","attr","arc","bezierCurveTo","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","fill","fillText","getImageData","lineTo","moveTo","quadraticCurveTo","setLineDash","mozDash","webkitLineDash","stroke","strokeText","that","origSetter","methodName","origMethod","ret","_fillColor","getFill","_fillFunc","_fillPattern","fillPatternImage","getFillPatternImage","fillPatternX","getFillPatternX","fillPatternY","getFillPatternY","fillPatternScale","getFillPatternScale","fillPatternRotation","getFillPatternRotation","fillPatternOffset","getFillPatternOffset","fillPatternRepeat","getFillPatternRepeat","_fillLinearGradient","getFillLinearGradientStartPoint","getFillLinearGradientEndPoint","colorStops","getFillLinearGradientColorStops","grd","addColorStop","_fillRadialGradient","getFillRadialGradientStartPoint","getFillRadialGradientEndPoint","startRadius","getFillRadialGradientStartRadius","endRadius","getFillRadialGradientEndRadius","getFillRadialGradientColorStops","skipShadow","hasColor","hasPattern","hasLinearGradient","hasRadialGradient","fillPriority","getFillPriority","_applyShadow","getStroke","strokeWidth","getStrokeWidth","dashArray","getDashArray","strokeScaleEnabled","getStrokeScaleEnabled","getDashArrayEnabled","_strokeFunc","applyShadow","drawFunc","util","blur","offset","shadowOpacity","getShadowEnabled","getShadowColor","getShadowBlur","getShadowOpacity","getShadowOffset","colorKey","_fillFuncHit","_strokeFuncHit","ABSOLUTE_OPACITY","ABSOLUTE_TRANSFORM","ADD","B","BEFORE","BLACK","CHANGE","CHILDREN","DEG","DOT","G","GET","ID","KINETIC","LISTENING","MOUSEENTER","MOUSELEAVE","NAME","OFF","ON","PRIVATE_GET","R","RGB","SHAPE","SPACE","STAGE","TRANSFORM","UPPER_B","UPPER_G","UPPER_HEIGHT","UPPER_R","UPPER_WIDTH","UPPER_X","UPPER_Y","VISIBLE","X","Y","Factory","addGetterSetter","addGetter","addSetter","addPointGetterSetter","addPointGetter","addPointSetter","addBoxGetterSetter","addBoxGetter","addBoxSetter","addPointsGetterSetter","addPointsGetter","addPointsSetter","addPointAdder","addRotationGetterSetter","addRotationGetter","addRotationSetter","addColorGetterSetter","addColorRGBGetter","addColorComponentGetter","addColorRGBSetter","addColorComponentSetter","attrs","prefix","baseMethod","getAttr","_setAttr","oldVal","_fireBeforeChangeEvent","_fireChangeEvent","both","UPPER_STAGE","transformChangeStr","eventListeners","cache","setAttrs","on","_clearCache","_clearSelfAndChildrenCache","clearCache","_getCache","privateGetter","children","getChildren","evtStr","handler","event","parts","baseEvent","off","_off","parent","getParent","index","_setChildrenIndices","destroy","getId","getName","getAncestors","ancestors","getAttrs","isListening","_isListening","listening","getListening","isVisible","_isVisible","visible","getVisible","show","setVisible","hide","getZIndex","getAbsoluteZIndex","level","getLevel","child","addChildren","concat","getStage","setPosition","setX","setY","getPosition","getX","getY","getAbsolutePosition","absoluteMatrix","absoluteTransform","o","getOffset","trans","_clearTransform","it","_setTransform","rotation","getRotation","scaleX","getScaleX","scaleY","getScaleY","offsetX","getOffsetX","offsetY","getOffsetY","skewX","getSkewX","skewY","getSkewY","move","_eachAncestorReverse","includeSelf","family","unshift","theta","setRotation","rotateDeg","moveToTop","moveUp","moveDown","moveToBottom","setZIndex","zIndex","_getAbsoluteOpacity","getOpacity","newContainer","toObject","className","getClassName","toJSON","JSON","stringify","getLayer","_getStage","fire","bubble","_fireAndBubble","_fire","_getAbsoluteTransform","am","getTransform","_getTransform","clone","allListeners","listener","stage","drawScene","toImage","img","getSize","getType","_get","selector","evtListeners","evtName","newVal","setId","oldId","setName","oldName","compareShape","okayToRun","targetNode","cancelBubble","draw","drawHit","shouldDrawHit","isDraggable","create","json","_createNode","parse","BATCH_DRAW_STOP_TIME_DIFF","Animation","layers","setLayers","animIdCounter","frame","timeDiff","lastTime","Date","lays","getLayers","addLayer","layer","isRunning","animations","_addAnimation","_removeAnimation","_updateFrameObject","frameRate","animRunning","anim","_handleAnimation","_runFrames","layerHash","layersLen","_animationLoop","requestAnimFrame","RAF","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","FRAF","raf","batchDraw","batchAnim","lastBatchDrawTime","blacklist","easing","onFinish","yoyo","PAUSED","PLAYING","REVERSING","Tween","nodeId","Easings","Linear","tween","tweenId","onEnterFrame","_tweenFunc","_addListeners","tweens","_addAttr","onReset","diff","startVal","endVal","diffVal","onPlay","onReverse","onPause","reverse","seek","finish","thisId","prop","propFunc","begin","_pos","_change","prevPos","_time","_position","_startTime","_finish","update","p","state","getTimer","asin","BounceEaseOut","BounceEaseIn","_drag","_setDragPosition","_endDragBefore","dragEndNode","_endDragAfter","startDrag","getPointerPosition","ap","stopDrag","dbf","getDragBoundFunc","newNodePos","setDraggable","draggable","_dragChange","origDestroy","_listenDrag","_dragCleanup","getDraggable","html","getElementsByTagName","hasChildren","removeChildren","destroyChildren","_validateAdd","find","selectorArr","sel","clen","_getNodeById","_getNodesByName","isAncestorOf","_getDescendants","getAllIntersections","intersects","hasClip","hitCanvas","HAS_SHADOW","_clearHasShadowCache","_setDrawFuncs","_hasShadow","getShadowOffsetX","getShadowOffsetY","enableFill","disableFill","enableStroke","disableStroke","enableStrokeScale","disableStrokeScale","enableShadow","disableShadow","enableDashArray","disableDashArray","getDrawFunc","drawHitFunc","setDrawFunc","setDrawHitFunc","STRING","PX","MOUSEOUT","MOUSEOVER","MOUSEMOVE","MOUSEDOWN","MOUSEUP","CLICK","DBL_CLICK","TOUCHSTART","TOUCHEND","TAP","DBL_TAP","TOUCHMOVE","CONTENT_MOUSEOUT","CONTENT_MOUSELEAVE","CONTENT_MOUSEOVER","CONTENT_MOUSEENTER","CONTENT_MOUSEMOVE","CONTENT_MOUSEDOWN","CONTENT_MOUSEUP","CONTENT_CLICK","CONTENT_DBL_CLICK","CONTENT_TOUCHSTART","CONTENT_TOUCHEND","CONTENT_TAP","CONTENT_DBL_TAP","CONTENT_TOUCHMOVE","DIV","RELATIVE","INLINE_BLOCK","KINETICJS_CONTENT","UNDERSCORE","CONTAINER","EVENTS","eventsLength","addEvent","ctx","eventName","content","_buildDOM","_bindContentEvents","setContainer","getElementById","_resizeDOM","getContainer","removeChild","getMousePosition","mousePos","getTouchPosition","touchPos","getContent","drawLayer","layerUrl","cb","getIntersection","bufferCanvas","_setPointerPosition","_setMousePosition","_setTouchPosition","_mouseover","_mouseout","targetShape","_mousemove","pixel","preventDefault","_mousedown","clickStartShape","_mouseup","fireDblClick","_touchstart","tapStartShape","_touchend","_touchmove","mouseX","layerX","clientX","_getContentPosition","mouseY","layerY","clientY","touch","touchX","touchY","touches","getBoundingClientRect","innerHTML","display","_onContent","typesStr","BEFORE_DRAW","DRAW","getClearBeforeDraw","getHitCanvas","hitContext","insertBefore","Rect","cornerRadius","getCornerRadius","PIx2","CIRCLE","Circle","getRadius","setRadius","ELLIPSE","Ellipse","Wedge","getAngle","getClockwise","IMAGE","CROP","params","cropX","getCropX","cropY","getCropY","cropWidth","getCropWidth","cropHeight","getCropHeight","image","getFilter","_applyFilter","applyFilter","filterCanvas","getImage","imageHitRegion","filter","imageData","clearFilter","createImageHitRegion","rgbColorKey","clearImageHitRegion","addFilterGetterSetter","addFilterSetter","Polygon","getPoints","AUTO","CALIBRI","CENTER","CHANGE_KINETIC","DASH","LEFT","NEW_LINE","TEXT","TEXT_UPPER","TOP","MIDDLE","NORMAL","PX_SPACE","RIGHT","WORD","CHAR","NONE","ATTR_CHANGE_LIST","attrChangeListLen","dummyContext","Text","partialText","_setTextData","getPadding","fontStyle","getFontStyle","fontSize","getFontSize","fontFamily","getFontFamily","textHeight","getTextHeight","lineHeightPx","getLineHeight","textArr","textArrLen","totalWidth","_getContextFont","text","getAlign","setText","getTextWidth","textWidth","_getTextSize","metrics","font","measureText","_addTextLine","line","_getTextWidth","lines","getText","fixedWidth","fixedHeight","maxWidth","maxHeightPx","currentHeightPx","wrap","getWrap","shouldWrap","wrapAtWord","max","lineWidth","low","high","matchWidth","mid","substrWidth","wrapIndex","lastIndexOf","Line","point","Spline","_setAllPoints","getTension","Blob","firstControlPoints","lastControlPoints","Sprite","setIndex","getAnimation","getIndex","f","getAnimations","interval","setInterval","_updateIndex","afterFrameFunc","afterFrameIndex","getFrameRate","clearInterval","afterFrame","animation","Path","dataArray","parsePathData","getData","ca","closedPath","command","cx","cy","rx","ry","dTheta","psi","fs","getLineLength","getPointOnLine","dist","P1x","P1y","P2x","P2y","fromX","fromY","run","rise","pt","ix","iy","u","pRise","pRun","getPointOnCubicBezier","pct","P3x","P3y","P4x","P4y","CB1","CB2","CB3","CB4","getPointOnQuadraticBezier","QB1","QB2","QB3","getPointOnEllipticalArc","cosPsi","sinPsi","cs","cc","RegExp","cpx","cpy","parseFloat","cmd","startX","startY","prevCmd","ctlPtx","ctlPty","convertEndpointToCenterParameterization","pathLength","calcLength","path","inc","psiDeg","xp","yp","lambda","cxp","cyp","vMag","v","vRatio","vAngle","acos","TextPath","dummyCanvas","charArr","glyphInfo","ht","pathCmd","pIndex","currentT","getNextPathSegment","pathData","findSegmentToFitCharacter","before","glyphWidth","currLen","attempts","needNextSegment","cumulativePathLength","needNewSegment","kern","midpoint","atan2","transposeX","transposeY","RegularPolygon","sides","radius","Star","innerRadius","outerRadius","numPoints","UP","DOWN","LABEL","Label","____init","_sync","getTag","tag","pointerDirection","pointerWidth","getPointerDirection","getPointerWidth","pointerHeight","getPointerHeight","Tag","Grayscale","brightness","Brighten","getFilterBrightness","Invert","BlurStack","next","mul_table","shg_table","filterGaussBlurRGBA","pixels","yi","yw","r_sum","g_sum","b_sum","a_sum","r_out_sum","g_out_sum","b_out_sum","a_out_sum","r_in_sum","g_in_sum","b_in_sum","a_in_sum","pr","pg","pb","pa","rbs","div","widthMinus1","heightMinus1","radiusPlus1","sumFactor","stackStart","stackEnd","stack","stackIn","stackOut","mul_sum","shg_sum","Blur","getFilterRadius","pixelAt","idata","rgbDistance","rgbMean","pTab","backgroundMask","threshold","rgbv_no","rgbv_ne","rgbv_so","rgbv_se","thres","mean","mask","applyMask","erodeMask","sw","sh","weights","side","halfSide","maskResult","so","scy","scx","srcOff","wt","dilateMask","smoothEdgeMask","Mask","getFilterThreshold","rgb_to_hsl","min","chroma","luminance","saturation","hue","pixelShiftHue","rR","rG","rB","tmp","shift_hue","ShiftHue","getFilterHueShiftDeg","Colorize","getFilterColorizeColor","hsl","convolve_internal","imageSizeX","imageSizeY","nPixels","result","matrixSizeX","matrixSizeY","matrixMidX","matrixMidY","px","py","lastPos","gaussian","sigma","E","make_blur_kernel","kernel","row","make_edge_detect_kernel","g1","g2","make_soft_blur_kernel","make_unsharp_kernel","UnsharpMask","getFilterAmount","SoftBlur","Edge","Emboss","Dots","Exp","Psy","Q","components","csv","datatable","design","include","layout","lib","libs","samplers","stimresp","utils","_","_i","_len","_results","String","trim","Response","ResponseData","Stimulus","lay","_ref","__hasProp","__extends","ctor","__super__","standardDefaults","origin","groupSize","spec","omit","uniqueId","stopped","AbsoluteLayout","overlay","initialize","xyoffset","nodeWidth","nodeHeight","log","computeCoordinates","xy","xyoff","computePosition","convertToCoordinate","render","_super","activate","GridLayout","Layout","computeGridCells","convertPercentageToFraction","isPercentage","isPositionLabel","positionToCoord","perc","isString","contains","offx","offy","dim","frac","rows","cols","bounds","col","_j","_results1","constraints","isArray","ncells","cells","computeCells","cell","Background","stims","stim","Bacon","Block","BlockSeq","Coda","DataTable","DefaultComponentFactory","Event","EventData","EventDataLog","Experiment","ExperimentContext","ExperimentState","FeedbackNode","FunctionNode","KineticContext","MockStimFactory","Prelude","Presenter","RunnableNode","StimFactory","TAFFY","Trial","buildCoda","buildEvent","buildPrelude","buildResponse","buildStimulus","buildTrial","createContext","des","functionNode","makeEventSeq","__dummySpec","taffy","eventStack","ev","last","findAll","findLast","stimType","keys","values","makeStimulus","responseType","makeResponse","response","responseSpec","stimSpec","Next","pick","makeEvent","functionList","map","handleValue","chainFunctions","funArray","fun","resolve","then","after","numChildren","farray","flatten","fcall","feedback","idSet","trialData","stimFactory","stimulus","_this","exState","inPrelude","updateState","nextEvent","clearContent","contentLayer","record","numEvents","nextTrial","clearBackground","setBackground","drawBackground","blockSpec","showEvent","nextBlock","Start","toRecord","blockData","curid","out","End","unique","select","fromRecords","insidePrelude","outsidePrelude","trial","block","blockNumber","trialNumber","eventNumber","$","_ref1","_ref10","_ref11","_ref2","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","stimulusID","responseID","isEmpty","userData","eventData","currentTrial","numBlocks","pushData","withState","insert","centerX","centerY","screenInfo","center","logEvent","blockNum","allData","showStimulus","blockList","_error","keydownStream","fromEventTarget","keypressStream","mousepressStream","insertHTMLDiv","css","append","outline","clearHtml","empty","appendHtml","input","addClass","hideHtml","clearBeforeDraw","backgroundLayer","newBackground","focus","MouseBus","stream","Bus","eventSpec","backgroundSpec","preludeSpec","codaSpec","Events","Nothing","Timeout","trialList","trialBuilder","prelude","coda","trialNum","trialSpec","trials","blocks","screen","Feedback","designSpec","ExpDesign","Display","trialGenerator","fullDesign","nrow","$trialNumber","letters","Design","Blocks","vars","samelen","varlen","ncol","records","union","allkeys","rec","_k","_len1","_len2","uniq","build","seal","rbind","tab1","tab2","col1","col2","keys1","keys2","sharedKeys","intersection","repLen","cbind","diffkeys","cloneDeep","difference","expand","nreps","nargs","nm","nx","orep","r1","r2","r3","repfac","reduce","acc","rep","merge","dropColumn","colname","subset","keep","whichRow","where","count","nkeys","asArray","sum","num","lens","colnames","replicate","times","bindcol","column","bindrow","has","shuffle","ind","nr","sind","getTimestamp","performance","now","webkitNow","browserBackDisabled","disableBrowserBack","which","test","target","tagName","disabled","readOnly","global","isNumber","isBoolean","permute","main","permArr","usedChars","ch","vec","sample","elements","oneOf","doTimer","oncomplete","instance","half","matcher","mkeys","rkeys","flanker","centerColor","KP","Sound","Confirm","First","KeyPress","SpaceKey","AnyKey","MousePress","Prompt","Sequence","Click","refid","deferred","element","defer","promise","resp","timeElapsed","timeRequested","soa","onsets","genseq","forEach","title","defaultValue","theme","vex","dialog","prompt","mouse","myname","startTime","take","onValue","timestamp","KeyTime","RT","Accuracy","Acc","KeyResponse","keyTable","correct","timeout","createResponseData","timeStamp","char","KeyChar","resolveOnTimeout","isResolved","keyStream","fromCharCode","keyCode","filtered","responses","_done","confirm","url","HMixResp","HMixStim","Html","HtmlMixin","HtmlResponse","HtmlStimulus","Mixen","positionElement","centerElement","coords","HtmlButton","HtmlLink","HtmlLabel","HtmlIcon","Instructions","Markdown","Message","Page","messageClass","marked","ajax","success","itm","md","pages","menu","back","items","currentPage","updateEl","click","removeClass","glyph","label","Arrow","Blank","Clear","FixationCross","CanvasBorder","GridLines","Picture","Rectangle","StartButton","TextInput","getChar","shiftKey","animateCursor","cursor","flashTime","setOpacity","cursorBlink","enterPressed","fsize","textContent","textRect","align","takeWhile","textAlign","lineHeight","button","xcenter","ycenter","opacity","horz","vert","circ","blank","direction","thickness","arrowSize","angle","computedHeight","computedLength","shaftLength","arrowShaft","arrowHead","rotationDeg","ArrayIterator","BlockStructure","CellTable","ConditionSet","Factor","FactorNode","FactorSetNode","FactorSpec","ItemNode","ItemSetNode","Iterator","SamplerNode","TaskNode","TaskSchema","TrialList","VarSpec","sampler","trimWhiteSpace","asFactor","levels","sort","nblocks","reps","expanded","ntrials","valueAt","factorSet","conditionTable","cross","other","CrossedFactorSpec","concatBlocks","vset","nex","parents","fac","parentNames","n1","zipObject","table","conditions","trialsPerBlock","varNodes","crossedSet","vname","factorNames","varmap","varSpecs","crossedVars","crossedSpec","uncrossedVars","uncrossedSpec","ctable","cellTable","fnodes","factors","blk","tlist","hasNext","getBlock","nt","assign","blockIterator","trimmed","dtable","inode","snode","makeSampler","dataType","async","toObjects","attributes","itemNodes","Sampler","ExhaustiveSampler","ReplacementSampler","_crossed","_uncrossed","Crossed","Uncrossed","crossed","uncrossed","factorArray","schema","trialTypes","validate","splitCrossedItems","itemSpec","crossedVariables","attrnames","indices","itemSets","keySet","levs","variables","structure","auxiliary","initStructure","reps_per_block","makeConditionalSampler","crossedItems","crossedItemMap","crossedItemName","ConditionalSampler","makeCrossedSpec","makeFactorSpec","crossedSampler","crossedDesign","CombinatoricSampler","GridSampler","MatchSampler","UniformSampler","__slice","indexBuffer","takeOne","sampleFrom","fillBuffer","buf","buffer","buflen","res","drop","probe","probeIndex","sam","targetSet","range","nums","xs","grid","tuples","makeItemSubsets","factorSpec","itemMap","keyMap","samplerSet","takeCondition","Base","DotSet","RandomDotMotion","randomDelta","distance","rads","coherentDelta","pointInCircle","inCircle","center_x","center_y","squareDist","ndots","nparts","coherence","frameNum","dotsPerSet","dotSets","getDotPartition","nextFrame","delta","dset","partition","numDots","apRadius","dotSpeed","dotSize","partitions","dotSet","createDots","dots","createInitialDots","dpart","displayInitialDots","nodeSets","groups","curset","part","render2","l","KineticStimFactory","li","renderable","ul","getTimeStamp","makeLayout","makeInstructions","escape","jQuery","separator","delimiter","headers","hooks","castToScalar","hasDot","integer","parsers","rowNum","colNum","entry","exit","endOfEntry","onParseEntry","hookVal","endOfValue","onParseValue","hook","escSeparator","escDelimiter","matchSrc","splitLines","entries","endOfLine","prevChar","parseEntry","helpers","collectPropertyNames","objects","propName","props","toArrays","headerOptions","headerLine","object","fromArrays","arrays","output","lineValues","strValue","escMatcher","search","fromObjects","sortOrder","manualOrder","origObjects","propsManual","csvEntry2Array","csv2Array","csv2Dictionary","ComponentFactory","Components","make","registry","callee","layoutName","layoutParams","resps","_results2","componentFactory"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","sourceRoot":".."}
/*!
 * jQuery JavaScript Library v1.7
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Thu Nov 3 16:18:21 2011 -0400
 */
(function( window, undefined ) {

// Use the correct document accordingly with window argument (sandbox)
var document = window.document,
	navigator = window.navigator,
	location = window.location;
var jQuery = (function() {

// Define a local copy of jQuery
var jQuery = function( selector, context ) {
		// The jQuery object is actually just the init constructor 'enhanced'
		return new jQuery.fn.init( selector, context, rootjQuery );
	},

	// Map over jQuery in case of overwrite
	_jQuery = window.jQuery,

	// Map over the $ in case of overwrite
	_$ = window.$,

	// A central reference to the root jQuery(document)
	rootjQuery,

	// A simple way to check for HTML strings or ID strings
	// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)
	quickExpr = /^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,

	// Check if a string has a non-whitespace character in it
	rnotwhite = /\S/,

	// Used for trimming whitespace
	trimLeft = /^\s+/,
	trimRight = /\s+$/,

	// Check for digits
	rdigit = /\d/,

	// Match a standalone tag
	rsingleTag = /^<(\w+)\s*\/?>(?:<\/\1>)?$/,

	// JSON RegExp
	rvalidchars = /^[\],:{}\s]*$/,
	rvalidescape = /\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,
	rvalidtokens = /"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
	rvalidbraces = /(?:^|:|,)(?:\s*\[)+/g,

	// Useragent RegExp
	rwebkit = /(webkit)[ \/]([\w.]+)/,
	ropera = /(opera)(?:.*version)?[ \/]([\w.]+)/,
	rmsie = /(msie) ([\w.]+)/,
	rmozilla = /(mozilla)(?:.*? rv:([\w.]+))?/,

	// Matches dashed string for camelizing
	rdashAlpha = /-([a-z]|[0-9])/ig,
	rmsPrefix = /^-ms-/,

	// Used by jQuery.camelCase as callback to replace()
	fcamelCase = function( all, letter ) {
		return ( letter + "" ).toUpperCase();
	},

	// Keep a UserAgent string for use with jQuery.browser
	userAgent = navigator.userAgent,

	// For matching the engine and version of the browser
	browserMatch,

	// The deferred used on DOM ready
	readyList,

	// The ready event handler
	DOMContentLoaded,

	// Save a reference to some core methods
	toString = Object.prototype.toString,
	hasOwn = Object.prototype.hasOwnProperty,
	push = Array.prototype.push,
	slice = Array.prototype.slice,
	trim = String.prototype.trim,
	indexOf = Array.prototype.indexOf,

	// [[Class]] -> type pairs
	class2type = {};

jQuery.fn = jQuery.prototype = {
	constructor: jQuery,
	init: function( selector, context, rootjQuery ) {
		var match, elem, ret, doc;

		// Handle $(""), $(null), or $(undefined)
		if ( !selector ) {
			return this;
		}

		// Handle $(DOMElement)
		if ( selector.nodeType ) {
			this.context = this[0] = selector;
			this.length = 1;
			return this;
		}

		// The body element only exists once, optimize finding it
		if ( selector === "body" && !context && document.body ) {
			this.context = document;
			this[0] = document.body;
			this.selector = selector;
			this.length = 1;
			return this;
		}

		// Handle HTML strings
		if ( typeof selector === "string" ) {
			// Are we dealing with HTML string or an ID?
			if ( selector.charAt(0) === "<" && selector.charAt( selector.length - 1 ) === ">" && selector.length >= 3 ) {
				// Assume that strings that start and end with <> are HTML and skip the regex check
				match = [ null, selector, null ];

			} else {
				match = quickExpr.exec( selector );
			}

			// Verify a match, and that no context was specified for #id
			if ( match && (match[1] || !context) ) {

				// HANDLE: $(html) -> $(array)
				if ( match[1] ) {
					context = context instanceof jQuery ? context[0] : context;
					doc = ( context ? context.ownerDocument || context : document );

					// If a single string is passed in and it's a single tag
					// just do a createElement and skip the rest
					ret = rsingleTag.exec( selector );

					if ( ret ) {
						if ( jQuery.isPlainObject( context ) ) {
							selector = [ document.createElement( ret[1] ) ];
							jQuery.fn.attr.call( selector, context, true );

						} else {
							selector = [ doc.createElement( ret[1] ) ];
						}

					} else {
						ret = jQuery.buildFragment( [ match[1] ], [ doc ] );
						selector = ( ret.cacheable ? jQuery.clone(ret.fragment) : ret.fragment ).childNodes;
					}

					return jQuery.merge( this, selector );

				// HANDLE: $("#id")
				} else {
					elem = document.getElementById( match[2] );

					// Check parentNode to catch when Blackberry 4.6 returns
					// nodes that are no longer in the document #6963
					if ( elem && elem.parentNode ) {
						// Handle the case where IE and Opera return items
						// by name instead of ID
						if ( elem.id !== match[2] ) {
							return rootjQuery.find( selector );
						}

						// Otherwise, we inject the element directly into the jQuery object
						this.length = 1;
						this[0] = elem;
					}

					this.context = document;
					this.selector = selector;
					return this;
				}

			// HANDLE: $(expr, $(...))
			} else if ( !context || context.jquery ) {
				return ( context || rootjQuery ).find( selector );

			// HANDLE: $(expr, context)
			// (which is just equivalent to: $(context).find(expr)
			} else {
				return this.constructor( context ).find( selector );
			}

		// HANDLE: $(function)
		// Shortcut for document ready
		} else if ( jQuery.isFunction( selector ) ) {
			return rootjQuery.ready( selector );
		}

		if ( selector.selector !== undefined ) {
			this.selector = selector.selector;
			this.context = selector.context;
		}

		return jQuery.makeArray( selector, this );
	},

	// Start with an empty selector
	selector: "",

	// The current version of jQuery being used
	jquery: "1.7",

	// The default length of a jQuery object is 0
	length: 0,

	// The number of elements contained in the matched element set
	size: function() {
		return this.length;
	},

	toArray: function() {
		return slice.call( this, 0 );
	},

	// Get the Nth element in the matched element set OR
	// Get the whole matched element set as a clean array
	get: function( num ) {
		return num == null ?

			// Return a 'clean' array
			this.toArray() :

			// Return just the object
			( num < 0 ? this[ this.length + num ] : this[ num ] );
	},

	// Take an array of elements and push it onto the stack
	// (returning the new matched element set)
	pushStack: function( elems, name, selector ) {
		// Build a new jQuery matched element set
		var ret = this.constructor();

		if ( jQuery.isArray( elems ) ) {
			push.apply( ret, elems );

		} else {
			jQuery.merge( ret, elems );
		}

		// Add the old object onto the stack (as a reference)
		ret.prevObject = this;

		ret.context = this.context;

		if ( name === "find" ) {
			ret.selector = this.selector + ( this.selector ? " " : "" ) + selector;
		} else if ( name ) {
			ret.selector = this.selector + "." + name + "(" + selector + ")";
		}

		// Return the newly-formed element set
		return ret;
	},

	// Execute a callback for every element in the matched set.
	// (You can seed the arguments with an array of args, but this is
	// only used internally.)
	each: function( callback, args ) {
		return jQuery.each( this, callback, args );
	},

	ready: function( fn ) {
		// Attach the listeners
		jQuery.bindReady();

		// Add the callback
		readyList.add( fn );

		return this;
	},

	eq: function( i ) {
		return i === -1 ?
			this.slice( i ) :
			this.slice( i, +i + 1 );
	},

	first: function() {
		return this.eq( 0 );
	},

	last: function() {
		return this.eq( -1 );
	},

	slice: function() {
		return this.pushStack( slice.apply( this, arguments ),
			"slice", slice.call(arguments).join(",") );
	},

	map: function( callback ) {
		return this.pushStack( jQuery.map(this, function( elem, i ) {
			return callback.call( elem, i, elem );
		}));
	},

	end: function() {
		return this.prevObject || this.constructor(null);
	},

	// For internal use only.
	// Behaves like an Array's method, not like a jQuery method.
	push: push,
	sort: [].sort,
	splice: [].splice
};

// Give the init function the jQuery prototype for later instantiation
jQuery.fn.init.prototype = jQuery.fn;

jQuery.extend = jQuery.fn.extend = function() {
	var options, name, src, copy, copyIsArray, clone,
		target = arguments[0] || {},
		i = 1,
		length = arguments.length,
		deep = false;

	// Handle a deep copy situation
	if ( typeof target === "boolean" ) {
		deep = target;
		target = arguments[1] || {};
		// skip the boolean and the target
		i = 2;
	}

	// Handle case when target is a string or something (possible in deep copy)
	if ( typeof target !== "object" && !jQuery.isFunction(target) ) {
		target = {};
	}

	// extend jQuery itself if only one argument is passed
	if ( length === i ) {
		target = this;
		--i;
	}

	for ( ; i < length; i++ ) {
		// Only deal with non-null/undefined values
		if ( (options = arguments[ i ]) != null ) {
			// Extend the base object
			for ( name in options ) {
				src = target[ name ];
				copy = options[ name ];

				// Prevent never-ending loop
				if ( target === copy ) {
					continue;
				}

				// Recurse if we're merging plain objects or arrays
				if ( deep && copy && ( jQuery.isPlainObject(copy) || (copyIsArray = jQuery.isArray(copy)) ) ) {
					if ( copyIsArray ) {
						copyIsArray = false;
						clone = src && jQuery.isArray(src) ? src : [];

					} else {
						clone = src && jQuery.isPlainObject(src) ? src : {};
					}

					// Never move original objects, clone them
					target[ name ] = jQuery.extend( deep, clone, copy );

				// Don't bring in undefined values
				} else if ( copy !== undefined ) {
					target[ name ] = copy;
				}
			}
		}
	}

	// Return the modified object
	return target;
};

jQuery.extend({
	noConflict: function( deep ) {
		if ( window.$ === jQuery ) {
			window.$ = _$;
		}

		if ( deep && window.jQuery === jQuery ) {
			window.jQuery = _jQuery;
		}

		return jQuery;
	},

	// Is the DOM ready to be used? Set to true once it occurs.
	isReady: false,

	// A counter to track how many items to wait for before
	// the ready event fires. See #6781
	readyWait: 1,

	// Hold (or release) the ready event
	holdReady: function( hold ) {
		if ( hold ) {
			jQuery.readyWait++;
		} else {
			jQuery.ready( true );
		}
	},

	// Handle when the DOM is ready
	ready: function( wait ) {
		// Either a released hold or an DOMready/load event and not yet ready
		if ( (wait === true && !--jQuery.readyWait) || (wait !== true && !jQuery.isReady) ) {
			// Make sure body exists, at least, in case IE gets a little overzealous (ticket #5443).
			if ( !document.body ) {
				return setTimeout( jQuery.ready, 1 );
			}

			// Remember that the DOM is ready
			jQuery.isReady = true;

			// If a normal DOM Ready event fired, decrement, and wait if need be
			if ( wait !== true && --jQuery.readyWait > 0 ) {
				return;
			}

			// If there are functions bound, to execute
			readyList.fireWith( document, [ jQuery ] );

			// Trigger any bound ready events
			if ( jQuery.fn.trigger ) {
				jQuery( document ).trigger( "ready" ).unbind( "ready" );
			}
		}
	},

	bindReady: function() {
		if ( readyList ) {
			return;
		}

		readyList = jQuery.Callbacks( "once memory" );

		// Catch cases where $(document).ready() is called after the
		// browser event has already occurred.
		if ( document.readyState === "complete" ) {
			// Handle it asynchronously to allow scripts the opportunity to delay ready
			return setTimeout( jQuery.ready, 1 );
		}

		// Mozilla, Opera and webkit nightlies currently support this event
		if ( document.addEventListener ) {
			// Use the handy event callback
			document.addEventListener( "DOMContentLoaded", DOMContentLoaded, false );

			// A fallback to window.onload, that will always work
			window.addEventListener( "load", jQuery.ready, false );

		// If IE event model is used
		} else if ( document.attachEvent ) {
			// ensure firing before onload,
			// maybe late but safe also for iframes
			document.attachEvent( "onreadystatechange", DOMContentLoaded );

			// A fallback to window.onload, that will always work
			window.attachEvent( "onload", jQuery.ready );

			// If IE and not a frame
			// continually check to see if the document is ready
			var toplevel = false;

			try {
				toplevel = window.frameElement == null;
			} catch(e) {}

			if ( document.documentElement.doScroll && toplevel ) {
				doScrollCheck();
			}
		}
	},

	// See test/unit/core.js for details concerning isFunction.
	// Since version 1.3, DOM methods and functions like alert
	// aren't supported. They return false on IE (#2968).
	isFunction: function( obj ) {
		return jQuery.type(obj) === "function";
	},

	isArray: Array.isArray || function( obj ) {
		return jQuery.type(obj) === "array";
	},

	// A crude way of determining if an object is a window
	isWindow: function( obj ) {
		return obj && typeof obj === "object" && "setInterval" in obj;
	},

	isNumeric: function( obj ) {
		return obj != null && rdigit.test( obj ) && !isNaN( obj );
	},

	type: function( obj ) {
		return obj == null ?
			String( obj ) :
			class2type[ toString.call(obj) ] || "object";
	},

	isPlainObject: function( obj ) {
		// Must be an Object.
		// Because of IE, we also have to check the presence of the constructor property.
		// Make sure that DOM nodes and window objects don't pass through, as well
		if ( !obj || jQuery.type(obj) !== "object" || obj.nodeType || jQuery.isWindow( obj ) ) {
			return false;
		}

		try {
			// Not own constructor property must be Object
			if ( obj.constructor &&
				!hasOwn.call(obj, "constructor") &&
				!hasOwn.call(obj.constructor.prototype, "isPrototypeOf") ) {
				return false;
			}
		} catch ( e ) {
			// IE8,9 Will throw exceptions on certain host objects #9897
			return false;
		}

		// Own properties are enumerated firstly, so to speed up,
		// if last one is own, then all properties are own.

		var key;
		for ( key in obj ) {}

		return key === undefined || hasOwn.call( obj, key );
	},

	isEmptyObject: function( obj ) {
		for ( var name in obj ) {
			return false;
		}
		return true;
	},

	error: function( msg ) {
		throw msg;
	},

	parseJSON: function( data ) {
		if ( typeof data !== "string" || !data ) {
			return null;
		}

		// Make sure leading/trailing whitespace is removed (IE can't handle it)
		data = jQuery.trim( data );

		// Attempt to parse using the native JSON parser first
		if ( window.JSON && window.JSON.parse ) {
			return window.JSON.parse( data );
		}

		// Make sure the incoming data is actual JSON
		// Logic borrowed from http://json.org/json2.js
		if ( rvalidchars.test( data.replace( rvalidescape, "@" )
			.replace( rvalidtokens, "]" )
			.replace( rvalidbraces, "")) ) {

			return ( new Function( "return " + data ) )();

		}
		jQuery.error( "Invalid JSON: " + data );
	},

	// Cross-browser xml parsing
	parseXML: function( data ) {
		var xml, tmp;
		try {
			if ( window.DOMParser ) { // Standard
				tmp = new DOMParser();
				xml = tmp.parseFromString( data , "text/xml" );
			} else { // IE
				xml = new ActiveXObject( "Microsoft.XMLDOM" );
				xml.async = "false";
				xml.loadXML( data );
			}
		} catch( e ) {
			xml = undefined;
		}
		if ( !xml || !xml.documentElement || xml.getElementsByTagName( "parsererror" ).length ) {
			jQuery.error( "Invalid XML: " + data );
		}
		return xml;
	},

	noop: function() {},

	// Evaluates a script in a global context
	// Workarounds based on findings by Jim Driscoll
	// http://weblogs.java.net/blog/driscoll/archive/2009/09/08/eval-javascript-global-context
	globalEval: function( data ) {
		if ( data && rnotwhite.test( data ) ) {
			// We use execScript on Internet Explorer
			// We use an anonymous function so that context is window
			// rather than jQuery in Firefox
			( window.execScript || function( data ) {
				window[ "eval" ].call( window, data );
			} )( data );
		}
	},

	// Convert dashed to camelCase; used by the css and data modules
	// Microsoft forgot to hump their vendor prefix (#9572)
	camelCase: function( string ) {
		return string.replace( rmsPrefix, "ms-" ).replace( rdashAlpha, fcamelCase );
	},

	nodeName: function( elem, name ) {
		return elem.nodeName && elem.nodeName.toUpperCase() === name.toUpperCase();
	},

	// args is for internal usage only
	each: function( object, callback, args ) {
		var name, i = 0,
			length = object.length,
			isObj = length === undefined || jQuery.isFunction( object );

		if ( args ) {
			if ( isObj ) {
				for ( name in object ) {
					if ( callback.apply( object[ name ], args ) === false ) {
						break;
					}
				}
			} else {
				for ( ; i < length; ) {
					if ( callback.apply( object[ i++ ], args ) === false ) {
						break;
					}
				}
			}

		// A special, fast, case for the most common use of each
		} else {
			if ( isObj ) {
				for ( name in object ) {
					if ( callback.call( object[ name ], name, object[ name ] ) === false ) {
						break;
					}
				}
			} else {
				for ( ; i < length; ) {
					if ( callback.call( object[ i ], i, object[ i++ ] ) === false ) {
						break;
					}
				}
			}
		}

		return object;
	},

	// Use native String.trim function wherever possible
	trim: trim ?
		function( text ) {
			return text == null ?
				"" :
				trim.call( text );
		} :

		// Otherwise use our own trimming functionality
		function( text ) {
			return text == null ?
				"" :
				text.toString().replace( trimLeft, "" ).replace( trimRight, "" );
		},

	// results is for internal usage only
	makeArray: function( array, results ) {
		var ret = results || [];

		if ( array != null ) {
			// The window, strings (and functions) also have 'length'
			// The extra typeof function check is to prevent crashes
			// in Safari 2 (See: #3039)
			// Tweaked logic slightly to handle Blackberry 4.7 RegExp issues #6930
			var type = jQuery.type( array );

			if ( array.length == null || type === "string" || type === "function" || type === "regexp" || jQuery.isWindow( array ) ) {
				push.call( ret, array );
			} else {
				jQuery.merge( ret, array );
			}
		}

		return ret;
	},

	inArray: function( elem, array, i ) {
		var len;

		if ( array ) {
			if ( indexOf ) {
				return indexOf.call( array, elem, i );
			}

			len = array.length;
			i = i ? i < 0 ? Math.max( 0, len + i ) : i : 0;

			for ( ; i < len; i++ ) {
				// Skip accessing in sparse arrays
				if ( i in array && array[ i ] === elem ) {
					return i;
				}
			}
		}

		return -1;
	},

	merge: function( first, second ) {
		var i = first.length,
			j = 0;

		if ( typeof second.length === "number" ) {
			for ( var l = second.length; j < l; j++ ) {
				first[ i++ ] = second[ j ];
			}

		} else {
			while ( second[j] !== undefined ) {
				first[ i++ ] = second[ j++ ];
			}
		}

		first.length = i;

		return first;
	},

	grep: function( elems, callback, inv ) {
		var ret = [], retVal;
		inv = !!inv;

		// Go through the array, only saving the items
		// that pass the validator function
		for ( var i = 0, length = elems.length; i < length; i++ ) {
			retVal = !!callback( elems[ i ], i );
			if ( inv !== retVal ) {
				ret.push( elems[ i ] );
			}
		}

		return ret;
	},

	// arg is for internal usage only
	map: function( elems, callback, arg ) {
		var value, key, ret = [],
			i = 0,
			length = elems.length,
			// jquery objects are treated as arrays
			isArray = elems instanceof jQuery || length !== undefined && typeof length === "number" && ( ( length > 0 && elems[ 0 ] && elems[ length -1 ] ) || length === 0 || jQuery.isArray( elems ) ) ;

		// Go through the array, translating each of the items to their
		if ( isArray ) {
			for ( ; i < length; i++ ) {
				value = callback( elems[ i ], i, arg );

				if ( value != null ) {
					ret[ ret.length ] = value;
				}
			}

		// Go through every key on the object,
		} else {
			for ( key in elems ) {
				value = callback( elems[ key ], key, arg );

				if ( value != null ) {
					ret[ ret.length ] = value;
				}
			}
		}

		// Flatten any nested arrays
		return ret.concat.apply( [], ret );
	},

	// A global GUID counter for objects
	guid: 1,

	// Bind a function to a context, optionally partially applying any
	// arguments.
	proxy: function( fn, context ) {
		if ( typeof context === "string" ) {
			var tmp = fn[ context ];
			context = fn;
			fn = tmp;
		}

		// Quick check to determine if target is callable, in the spec
		// this throws a TypeError, but we will just return undefined.
		if ( !jQuery.isFunction( fn ) ) {
			return undefined;
		}

		// Simulated bind
		var args = slice.call( arguments, 2 ),
			proxy = function() {
				return fn.apply( context, args.concat( slice.call( arguments ) ) );
			};

		// Set the guid of unique handler to the same of original handler, so it can be removed
		proxy.guid = fn.guid = fn.guid || proxy.guid || jQuery.guid++;

		return proxy;
	},

	// Mutifunctional method to get and set values to a collection
	// The value/s can optionally be executed if it's a function
	access: function( elems, key, value, exec, fn, pass ) {
		var length = elems.length;

		// Setting many attributes
		if ( typeof key === "object" ) {
			for ( var k in key ) {
				jQuery.access( elems, k, key[k], exec, fn, value );
			}
			return elems;
		}

		// Setting one attribute
		if ( value !== undefined ) {
			// Optionally, function values get executed if exec is true
			exec = !pass && exec && jQuery.isFunction(value);

			for ( var i = 0; i < length; i++ ) {
				fn( elems[i], key, exec ? value.call( elems[i], i, fn( elems[i], key ) ) : value, pass );
			}

			return elems;
		}

		// Getting an attribute
		return length ? fn( elems[0], key ) : undefined;
	},

	now: function() {
		return ( new Date() ).getTime();
	},

	// Use of jQuery.browser is frowned upon.
	// More details: http://docs.jquery.com/Utilities/jQuery.browser
	uaMatch: function( ua ) {
		ua = ua.toLowerCase();

		var match = rwebkit.exec( ua ) ||
			ropera.exec( ua ) ||
			rmsie.exec( ua ) ||
			ua.indexOf("compatible") < 0 && rmozilla.exec( ua ) ||
			[];

		return { browser: match[1] || "", version: match[2] || "0" };
	},

	sub: function() {
		function jQuerySub( selector, context ) {
			return new jQuerySub.fn.init( selector, context );
		}
		jQuery.extend( true, jQuerySub, this );
		jQuerySub.superclass = this;
		jQuerySub.fn = jQuerySub.prototype = this();
		jQuerySub.fn.constructor = jQuerySub;
		jQuerySub.sub = this.sub;
		jQuerySub.fn.init = function init( selector, context ) {
			if ( context && context instanceof jQuery && !(context instanceof jQuerySub) ) {
				context = jQuerySub( context );
			}

			return jQuery.fn.init.call( this, selector, context, rootjQuerySub );
		};
		jQuerySub.fn.init.prototype = jQuerySub.fn;
		var rootjQuerySub = jQuerySub(document);
		return jQuerySub;
	},

	browser: {}
});

// Populate the class2type map
jQuery.each("Boolean Number String Function Array Date RegExp Object".split(" "), function(i, name) {
	class2type[ "[object " + name + "]" ] = name.toLowerCase();
});

browserMatch = jQuery.uaMatch( userAgent );
if ( browserMatch.browser ) {
	jQuery.browser[ browserMatch.browser ] = true;
	jQuery.browser.version = browserMatch.version;
}

// Deprecated, use jQuery.browser.webkit instead
if ( jQuery.browser.webkit ) {
	jQuery.browser.safari = true;
}

// IE doesn't match non-breaking spaces with \s
if ( rnotwhite.test( "\xA0" ) ) {
	trimLeft = /^[\s\xA0]+/;
	trimRight = /[\s\xA0]+$/;
}

// All jQuery objects should point back to these
rootjQuery = jQuery(document);

// Cleanup functions for the document ready method
if ( document.addEventListener ) {
	DOMContentLoaded = function() {
		document.removeEventListener( "DOMContentLoaded", DOMContentLoaded, false );
		jQuery.ready();
	};

} else if ( document.attachEvent ) {
	DOMContentLoaded = function() {
		// Make sure body exists, at least, in case IE gets a little overzealous (ticket #5443).
		if ( document.readyState === "complete" ) {
			document.detachEvent( "onreadystatechange", DOMContentLoaded );
			jQuery.ready();
		}
	};
}

// The DOM ready check for Internet Explorer
function doScrollCheck() {
	if ( jQuery.isReady ) {
		return;
	}

	try {
		// If IE is used, use the trick by Diego Perini
		// http://javascript.nwbox.com/IEContentLoaded/
		document.documentElement.doScroll("left");
	} catch(e) {
		setTimeout( doScrollCheck, 1 );
		return;
	}

	// and execute any waiting functions
	jQuery.ready();
}

// Expose jQuery as an AMD module, but only for AMD loaders that
// understand the issues with loading multiple versions of jQuery
// in a page that all might call define(). The loader will indicate
// they have special allowances for multiple jQuery versions by
// specifying define.amd.jQuery = true. Register as a named module,
// since jQuery can be concatenated with other files that may use define,
// but not use a proper concatenation script that understands anonymous
// AMD modules. A named AMD is safest and most robust way to register.
// Lowercase jquery is used because AMD module names are derived from
// file names, and jQuery is normally delivered in a lowercase file name.
if ( typeof define === "function" && define.amd && define.amd.jQuery ) {
	define( "jquery", [], function () { return jQuery; } );
}

return jQuery;

})();


// String to Object flags format cache
var flagsCache = {};

// Convert String-formatted flags into Object-formatted ones and store in cache
function createFlags( flags ) {
	var object = flagsCache[ flags ] = {},
		i, length;
	flags = flags.split( /\s+/ );
	for ( i = 0, length = flags.length; i < length; i++ ) {
		object[ flags[i] ] = true;
	}
	return object;
}

/*
 * Create a callback list using the following parameters:
 *
 *	flags:	an optional list of space-separated flags that will change how
 *			the callback list behaves
 *
 * By default a callback list will act like an event callback list and can be
 * "fired" multiple times.
 *
 * Possible flags:
 *
 *	once:			will ensure the callback list can only be fired once (like a Deferred)
 *
 *	memory:			will keep track of previous values and will call any callback added
 *					after the list has been fired right away with the latest "memorized"
 *					values (like a Deferred)
 *
 *	unique:			will ensure a callback can only be added once (no duplicate in the list)
 *
 *	stopOnFalse:	interrupt callings when a callback returns false
 *
 */
jQuery.Callbacks = function( flags ) {

	// Convert flags from String-formatted to Object-formatted
	// (we check in cache first)
	flags = flags ? ( flagsCache[ flags ] || createFlags( flags ) ) : {};

	var // Actual callback list
		list = [],
		// Stack of fire calls for repeatable lists
		stack = [],
		// Last fire value (for non-forgettable lists)
		memory,
		// Flag to know if list is currently firing
		firing,
		// First callback to fire (used internally by add and fireWith)
		firingStart,
		// End of the loop when firing
		firingLength,
		// Index of currently firing callback (modified by remove if needed)
		firingIndex,
		// Add one or several callbacks to the list
		add = function( args ) {
			var i,
				length,
				elem,
				type,
				actual;
			for ( i = 0, length = args.length; i < length; i++ ) {
				elem = args[ i ];
				type = jQuery.type( elem );
				if ( type === "array" ) {
					// Inspect recursively
					add( elem );
				} else if ( type === "function" ) {
					// Add if not in unique mode and callback is not in
					if ( !flags.unique || !self.has( elem ) ) {
						list.push( elem );
					}
				}
			}
		},
		// Fire callbacks
		fire = function( context, args ) {
			args = args || [];
			memory = !flags.memory || [ context, args ];
			firing = true;
			firingIndex = firingStart || 0;
			firingStart = 0;
			firingLength = list.length;
			for ( ; list && firingIndex < firingLength; firingIndex++ ) {
				if ( list[ firingIndex ].apply( context, args ) === false && flags.stopOnFalse ) {
					memory = true; // Mark as halted
					break;
				}
			}
			firing = false;
			if ( list ) {
				if ( !flags.once ) {
					if ( stack && stack.length ) {
						memory = stack.shift();
						self.fireWith( memory[ 0 ], memory[ 1 ] );
					}
				} else if ( memory === true ) {
					self.disable();
				} else {
					list = [];
				}
			}
		},
		// Actual Callbacks object
		self = {
			// Add a callback or a collection of callbacks to the list
			add: function() {
				if ( list ) {
					var length = list.length;
					add( arguments );
					// Do we need to add the callbacks to the
					// current firing batch?
					if ( firing ) {
						firingLength = list.length;
					// With memory, if we're not firing then
					// we should call right away, unless previous
					// firing was halted (stopOnFalse)
					} else if ( memory && memory !== true ) {
						firingStart = length;
						fire( memory[ 0 ], memory[ 1 ] );
					}
				}
				return this;
			},
			// Remove a callback from the list
			remove: function() {
				if ( list ) {
					var args = arguments,
						argIndex = 0,
						argLength = args.length;
					for ( ; argIndex < argLength ; argIndex++ ) {
						for ( var i = 0; i < list.length; i++ ) {
							if ( args[ argIndex ] === list[ i ] ) {
								// Handle firingIndex and firingLength
								if ( firing ) {
									if ( i <= firingLength ) {
										firingLength--;
										if ( i <= firingIndex ) {
											firingIndex--;
										}
									}
								}
								// Remove the element
								list.splice( i--, 1 );
								// If we have some unicity property then
								// we only need to do this once
								if ( flags.unique ) {
									break;
								}
							}
						}
					}
				}
				return this;
			},
			// Control if a given callback is in the list
			has: function( fn ) {
				if ( list ) {
					var i = 0,
						length = list.length;
					for ( ; i < length; i++ ) {
						if ( fn === list[ i ] ) {
							return true;
						}
					}
				}
				return false;
			},
			// Remove all callbacks from the list
			empty: function() {
				list = [];
				return this;
			},
			// Have the list do nothing anymore
			disable: function() {
				list = stack = memory = undefined;
				return this;
			},
			// Is it disabled?
			disabled: function() {
				return !list;
			},
			// Lock the list in its current state
			lock: function() {
				stack = undefined;
				if ( !memory || memory === true ) {
					self.disable();
				}
				return this;
			},
			// Is it locked?
			locked: function() {
				return !stack;
			},
			// Call all callbacks with the given context and arguments
			fireWith: function( context, args ) {
				if ( stack ) {
					if ( firing ) {
						if ( !flags.once ) {
							stack.push( [ context, args ] );
						}
					} else if ( !( flags.once && memory ) ) {
						fire( context, args );
					}
				}
				return this;
			},
			// Call all the callbacks with the given arguments
			fire: function() {
				self.fireWith( this, arguments );
				return this;
			},
			// To know if the callbacks have already been called at least once
			fired: function() {
				return !!memory;
			}
		};

	return self;
};




var // Static reference to slice
	sliceDeferred = [].slice;

jQuery.extend({

	Deferred: function( func ) {
		var doneList = jQuery.Callbacks( "once memory" ),
			failList = jQuery.Callbacks( "once memory" ),
			progressList = jQuery.Callbacks( "memory" ),
			state = "pending",
			lists = {
				resolve: doneList,
				reject: failList,
				notify: progressList
			},
			promise = {
				done: doneList.add,
				fail: failList.add,
				progress: progressList.add,

				state: function() {
					return state;
				},

				// Deprecated
				isResolved: doneList.fired,
				isRejected: failList.fired,

				then: function( doneCallbacks, failCallbacks, progressCallbacks ) {
					deferred.done( doneCallbacks ).fail( failCallbacks ).progress( progressCallbacks );
					return this;
				},
				always: function() {
					return deferred.done.apply( deferred, arguments ).fail.apply( deferred, arguments );
				},
				pipe: function( fnDone, fnFail, fnProgress ) {
					return jQuery.Deferred(function( newDefer ) {
						jQuery.each( {
							done: [ fnDone, "resolve" ],
							fail: [ fnFail, "reject" ],
							progress: [ fnProgress, "notify" ]
						}, function( handler, data ) {
							var fn = data[ 0 ],
								action = data[ 1 ],
								returned;
							if ( jQuery.isFunction( fn ) ) {
								deferred[ handler ](function() {
									returned = fn.apply( this, arguments );
									if ( returned && jQuery.isFunction( returned.promise ) ) {
										returned.promise().then( newDefer.resolve, newDefer.reject, newDefer.notify );
									} else {
										newDefer[ action + "With" ]( this === deferred ? newDefer : this, [ returned ] );
									}
								});
							} else {
								deferred[ handler ]( newDefer[ action ] );
							}
						});
					}).promise();
				},
				// Get a promise for this deferred
				// If obj is provided, the promise aspect is added to the object
				promise: function( obj ) {
					if ( obj == null ) {
						obj = promise;
					} else {
						for ( var key in promise ) {
							obj[ key ] = promise[ key ];
						}
					}
					return obj;
				}
			},
			deferred = promise.promise({}),
			key;

		for ( key in lists ) {
			deferred[ key ] = lists[ key ].fire;
			deferred[ key + "With" ] = lists[ key ].fireWith;
		}

		// Handle state
		deferred.done( function() {
			state = "resolved";
		}, failList.disable, progressList.lock ).fail( function() {
			state = "rejected";
		}, doneList.disable, progressList.lock );

		// Call given func if any
		if ( func ) {
			func.call( deferred, deferred );
		}

		// All done!
		return deferred;
	},

	// Deferred helper
	when: function( firstParam ) {
		var args = sliceDeferred.call( arguments, 0 ),
			i = 0,
			length = args.length,
			pValues = new Array( length ),
			count = length,
			pCount = length,
			deferred = length <= 1 && firstParam && jQuery.isFunction( firstParam.promise ) ?
				firstParam :
				jQuery.Deferred(),
			promise = deferred.promise();
		function resolveFunc( i ) {
			return function( value ) {
				args[ i ] = arguments.length > 1 ? sliceDeferred.call( arguments, 0 ) : value;
				if ( !( --count ) ) {
					deferred.resolveWith( deferred, args );
				}
			};
		}
		function progressFunc( i ) {
			return function( value ) {
				pValues[ i ] = arguments.length > 1 ? sliceDeferred.call( arguments, 0 ) : value;
				deferred.notifyWith( promise, pValues );
			};
		}
		if ( length > 1 ) {
			for ( ; i < length; i++ ) {
				if ( args[ i ] && args[ i ].promise && jQuery.isFunction( args[ i ].promise ) ) {
					args[ i ].promise().then( resolveFunc(i), deferred.reject, progressFunc(i) );
				} else {
					--count;
				}
			}
			if ( !count ) {
				deferred.resolveWith( deferred, args );
			}
		} else if ( deferred !== firstParam ) {
			deferred.resolveWith( deferred, length ? [ firstParam ] : [] );
		}
		return promise;
	}
});




jQuery.support = (function() {

	var div = document.createElement( "div" ),
		documentElement = document.documentElement,
		all,
		a,
		select,
		opt,
		input,
		marginDiv,
		support,
		fragment,
		body,
		testElementParent,
		testElement,
		testElementStyle,
		tds,
		events,
		eventName,
		i,
		isSupported;

	// Preliminary tests
	div.setAttribute("className", "t");
	div.innerHTML = "   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/><nav></nav>";


	all = div.getElementsByTagName( "*" );
	a = div.getElementsByTagName( "a" )[ 0 ];

	// Can't get basic test support
	if ( !all || !all.length || !a ) {
		return {};
	}

	// First batch of supports tests
	select = document.createElement( "select" );
	opt = select.appendChild( document.createElement("option") );
	input = div.getElementsByTagName( "input" )[ 0 ];

	support = {
		// IE strips leading whitespace when .innerHTML is used
		leadingWhitespace: ( div.firstChild.nodeType === 3 ),

		// Make sure that tbody elements aren't automatically inserted
		// IE will insert them into empty tables
		tbody: !div.getElementsByTagName( "tbody" ).length,

		// Make sure that link elements get serialized correctly by innerHTML
		// This requires a wrapper element in IE
		htmlSerialize: !!div.getElementsByTagName( "link" ).length,

		// Get the style information from getAttribute
		// (IE uses .cssText instead)
		style: /top/.test( a.getAttribute("style") ),

		// Make sure that URLs aren't manipulated
		// (IE normalizes it by default)
		hrefNormalized: ( a.getAttribute( "href" ) === "/a" ),

		// Make sure that element opacity exists
		// (IE uses filter instead)
		// Use a regex to work around a WebKit issue. See #5145
		opacity: /^0.55/.test( a.style.opacity ),

		// Verify style float existence
		// (IE uses styleFloat instead of cssFloat)
		cssFloat: !!a.style.cssFloat,

		// Make sure unknown elements (like HTML5 elems) are handled appropriately
		unknownElems: !!div.getElementsByTagName( "nav" ).length,

		// Make sure that if no value is specified for a checkbox
		// that it defaults to "on".
		// (WebKit defaults to "" instead)
		checkOn: ( input.value === "on" ),

		// Make sure that a selected-by-default option has a working selected property.
		// (WebKit defaults to false instead of true, IE too, if it's in an optgroup)
		optSelected: opt.selected,

		// Test setAttribute on camelCase class. If it works, we need attrFixes when doing get/setAttribute (ie6/7)
		getSetAttribute: div.className !== "t",

		// Tests for enctype support on a form(#6743)
		enctype: !!document.createElement("form").enctype,

		// Will be defined later
		submitBubbles: true,
		changeBubbles: true,
		focusinBubbles: false,
		deleteExpando: true,
		noCloneEvent: true,
		inlineBlockNeedsLayout: false,
		shrinkWrapBlocks: false,
		reliableMarginRight: true
	};

	// Make sure checked status is properly cloned
	input.checked = true;
	support.noCloneChecked = input.cloneNode( true ).checked;

	// Make sure that the options inside disabled selects aren't marked as disabled
	// (WebKit marks them as disabled)
	select.disabled = true;
	support.optDisabled = !opt.disabled;

	// Test to see if it's possible to delete an expando from an element
	// Fails in Internet Explorer
	try {
		delete div.test;
	} catch( e ) {
		support.deleteExpando = false;
	}

	if ( !div.addEventListener && div.attachEvent && div.fireEvent ) {
		div.attachEvent( "onclick", function() {
			// Cloning a node shouldn't copy over any
			// bound event handlers (IE does this)
			support.noCloneEvent = false;
		});
		div.cloneNode( true ).fireEvent( "onclick" );
	}

	// Check if a radio maintains its value
	// after being appended to the DOM
	input = document.createElement("input");
	input.value = "t";
	input.setAttribute("type", "radio");
	support.radioValue = input.value === "t";

	input.setAttribute("checked", "checked");
	div.appendChild( input );
	fragment = document.createDocumentFragment();
	fragment.appendChild( div.lastChild );

	// WebKit doesn't clone checked state correctly in fragments
	support.checkClone = fragment.cloneNode( true ).cloneNode( true ).lastChild.checked;

	div.innerHTML = "";

	// Figure out if the W3C box model works as expected
	div.style.width = div.style.paddingLeft = "1px";

	// We don't want to do body-related feature tests on frameset
	// documents, which lack a body. So we use
	// document.getElementsByTagName("body")[0], which is undefined in
	// frameset documents, while document.body isn’t. (7398)
	body = document.getElementsByTagName("body")[ 0 ];
	// We use our own, invisible, body unless the body is already present
	// in which case we use a div (#9239)
	testElement = document.createElement( body ? "div" : "body" );
	testElementStyle = {
		visibility: "hidden",
		width: 0,
		height: 0,
		border: 0,
		margin: 0,
		background: "none"
	};
	if ( body ) {
		jQuery.extend( testElementStyle, {
			position: "absolute",
			left: "-999px",
			top: "-999px"
		});
	}
	for ( i in testElementStyle ) {
		testElement.style[ i ] = testElementStyle[ i ];
	}
	testElement.appendChild( div );
	testElementParent = body || documentElement;
	testElementParent.insertBefore( testElement, testElementParent.firstChild );

	// Check if a disconnected checkbox will retain its checked
	// value of true after appended to the DOM (IE6/7)
	support.appendChecked = input.checked;

	support.boxModel = div.offsetWidth === 2;

	if ( "zoom" in div.style ) {
		// Check if natively block-level elements act like inline-block
		// elements when setting their display to 'inline' and giving
		// them layout
		// (IE < 8 does this)
		div.style.display = "inline";
		div.style.zoom = 1;
		support.inlineBlockNeedsLayout = ( div.offsetWidth === 2 );

		// Check if elements with layout shrink-wrap their children
		// (IE 6 does this)
		div.style.display = "";
		div.innerHTML = "<div style='width:4px;'></div>";
		support.shrinkWrapBlocks = ( div.offsetWidth !== 2 );
	}

	div.innerHTML = "<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";
	tds = div.getElementsByTagName( "td" );

	// Check if table cells still have offsetWidth/Height when they are set
	// to display:none and there are still other visible table cells in a
	// table row; if so, offsetWidth/Height are not reliable for use when
	// determining if an element has been hidden directly using
	// display:none (it is still safe to use offsets if a parent element is
	// hidden; don safety goggles and see bug #4512 for more information).
	// (only IE 8 fails this test)
	isSupported = ( tds[ 0 ].offsetHeight === 0 );

	tds[ 0 ].style.display = "";
	tds[ 1 ].style.display = "none";

	// Check if empty table cells still have offsetWidth/Height
	// (IE < 8 fail this test)
	support.reliableHiddenOffsets = isSupported && ( tds[ 0 ].offsetHeight === 0 );
	div.innerHTML = "";

	// Check if div with explicit width and no margin-right incorrectly
	// gets computed margin-right based on width of container. For more
	// info see bug #3333
	// Fails in WebKit before Feb 2011 nightlies
	// WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right
	if ( document.defaultView && document.defaultView.getComputedStyle ) {
		marginDiv = document.createElement( "div" );
		marginDiv.style.width = "0";
		marginDiv.style.marginRight = "0";
		div.appendChild( marginDiv );
		support.reliableMarginRight =
			( parseInt( ( document.defaultView.getComputedStyle( marginDiv, null ) || { marginRight: 0 } ).marginRight, 10 ) || 0 ) === 0;
	}

	// Technique from Juriy Zaytsev
	// http://perfectionkills.com/detecting-event-support-without-browser-sniffing/
	// We only care about the case where non-standard event systems
	// are used, namely in IE. Short-circuiting here helps us to
	// avoid an eval call (in setAttribute) which can cause CSP
	// to go haywire. See: https://developer.mozilla.org/en/Security/CSP
	if ( div.attachEvent ) {
		for( i in {
			submit: 1,
			change: 1,
			focusin: 1
		} ) {
			eventName = "on" + i;
			isSupported = ( eventName in div );
			if ( !isSupported ) {
				div.setAttribute( eventName, "return;" );
				isSupported = ( typeof div[ eventName ] === "function" );
			}
			support[ i + "Bubbles" ] = isSupported;
		}
	}

	// Run fixed position tests at doc ready to avoid a crash
	// related to the invisible body in IE8
	jQuery(function() {
		var container, outer, inner, table, td, offsetSupport,
			conMarginTop = 1,
			ptlm = "position:absolute;top:0;left:0;width:1px;height:1px;margin:0;",
			vb = "visibility:hidden;border:0;",
			style = "style='" + ptlm + "border:5px solid #000;padding:0;'",
			html = "<div " + style + "><div></div></div>" +
							"<table " + style + " cellpadding='0' cellspacing='0'>" +
							"<tr><td></td></tr></table>";

		// Reconstruct a container
		body = document.getElementsByTagName("body")[0];
		if ( !body ) {
			// Return for frameset docs that don't have a body
			// These tests cannot be done
			return;
		}

		container = document.createElement("div");
		container.style.cssText = vb + "width:0;height:0;position:static;top:0;margin-top:" + conMarginTop + "px";
		body.insertBefore( container, body.firstChild );

		// Construct a test element
		testElement = document.createElement("div");
		testElement.style.cssText = ptlm + vb;

		testElement.innerHTML = html;
		container.appendChild( testElement );
		outer = testElement.firstChild;
		inner = outer.firstChild;
		td = outer.nextSibling.firstChild.firstChild;

		offsetSupport = {
			doesNotAddBorder: ( inner.offsetTop !== 5 ),
			doesAddBorderForTableAndCells: ( td.offsetTop === 5 )
		};

		inner.style.position = "fixed";
		inner.style.top = "20px";

		// safari subtracts parent border width here which is 5px
		offsetSupport.fixedPosition = ( inner.offsetTop === 20 || inner.offsetTop === 15 );
		inner.style.position = inner.style.top = "";

		outer.style.overflow = "hidden";
		outer.style.position = "relative";

		offsetSupport.subtractsBorderForOverflowNotVisible = ( inner.offsetTop === -5 );
		offsetSupport.doesNotIncludeMarginInBodyOffset = ( body.offsetTop !== conMarginTop );

		body.removeChild( container );
		testElement = container = null;

		jQuery.extend( support, offsetSupport );
	});

	testElement.innerHTML = "";
	testElementParent.removeChild( testElement );

	// Null connected elements to avoid leaks in IE
	testElement = fragment = select = opt = body = marginDiv = div = input = null;

	return support;
})();

// Keep track of boxModel
jQuery.boxModel = jQuery.support.boxModel;




var rbrace = /^(?:\{.*\}|\[.*\])$/,
	rmultiDash = /([A-Z])/g;

jQuery.extend({
	cache: {},

	// Please use with caution
	uuid: 0,

	// Unique for each copy of jQuery on the page
	// Non-digits removed to match rinlinejQuery
	expando: "jQuery" + ( jQuery.fn.jquery + Math.random() ).replace( /\D/g, "" ),

	// The following elements throw uncatchable exceptions if you
	// attempt to add expando properties to them.
	noData: {
		"embed": true,
		// Ban all objects except for Flash (which handle expandos)
		"object": "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",
		"applet": true
	},

	hasData: function( elem ) {
		elem = elem.nodeType ? jQuery.cache[ elem[jQuery.expando] ] : elem[ jQuery.expando ];
		return !!elem && !isEmptyDataObject( elem );
	},

	data: function( elem, name, data, pvt /* Internal Use Only */ ) {
		if ( !jQuery.acceptData( elem ) ) {
			return;
		}

		var privateCache, thisCache, ret,
			internalKey = jQuery.expando,
			getByName = typeof name === "string",

			// We have to handle DOM nodes and JS objects differently because IE6-7
			// can't GC object references properly across the DOM-JS boundary
			isNode = elem.nodeType,

			// Only DOM nodes need the global jQuery cache; JS object data is
			// attached directly to the object so GC can occur automatically
			cache = isNode ? jQuery.cache : elem,

			// Only defining an ID for JS objects if its cache already exists allows
			// the code to shortcut on the same path as a DOM node with no cache
			id = isNode ? elem[ jQuery.expando ] : elem[ jQuery.expando ] && jQuery.expando,
			isEvents = name === "events";

		// Avoid doing any more work than we need to when trying to get data on an
		// object that has no data at all
		if ( (!id || !cache[id] || (!isEvents && !pvt && !cache[id].data)) && getByName && data === undefined ) {
			return;
		}

		if ( !id ) {
			// Only DOM nodes need a new unique ID for each element since their data
			// ends up in the global cache
			if ( isNode ) {
				elem[ jQuery.expando ] = id = ++jQuery.uuid;
			} else {
				id = jQuery.expando;
			}
		}

		if ( !cache[ id ] ) {
			cache[ id ] = {};

			// Avoids exposing jQuery metadata on plain JS objects when the object
			// is serialized using JSON.stringify
			if ( !isNode ) {
				cache[ id ].toJSON = jQuery.noop;
			}
		}

		// An object can be passed to jQuery.data instead of a key/value pair; this gets
		// shallow copied over onto the existing cache
		if ( typeof name === "object" || typeof name === "function" ) {
			if ( pvt ) {
				cache[ id ] = jQuery.extend( cache[ id ], name );
			} else {
				cache[ id ].data = jQuery.extend( cache[ id ].data, name );
			}
		}

		privateCache = thisCache = cache[ id ];

		// jQuery data() is stored in a separate object inside the object's internal data
		// cache in order to avoid key collisions between internal data and user-defined
		// data.
		if ( !pvt ) {
			if ( !thisCache.data ) {
				thisCache.data = {};
			}

			thisCache = thisCache.data;
		}

		if ( data !== undefined ) {
			thisCache[ jQuery.camelCase( name ) ] = data;
		}

		// Users should not attempt to inspect the internal events object using jQuery.data,
		// it is undocumented and subject to change. But does anyone listen? No.
		if ( isEvents && !thisCache[ name ] ) {
			return privateCache.events;
		}

		// Check for both converted-to-camel and non-converted data property names
		// If a data property was specified
		if ( getByName ) {

			// First Try to find as-is property data
			ret = thisCache[ name ];

			// Test for null|undefined property data
			if ( ret == null ) {

				// Try to find the camelCased property
				ret = thisCache[ jQuery.camelCase( name ) ];
			}
		} else {
			ret = thisCache;
		}

		return ret;
	},

	removeData: function( elem, name, pvt /* Internal Use Only */ ) {
		if ( !jQuery.acceptData( elem ) ) {
			return;
		}

		var thisCache, i, l,

			// Reference to internal data cache key
			internalKey = jQuery.expando,

			isNode = elem.nodeType,

			// See jQuery.data for more information
			cache = isNode ? jQuery.cache : elem,

			// See jQuery.data for more information
			id = isNode ? elem[ jQuery.expando ] : jQuery.expando;

		// If there is already no cache entry for this object, there is no
		// purpose in continuing
		if ( !cache[ id ] ) {
			return;
		}

		if ( name ) {

			thisCache = pvt ? cache[ id ] : cache[ id ].data;

			if ( thisCache ) {

				// Support space separated names
				if ( jQuery.isArray( name ) ) {
					name = name;
				} else if ( name in thisCache ) {
					name = [ name ];
				} else {

					// split the camel cased version by spaces
					name = jQuery.camelCase( name );
					if ( name in thisCache ) {
						name = [ name ];
					} else {
						name = name.split( " " );
					}
				}

				for ( i = 0, l = name.length; i < l; i++ ) {
					delete thisCache[ name[i] ];
				}

				// If there is no data left in the cache, we want to continue
				// and let the cache object itself get destroyed
				if ( !( pvt ? isEmptyDataObject : jQuery.isEmptyObject )( thisCache ) ) {
					return;
				}
			}
		}

		// See jQuery.data for more information
		if ( !pvt ) {
			delete cache[ id ].data;

			// Don't destroy the parent cache unless the internal data object
			// had been the only thing left in it
			if ( !isEmptyDataObject(cache[ id ]) ) {
				return;
			}
		}

		// Browsers that fail expando deletion also refuse to delete expandos on
		// the window, but it will allow it on all other JS objects; other browsers
		// don't care
		// Ensure that `cache` is not a window object #10080
		if ( jQuery.support.deleteExpando || !cache.setInterval ) {
			delete cache[ id ];
		} else {
			cache[ id ] = null;
		}

		// We destroyed the cache and need to eliminate the expando on the node to avoid
		// false lookups in the cache for entries that no longer exist
		if ( isNode ) {
			// IE does not allow us to delete expando properties from nodes,
			// nor does it have a removeAttribute function on Document nodes;
			// we must handle all of these cases
			if ( jQuery.support.deleteExpando ) {
				delete elem[ jQuery.expando ];
			} else if ( elem.removeAttribute ) {
				elem.removeAttribute( jQuery.expando );
			} else {
				elem[ jQuery.expando ] = null;
			}
		}
	},

	// For internal use only.
	_data: function( elem, name, data ) {
		return jQuery.data( elem, name, data, true );
	},

	// A method for determining if a DOM node can handle the data expando
	acceptData: function( elem ) {
		if ( elem.nodeName ) {
			var match = jQuery.noData[ elem.nodeName.toLowerCase() ];

			if ( match ) {
				return !(match === true || elem.getAttribute("classid") !== match);
			}
		}

		return true;
	}
});

jQuery.fn.extend({
	data: function( key, value ) {
		var parts, attr, name,
			data = null;

		if ( typeof key === "undefined" ) {
			if ( this.length ) {
				data = jQuery.data( this[0] );

				if ( this[0].nodeType === 1 && !jQuery._data( this[0], "parsedAttrs" ) ) {
					attr = this[0].attributes;
					for ( var i = 0, l = attr.length; i < l; i++ ) {
						name = attr[i].name;

						if ( name.indexOf( "data-" ) === 0 ) {
							name = jQuery.camelCase( name.substring(5) );

							dataAttr( this[0], name, data[ name ] );
						}
					}
					jQuery._data( this[0], "parsedAttrs", true );
				}
			}

			return data;

		} else if ( typeof key === "object" ) {
			return this.each(function() {
				jQuery.data( this, key );
			});
		}

		parts = key.split(".");
		parts[1] = parts[1] ? "." + parts[1] : "";

		if ( value === undefined ) {
			data = this.triggerHandler("getData" + parts[1] + "!", [parts[0]]);

			// Try to fetch any internally stored data first
			if ( data === undefined && this.length ) {
				data = jQuery.data( this[0], key );
				data = dataAttr( this[0], key, data );
			}

			return data === undefined && parts[1] ?
				this.data( parts[0] ) :
				data;

		} else {
			return this.each(function() {
				var $this = jQuery( this ),
					args = [ parts[0], value ];

				$this.triggerHandler( "setData" + parts[1] + "!", args );
				jQuery.data( this, key, value );
				$this.triggerHandler( "changeData" + parts[1] + "!", args );
			});
		}
	},

	removeData: function( key ) {
		return this.each(function() {
			jQuery.removeData( this, key );
		});
	}
});

function dataAttr( elem, key, data ) {
	// If nothing was found internally, try to fetch any
	// data from the HTML5 data-* attribute
	if ( data === undefined && elem.nodeType === 1 ) {

		var name = "data-" + key.replace( rmultiDash, "-$1" ).toLowerCase();

		data = elem.getAttribute( name );

		if ( typeof data === "string" ) {
			try {
				data = data === "true" ? true :
				data === "false" ? false :
				data === "null" ? null :
				jQuery.isNumeric( data ) ? parseFloat( data ) :
					rbrace.test( data ) ? jQuery.parseJSON( data ) :
					data;
			} catch( e ) {}

			// Make sure we set the data so it isn't changed later
			jQuery.data( elem, key, data );

		} else {
			data = undefined;
		}
	}

	return data;
}

// checks a cache object for emptiness
function isEmptyDataObject( obj ) {
	for ( var name in obj ) {

		// if the public data object is empty, the private is still empty
		if ( name === "data" && jQuery.isEmptyObject( obj[name] ) ) {
			continue;
		}
		if ( name !== "toJSON" ) {
			return false;
		}
	}

	return true;
}




function handleQueueMarkDefer( elem, type, src ) {
	var deferDataKey = type + "defer",
		queueDataKey = type + "queue",
		markDataKey = type + "mark",
		defer = jQuery._data( elem, deferDataKey );
	if ( defer &&
		( src === "queue" || !jQuery._data(elem, queueDataKey) ) &&
		( src === "mark" || !jQuery._data(elem, markDataKey) ) ) {
		// Give room for hard-coded callbacks to fire first
		// and eventually mark/queue something else on the element
		setTimeout( function() {
			if ( !jQuery._data( elem, queueDataKey ) &&
				!jQuery._data( elem, markDataKey ) ) {
				jQuery.removeData( elem, deferDataKey, true );
				defer.fire();
			}
		}, 0 );
	}
}

jQuery.extend({

	_mark: function( elem, type ) {
		if ( elem ) {
			type = ( type || "fx" ) + "mark";
			jQuery._data( elem, type, (jQuery._data( elem, type ) || 0) + 1 );
		}
	},

	_unmark: function( force, elem, type ) {
		if ( force !== true ) {
			type = elem;
			elem = force;
			force = false;
		}
		if ( elem ) {
			type = type || "fx";
			var key = type + "mark",
				count = force ? 0 : ( (jQuery._data( elem, key ) || 1) - 1 );
			if ( count ) {
				jQuery._data( elem, key, count );
			} else {
				jQuery.removeData( elem, key, true );
				handleQueueMarkDefer( elem, type, "mark" );
			}
		}
	},

	queue: function( elem, type, data ) {
		var q;
		if ( elem ) {
			type = ( type || "fx" ) + "queue";
			q = jQuery._data( elem, type );

			// Speed up dequeue by getting out quickly if this is just a lookup
			if ( data ) {
				if ( !q || jQuery.isArray(data) ) {
					q = jQuery._data( elem, type, jQuery.makeArray(data) );
				} else {
					q.push( data );
				}
			}
			return q || [];
		}
	},

	dequeue: function( elem, type ) {
		type = type || "fx";

		var queue = jQuery.queue( elem, type ),
			fn = queue.shift(),
			hooks = {};

		// If the fx queue is dequeued, always remove the progress sentinel
		if ( fn === "inprogress" ) {
			fn = queue.shift();
		}

		if ( fn ) {
			// Add a progress sentinel to prevent the fx queue from being
			// automatically dequeued
			if ( type === "fx" ) {
				queue.unshift( "inprogress" );
			}

			jQuery._data( elem, type + ".run", hooks );
			fn.call( elem, function() {
				jQuery.dequeue( elem, type );
			}, hooks );
		}

		if ( !queue.length ) {
			jQuery.removeData( elem, type + "queue " + type + ".run", true );
			handleQueueMarkDefer( elem, type, "queue" );
		}
	}
});

jQuery.fn.extend({
	queue: function( type, data ) {
		if ( typeof type !== "string" ) {
			data = type;
			type = "fx";
		}

		if ( data === undefined ) {
			return jQuery.queue( this[0], type );
		}
		return this.each(function() {
			var queue = jQuery.queue( this, type, data );

			if ( type === "fx" && queue[0] !== "inprogress" ) {
				jQuery.dequeue( this, type );
			}
		});
	},
	dequeue: function( type ) {
		return this.each(function() {
			jQuery.dequeue( this, type );
		});
	},
	// Based off of the plugin by Clint Helfers, with permission.
	// http://blindsignals.com/index.php/2009/07/jquery-delay/
	delay: function( time, type ) {
		time = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;
		type = type || "fx";

		return this.queue( type, function( next, hooks ) {
			var timeout = setTimeout( next, time );
			hooks.stop = function() {
				clearTimeout( timeout );
			};
		});
	},
	clearQueue: function( type ) {
		return this.queue( type || "fx", [] );
	},
	// Get a promise resolved when queues of a certain type
	// are emptied (fx is the type by default)
	promise: function( type, object ) {
		if ( typeof type !== "string" ) {
			object = type;
			type = undefined;
		}
		type = type || "fx";
		var defer = jQuery.Deferred(),
			elements = this,
			i = elements.length,
			count = 1,
			deferDataKey = type + "defer",
			queueDataKey = type + "queue",
			markDataKey = type + "mark",
			tmp;
		function resolve() {
			if ( !( --count ) ) {
				defer.resolveWith( elements, [ elements ] );
			}
		}
		while( i-- ) {
			if (( tmp = jQuery.data( elements[ i ], deferDataKey, undefined, true ) ||
					( jQuery.data( elements[ i ], queueDataKey, undefined, true ) ||
						jQuery.data( elements[ i ], markDataKey, undefined, true ) ) &&
					jQuery.data( elements[ i ], deferDataKey, jQuery.Callbacks( "once memory" ), true ) )) {
				count++;
				tmp.add( resolve );
			}
		}
		resolve();
		return defer.promise();
	}
});




var rclass = /[\n\t\r]/g,
	rspace = /\s+/,
	rreturn = /\r/g,
	rtype = /^(?:button|input)$/i,
	rfocusable = /^(?:button|input|object|select|textarea)$/i,
	rclickable = /^a(?:rea)?$/i,
	rboolean = /^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,
	getSetAttribute = jQuery.support.getSetAttribute,
	nodeHook, boolHook, fixSpecified;

jQuery.fn.extend({
	attr: function( name, value ) {
		return jQuery.access( this, name, value, true, jQuery.attr );
	},

	removeAttr: function( name ) {
		return this.each(function() {
			jQuery.removeAttr( this, name );
		});
	},

	prop: function( name, value ) {
		return jQuery.access( this, name, value, true, jQuery.prop );
	},

	removeProp: function( name ) {
		name = jQuery.propFix[ name ] || name;
		return this.each(function() {
			// try/catch handles cases where IE balks (such as removing a property on window)
			try {
				this[ name ] = undefined;
				delete this[ name ];
			} catch( e ) {}
		});
	},

	addClass: function( value ) {
		var classNames, i, l, elem,
			setClass, c, cl;

		if ( jQuery.isFunction( value ) ) {
			return this.each(function( j ) {
				jQuery( this ).addClass( value.call(this, j, this.className) );
			});
		}

		if ( value && typeof value === "string" ) {
			classNames = value.split( rspace );

			for ( i = 0, l = this.length; i < l; i++ ) {
				elem = this[ i ];

				if ( elem.nodeType === 1 ) {
					if ( !elem.className && classNames.length === 1 ) {
						elem.className = value;

					} else {
						setClass = " " + elem.className + " ";

						for ( c = 0, cl = classNames.length; c < cl; c++ ) {
							if ( !~setClass.indexOf( " " + classNames[ c ] + " " ) ) {
								setClass += classNames[ c ] + " ";
							}
						}
						elem.className = jQuery.trim( setClass );
					}
				}
			}
		}

		return this;
	},

	removeClass: function( value ) {
		var classNames, i, l, elem, className, c, cl;

		if ( jQuery.isFunction( value ) ) {
			return this.each(function( j ) {
				jQuery( this ).removeClass( value.call(this, j, this.className) );
			});
		}

		if ( (value && typeof value === "string") || value === undefined ) {
			classNames = ( value || "" ).split( rspace );

			for ( i = 0, l = this.length; i < l; i++ ) {
				elem = this[ i ];

				if ( elem.nodeType === 1 && elem.className ) {
					if ( value ) {
						className = (" " + elem.className + " ").replace( rclass, " " );
						for ( c = 0, cl = classNames.length; c < cl; c++ ) {
							className = className.replace(" " + classNames[ c ] + " ", " ");
						}
						elem.className = jQuery.trim( className );

					} else {
						elem.className = "";
					}
				}
			}
		}

		return this;
	},

	toggleClass: function( value, stateVal ) {
		var type = typeof value,
			isBool = typeof stateVal === "boolean";

		if ( jQuery.isFunction( value ) ) {
			return this.each(function( i ) {
				jQuery( this ).toggleClass( value.call(this, i, this.className, stateVal), stateVal );
			});
		}

		return this.each(function() {
			if ( type === "string" ) {
				// toggle individual class names
				var className,
					i = 0,
					self = jQuery( this ),
					state = stateVal,
					classNames = value.split( rspace );

				while ( (className = classNames[ i++ ]) ) {
					// check each className given, space seperated list
					state = isBool ? state : !self.hasClass( className );
					self[ state ? "addClass" : "removeClass" ]( className );
				}

			} else if ( type === "undefined" || type === "boolean" ) {
				if ( this.className ) {
					// store className if set
					jQuery._data( this, "__className__", this.className );
				}

				// toggle whole className
				this.className = this.className || value === false ? "" : jQuery._data( this, "__className__" ) || "";
			}
		});
	},

	hasClass: function( selector ) {
		var className = " " + selector + " ",
			i = 0,
			l = this.length;
		for ( ; i < l; i++ ) {
			if ( this[i].nodeType === 1 && (" " + this[i].className + " ").replace(rclass, " ").indexOf( className ) > -1 ) {
				return true;
			}
		}

		return false;
	},

	val: function( value ) {
		var hooks, ret, isFunction,
			elem = this[0];

		if ( !arguments.length ) {
			if ( elem ) {
				hooks = jQuery.valHooks[ elem.nodeName.toLowerCase() ] || jQuery.valHooks[ elem.type ];

				if ( hooks && "get" in hooks && (ret = hooks.get( elem, "value" )) !== undefined ) {
					return ret;
				}

				ret = elem.value;

				return typeof ret === "string" ?
					// handle most common string cases
					ret.replace(rreturn, "") :
					// handle cases where value is null/undef or number
					ret == null ? "" : ret;
			}

			return undefined;
		}

		isFunction = jQuery.isFunction( value );

		return this.each(function( i ) {
			var self = jQuery(this), val;

			if ( this.nodeType !== 1 ) {
				return;
			}

			if ( isFunction ) {
				val = value.call( this, i, self.val() );
			} else {
				val = value;
			}

			// Treat null/undefined as ""; convert numbers to string
			if ( val == null ) {
				val = "";
			} else if ( typeof val === "number" ) {
				val += "";
			} else if ( jQuery.isArray( val ) ) {
				val = jQuery.map(val, function ( value ) {
					return value == null ? "" : value + "";
				});
			}

			hooks = jQuery.valHooks[ this.nodeName.toLowerCase() ] || jQuery.valHooks[ this.type ];

			// If set returns undefined, fall back to normal setting
			if ( !hooks || !("set" in hooks) || hooks.set( this, val, "value" ) === undefined ) {
				this.value = val;
			}
		});
	}
});

jQuery.extend({
	valHooks: {
		option: {
			get: function( elem ) {
				// attributes.value is undefined in Blackberry 4.7 but
				// uses .value. See #6932
				var val = elem.attributes.value;
				return !val || val.specified ? elem.value : elem.text;
			}
		},
		select: {
			get: function( elem ) {
				var value, i, max, option,
					index = elem.selectedIndex,
					values = [],
					options = elem.options,
					one = elem.type === "select-one";

				// Nothing was selected
				if ( index < 0 ) {
					return null;
				}

				// Loop through all the selected options
				i = one ? index : 0;
				max = one ? index + 1 : options.length;
				for ( ; i < max; i++ ) {
					option = options[ i ];

					// Don't return options that are disabled or in a disabled optgroup
					if ( option.selected && (jQuery.support.optDisabled ? !option.disabled : option.getAttribute("disabled") === null) &&
							(!option.parentNode.disabled || !jQuery.nodeName( option.parentNode, "optgroup" )) ) {

						// Get the specific value for the option
						value = jQuery( option ).val();

						// We don't need an array for one selects
						if ( one ) {
							return value;
						}

						// Multi-Selects return an array
						values.push( value );
					}
				}

				// Fixes Bug #2551 -- select.val() broken in IE after form.reset()
				if ( one && !values.length && options.length ) {
					return jQuery( options[ index ] ).val();
				}

				return values;
			},

			set: function( elem, value ) {
				var values = jQuery.makeArray( value );

				jQuery(elem).find("option").each(function() {
					this.selected = jQuery.inArray( jQuery(this).val(), values ) >= 0;
				});

				if ( !values.length ) {
					elem.selectedIndex = -1;
				}
				return values;
			}
		}
	},

	attrFn: {
		val: true,
		css: true,
		html: true,
		text: true,
		data: true,
		width: true,
		height: true,
		offset: true
	},

	attr: function( elem, name, value, pass ) {
		var ret, hooks, notxml,
			nType = elem.nodeType;

		// don't get/set attributes on text, comment and attribute nodes
		if ( !elem || nType === 3 || nType === 8 || nType === 2 ) {
			return undefined;
		}

		if ( pass && name in jQuery.attrFn ) {
			return jQuery( elem )[ name ]( value );
		}

		// Fallback to prop when attributes are not supported
		if ( !("getAttribute" in elem) ) {
			return jQuery.prop( elem, name, value );
		}

		notxml = nType !== 1 || !jQuery.isXMLDoc( elem );

		// All attributes are lowercase
		// Grab necessary hook if one is defined
		if ( notxml ) {
			name = name.toLowerCase();
			hooks = jQuery.attrHooks[ name ] || ( rboolean.test( name ) ? boolHook : nodeHook );
		}

		if ( value !== undefined ) {

			if ( value === null ) {
				jQuery.removeAttr( elem, name );
				return undefined;

			} else if ( hooks && "set" in hooks && notxml && (ret = hooks.set( elem, value, name )) !== undefined ) {
				return ret;

			} else {
				elem.setAttribute( name, "" + value );
				return value;
			}

		} else if ( hooks && "get" in hooks && notxml && (ret = hooks.get( elem, name )) !== null ) {
			return ret;

		} else {

			ret = elem.getAttribute( name );

			// Non-existent attributes return null, we normalize to undefined
			return ret === null ?
				undefined :
				ret;
		}
	},

	removeAttr: function( elem, value ) {
		var propName, attrNames, name, l,
			i = 0;

		if ( elem.nodeType === 1 ) {
			attrNames = ( value || "" ).split( rspace );
			l = attrNames.length;

			for ( ; i < l; i++ ) {
				name = attrNames[ i ].toLowerCase();
				propName = jQuery.propFix[ name ] || name;

				// See #9699 for explanation of this approach (setting first, then removal)
				jQuery.attr( elem, name, "" );
				elem.removeAttribute( getSetAttribute ? name : propName );

				// Set corresponding property to false for boolean attributes
				if ( rboolean.test( name ) && propName in elem ) {
					elem[ propName ] = false;
				}
			}
		}
	},

	attrHooks: {
		type: {
			set: function( elem, value ) {
				// We can't allow the type property to be changed (since it causes problems in IE)
				if ( rtype.test( elem.nodeName ) && elem.parentNode ) {
					jQuery.error( "type property can't be changed" );
				} else if ( !jQuery.support.radioValue && value === "radio" && jQuery.nodeName(elem, "input") ) {
					// Setting the type on a radio button after the value resets the value in IE6-9
					// Reset value to it's default in case type is set after value
					// This is for element creation
					var val = elem.value;
					elem.setAttribute( "type", value );
					if ( val ) {
						elem.value = val;
					}
					return value;
				}
			}
		},
		// Use the value property for back compat
		// Use the nodeHook for button elements in IE6/7 (#1954)
		value: {
			get: function( elem, name ) {
				if ( nodeHook && jQuery.nodeName( elem, "button" ) ) {
					return nodeHook.get( elem, name );
				}
				return name in elem ?
					elem.value :
					null;
			},
			set: function( elem, value, name ) {
				if ( nodeHook && jQuery.nodeName( elem, "button" ) ) {
					return nodeHook.set( elem, value, name );
				}
				// Does not return so that setAttribute is also used
				elem.value = value;
			}
		}
	},

	propFix: {
		tabindex: "tabIndex",
		readonly: "readOnly",
		"for": "htmlFor",
		"class": "className",
		maxlength: "maxLength",
		cellspacing: "cellSpacing",
		cellpadding: "cellPadding",
		rowspan: "rowSpan",
		colspan: "colSpan",
		usemap: "useMap",
		frameborder: "frameBorder",
		contenteditable: "contentEditable"
	},

	prop: function( elem, name, value ) {
		var ret, hooks, notxml,
			nType = elem.nodeType;

		// don't get/set properties on text, comment and attribute nodes
		if ( !elem || nType === 3 || nType === 8 || nType === 2 ) {
			return undefined;
		}

		notxml = nType !== 1 || !jQuery.isXMLDoc( elem );

		if ( notxml ) {
			// Fix name and attach hooks
			name = jQuery.propFix[ name ] || name;
			hooks = jQuery.propHooks[ name ];
		}

		if ( value !== undefined ) {
			if ( hooks && "set" in hooks && (ret = hooks.set( elem, value, name )) !== undefined ) {
				return ret;

			} else {
				return ( elem[ name ] = value );
			}

		} else {
			if ( hooks && "get" in hooks && (ret = hooks.get( elem, name )) !== null ) {
				return ret;

			} else {
				return elem[ name ];
			}
		}
	},

	propHooks: {
		tabIndex: {
			get: function( elem ) {
				// elem.tabIndex doesn't always return the correct value when it hasn't been explicitly set
				// http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/
				var attributeNode = elem.getAttributeNode("tabindex");

				return attributeNode && attributeNode.specified ?
					parseInt( attributeNode.value, 10 ) :
					rfocusable.test( elem.nodeName ) || rclickable.test( elem.nodeName ) && elem.href ?
						0 :
						undefined;
			}
		}
	}
});

// Add the tabIndex propHook to attrHooks for back-compat (different case is intentional)
jQuery.attrHooks.tabindex = jQuery.propHooks.tabIndex;

// Hook for boolean attributes
boolHook = {
	get: function( elem, name ) {
		// Align boolean attributes with corresponding properties
		// Fall back to attribute presence where some booleans are not supported
		var attrNode,
			property = jQuery.prop( elem, name );
		return property === true || typeof property !== "boolean" && ( attrNode = elem.getAttributeNode(name) ) && attrNode.nodeValue !== false ?
			name.toLowerCase() :
			undefined;
	},
	set: function( elem, value, name ) {
		var propName;
		if ( value === false ) {
			// Remove boolean attributes when set to false
			jQuery.removeAttr( elem, name );
		} else {
			// value is true since we know at this point it's type boolean and not false
			// Set boolean attributes to the same name and set the DOM property
			propName = jQuery.propFix[ name ] || name;
			if ( propName in elem ) {
				// Only set the IDL specifically if it already exists on the element
				elem[ propName ] = true;
			}

			elem.setAttribute( name, name.toLowerCase() );
		}
		return name;
	}
};

// IE6/7 do not support getting/setting some attributes with get/setAttribute
if ( !getSetAttribute ) {

	fixSpecified = {
		name: true,
		id: true
	};

	// Use this for any attribute in IE6/7
	// This fixes almost every IE6/7 issue
	nodeHook = jQuery.valHooks.button = {
		get: function( elem, name ) {
			var ret;
			ret = elem.getAttributeNode( name );
			return ret && ( fixSpecified[ name ] ? ret.nodeValue !== "" : ret.specified ) ?
				ret.nodeValue :
				undefined;
		},
		set: function( elem, value, name ) {
			// Set the existing or create a new attribute node
			var ret = elem.getAttributeNode( name );
			if ( !ret ) {
				ret = document.createAttribute( name );
				elem.setAttributeNode( ret );
			}
			return ( ret.nodeValue = value + "" );
		}
	};

	// Apply the nodeHook to tabindex
	jQuery.attrHooks.tabindex.set = nodeHook.set;

	// Set width and height to auto instead of 0 on empty string( Bug #8150 )
	// This is for removals
	jQuery.each([ "width", "height" ], function( i, name ) {
		jQuery.attrHooks[ name ] = jQuery.extend( jQuery.attrHooks[ name ], {
			set: function( elem, value ) {
				if ( value === "" ) {
					elem.setAttribute( name, "auto" );
					return value;
				}
			}
		});
	});

	// Set contenteditable to false on removals(#10429)
	// Setting to empty string throws an error as an invalid value
	jQuery.attrHooks.contenteditable = {
		get: nodeHook.get,
		set: function( elem, value, name ) {
			if ( value === "" ) {
				value = "false";
			}
			nodeHook.set( elem, value, name );
		}
	};
}


// Some attributes require a special call on IE
if ( !jQuery.support.hrefNormalized ) {
	jQuery.each([ "href", "src", "width", "height" ], function( i, name ) {
		jQuery.attrHooks[ name ] = jQuery.extend( jQuery.attrHooks[ name ], {
			get: function( elem ) {
				var ret = elem.getAttribute( name, 2 );
				return ret === null ? undefined : ret;
			}
		});
	});
}

if ( !jQuery.support.style ) {
	jQuery.attrHooks.style = {
		get: function( elem ) {
			// Return undefined in the case of empty string
			// Normalize to lowercase since IE uppercases css property names
			return elem.style.cssText.toLowerCase() || undefined;
		},
		set: function( elem, value ) {
			return ( elem.style.cssText = "" + value );
		}
	};
}

// Safari mis-reports the default selected property of an option
// Accessing the parent's selectedIndex property fixes it
if ( !jQuery.support.optSelected ) {
	jQuery.propHooks.selected = jQuery.extend( jQuery.propHooks.selected, {
		get: function( elem ) {
			var parent = elem.parentNode;

			if ( parent ) {
				parent.selectedIndex;

				// Make sure that it also works with optgroups, see #5701
				if ( parent.parentNode ) {
					parent.parentNode.selectedIndex;
				}
			}
			return null;
		}
	});
}

// IE6/7 call enctype encoding
if ( !jQuery.support.enctype ) {
	jQuery.propFix.enctype = "encoding";
}

// Radios and checkboxes getter/setter
if ( !jQuery.support.checkOn ) {
	jQuery.each([ "radio", "checkbox" ], function() {
		jQuery.valHooks[ this ] = {
			get: function( elem ) {
				// Handle the case where in Webkit "" is returned instead of "on" if a value isn't specified
				return elem.getAttribute("value") === null ? "on" : elem.value;
			}
		};
	});
}
jQuery.each([ "radio", "checkbox" ], function() {
	jQuery.valHooks[ this ] = jQuery.extend( jQuery.valHooks[ this ], {
		set: function( elem, value ) {
			if ( jQuery.isArray( value ) ) {
				return ( elem.checked = jQuery.inArray( jQuery(elem).val(), value ) >= 0 );
			}
		}
	});
});




var rnamespaces = /\.(.*)$/,
	rformElems = /^(?:textarea|input|select)$/i,
	rperiod = /\./g,
	rspaces = / /g,
	rescape = /[^\w\s.|`]/g,
	rtypenamespace = /^([^\.]*)?(?:\.(.+))?$/,
	rhoverHack = /\bhover(\.\S+)?/,
	rkeyEvent = /^key/,
	rmouseEvent = /^(?:mouse|contextmenu)|click/,
	rquickIs = /^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,
	quickParse = function( selector ) {
		var quick = rquickIs.exec( selector );
		if ( quick ) {
			//   0  1    2   3
			// [ _, tag, id, class ]
			quick[1] = ( quick[1] || "" ).toLowerCase();
			quick[3] = quick[3] && new RegExp( "(?:^|\\s)" + quick[3] + "(?:\\s|$)" );
		}
		return quick;
	},
	quickIs = function( elem, m ) {
		return (
			(!m[1] || elem.nodeName.toLowerCase() === m[1]) &&
			(!m[2] || elem.id === m[2]) &&
			(!m[3] || m[3].test( elem.className ))
		);
	},
	hoverHack = function( events ) {
		return jQuery.event.special.hover ? events : events.replace( rhoverHack, "mouseenter$1 mouseleave$1" );
	};

/*
 * Helper functions for managing events -- not part of the public interface.
 * Props to Dean Edwards' addEvent library for many of the ideas.
 */
jQuery.event = {

	add: function( elem, types, handler, data, selector ) {

		var elemData, eventHandle, events,
			t, tns, type, namespaces, handleObj,
			handleObjIn, quick, handlers, special;

		// Don't attach events to noData or text/comment nodes (allow plain objects tho)
		if ( elem.nodeType === 3 || elem.nodeType === 8 || !types || !handler || !(elemData = jQuery._data( elem )) ) {
			return;
		}

		// Caller can pass in an object of custom data in lieu of the handler
		if ( handler.handler ) {
			handleObjIn = handler;
			handler = handleObjIn.handler;
		}

		// Make sure that the handler has a unique ID, used to find/remove it later
		if ( !handler.guid ) {
			handler.guid = jQuery.guid++;
		}

		// Init the element's event structure and main handler, if this is the first
		events = elemData.events;
		if ( !events ) {
			elemData.events = events = {};
		}
		eventHandle = elemData.handle;
		if ( !eventHandle ) {
			elemData.handle = eventHandle = function( e ) {
				// Discard the second event of a jQuery.event.trigger() and
				// when an event is called after a page has unloaded
				return typeof jQuery !== "undefined" && (!e || jQuery.event.triggered !== e.type) ?
					jQuery.event.dispatch.apply( eventHandle.elem, arguments ) :
					undefined;
			};
			// Add elem as a property of the handle fn to prevent a memory leak with IE non-native events
			eventHandle.elem = elem;
		}

		// Handle multiple events separated by a space
		// jQuery(...).bind("mouseover mouseout", fn);
		types = hoverHack(types).split( " " );
		for ( t = 0; t < types.length; t++ ) {

			tns = rtypenamespace.exec( types[t] ) || [];
			type = tns[1];
			namespaces = ( tns[2] || "" ).split( "." ).sort();

			// If event changes its type, use the special event handlers for the changed type
			special = jQuery.event.special[ type ] || {};

			// If selector defined, determine special event api type, otherwise given type
			type = ( selector ? special.delegateType : special.bindType ) || type;

			// Update special based on newly reset type
			special = jQuery.event.special[ type ] || {};

			// handleObj is passed to all event handlers
			handleObj = jQuery.extend({
				type: type,
				origType: tns[1],
				data: data,
				handler: handler,
				guid: handler.guid,
				selector: selector,
				namespace: namespaces.join(".")
			}, handleObjIn );

			// Delegated event; pre-analyze selector so it's processed quickly on event dispatch
			if ( selector ) {
				handleObj.quick = quickParse( selector );
				if ( !handleObj.quick && jQuery.expr.match.POS.test( selector ) ) {
					handleObj.isPositional = true;
				}
			}

			// Init the event handler queue if we're the first
			handlers = events[ type ];
			if ( !handlers ) {
				handlers = events[ type ] = [];
				handlers.delegateCount = 0;

				// Only use addEventListener/attachEvent if the special events handler returns false
				if ( !special.setup || special.setup.call( elem, data, namespaces, eventHandle ) === false ) {
					// Bind the global event handler to the element
					if ( elem.addEventListener ) {
						elem.addEventListener( type, eventHandle, false );

					} else if ( elem.attachEvent ) {
						elem.attachEvent( "on" + type, eventHandle );
					}
				}
			}

			if ( special.add ) {
				special.add.call( elem, handleObj );

				if ( !handleObj.handler.guid ) {
					handleObj.handler.guid = handler.guid;
				}
			}

			// Add to the element's handler list, delegates in front
			if ( selector ) {
				handlers.splice( handlers.delegateCount++, 0, handleObj );
			} else {
				handlers.push( handleObj );
			}

			// Keep track of which events have ever been used, for event optimization
			jQuery.event.global[ type ] = true;
		}

		// Nullify elem to prevent memory leaks in IE
		elem = null;
	},

	global: {},

	// Detach an event or set of events from an element
	remove: function( elem, types, handler, selector ) {

		var elemData = jQuery.hasData( elem ) && jQuery._data( elem ),
			t, tns, type, namespaces, origCount,
			j, events, special, handle, eventType, handleObj;

		if ( !elemData || !(events = elemData.events) ) {
			return;
		}

		// Once for each type.namespace in types; type may be omitted
		types = hoverHack( types || "" ).split(" ");
		for ( t = 0; t < types.length; t++ ) {
			tns = rtypenamespace.exec( types[t] ) || [];
			type = tns[1];
			namespaces = tns[2];

			// Unbind all events (on this namespace, if provided) for the element
			if ( !type ) {
				namespaces = namespaces? "." + namespaces : "";
				for ( j in events ) {
					jQuery.event.remove( elem, j + namespaces, handler, selector );
				}
				return;
			}

			special = jQuery.event.special[ type ] || {};
			type = ( selector? special.delegateType : special.bindType ) || type;
			eventType = events[ type ] || [];
			origCount = eventType.length;
			namespaces = namespaces ? new RegExp("(^|\\.)" + namespaces.split(".").sort().join("\\.(?:.*\\.)?") + "(\\.|$)") : null;

			// Only need to loop for special events or selective removal
			if ( handler || namespaces || selector || special.remove ) {
				for ( j = 0; j < eventType.length; j++ ) {
					handleObj = eventType[ j ];

					if ( !handler || handler.guid === handleObj.guid ) {
						if ( !namespaces || namespaces.test( handleObj.namespace ) ) {
							if ( !selector || selector === handleObj.selector || selector === "**" && handleObj.selector ) {
								eventType.splice( j--, 1 );

								if ( handleObj.selector ) {
									eventType.delegateCount--;
								}
								if ( special.remove ) {
									special.remove.call( elem, handleObj );
								}
							}
						}
					}
				}
			} else {
				// Removing all events
				eventType.length = 0;
			}

			// Remove generic event handler if we removed something and no more handlers exist
			// (avoids potential for endless recursion during removal of special event handlers)
			if ( eventType.length === 0 && origCount !== eventType.length ) {
				if ( !special.teardown || special.teardown.call( elem, namespaces ) === false ) {
					jQuery.removeEvent( elem, type, elemData.handle );
				}

				delete events[ type ];
			}
		}

		// Remove the expando if it's no longer used
		if ( jQuery.isEmptyObject( events ) ) {
			handle = elemData.handle;
			if ( handle ) {
				handle.elem = null;
			}

			// removeData also checks for emptiness and clears the expando if empty
			// so use it instead of delete
			jQuery.removeData( elem, [ "events", "handle" ], true );
		}
	},

	// Events that are safe to short-circuit if no handlers are attached.
	// Native DOM events should not be added, they may have inline handlers.
	customEvent: {
		"getData": true,
		"setData": true,
		"changeData": true
	},

	trigger: function( event, data, elem, onlyHandlers ) {
		// Don't do events on text and comment nodes
		if ( elem && (elem.nodeType === 3 || elem.nodeType === 8) ) {
			return;
		}

		// Event object or event type
		var type = event.type || event,
			namespaces = [],
			cache, exclusive, i, cur, old, ontype, special, handle, eventPath, bubbleType;

		if ( type.indexOf( "!" ) >= 0 ) {
			// Exclusive events trigger only for the exact event (no namespaces)
			type = type.slice(0, -1);
			exclusive = true;
		}

		if ( type.indexOf( "." ) >= 0 ) {
			// Namespaced trigger; create a regexp to match event type in handle()
			namespaces = type.split(".");
			type = namespaces.shift();
			namespaces.sort();
		}

		if ( (!elem || jQuery.event.customEvent[ type ]) && !jQuery.event.global[ type ] ) {
			// No jQuery handlers for this event type, and it can't have inline handlers
			return;
		}

		// Caller can pass in an Event, Object, or just an event type string
		event = typeof event === "object" ?
			// jQuery.Event object
			event[ jQuery.expando ] ? event :
			// Object literal
			new jQuery.Event( type, event ) :
			// Just the event type (string)
			new jQuery.Event( type );

		event.type = type;
		event.isTrigger = true;
		event.exclusive = exclusive;
		event.namespace = namespaces.join( "." );
		event.namespace_re = event.namespace? new RegExp("(^|\\.)" + namespaces.join("\\.(?:.*\\.)?") + "(\\.|$)") : null;
		ontype = type.indexOf( ":" ) < 0 ? "on" + type : "";

		// triggerHandler() and global events don't bubble or run the default action
		if ( onlyHandlers || !elem ) {
			event.preventDefault();
		}

		// Handle a global trigger
		if ( !elem ) {

			// TODO: Stop taunting the data cache; remove global events and always attach to document
			cache = jQuery.cache;
			for ( i in cache ) {
				if ( cache[ i ].events && cache[ i ].events[ type ] ) {
					jQuery.event.trigger( event, data, cache[ i ].handle.elem, true );
				}
			}
			return;
		}

		// Clean up the event in case it is being reused
		event.result = undefined;
		if ( !event.target ) {
			event.target = elem;
		}

		// Clone any incoming data and prepend the event, creating the handler arg list
		data = data != null ? jQuery.makeArray( data ) : [];
		data.unshift( event );

		// Allow special events to draw outside the lines
		special = jQuery.event.special[ type ] || {};
		if ( special.trigger && special.trigger.apply( elem, data ) === false ) {
			return;
		}

		// Determine event propagation path in advance, per W3C events spec (#9951)
		// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)
		eventPath = [[ elem, special.bindType || type ]];
		if ( !onlyHandlers && !special.noBubble && !jQuery.isWindow( elem ) ) {

			bubbleType = special.delegateType || type;
			old = null;
			for ( cur = elem.parentNode; cur; cur = cur.parentNode ) {
				eventPath.push([ cur, bubbleType ]);
				old = cur;
			}

			// Only add window if we got to document (e.g., not plain obj or detached DOM)
			if ( old && old === elem.ownerDocument ) {
				eventPath.push([ old.defaultView || old.parentWindow || window, bubbleType ]);
			}
		}

		// Fire handlers on the event path
		for ( i = 0; i < eventPath.length; i++ ) {

			cur = eventPath[i][0];
			event.type = eventPath[i][1];

			handle = ( jQuery._data( cur, "events" ) || {} )[ event.type ] && jQuery._data( cur, "handle" );
			if ( handle ) {
				handle.apply( cur, data );
			}
			handle = ontype && cur[ ontype ];
			if ( handle && jQuery.acceptData( cur ) ) {
				handle.apply( cur, data );
			}

			if ( event.isPropagationStopped() ) {
				break;
			}
		}
		event.type = type;

		// If nobody prevented the default action, do it now
		if ( !event.isDefaultPrevented() ) {

			if ( (!special._default || special._default.apply( elem.ownerDocument, data ) === false) &&
				!(type === "click" && jQuery.nodeName( elem, "a" )) && jQuery.acceptData( elem ) ) {

				// Call a native DOM method on the target with the same name name as the event.
				// Can't use an .isFunction() check here because IE6/7 fails that test.
				// Don't do default actions on window, that's where global variables be (#6170)
				// IE<9 dies on focus/blur to hidden element (#1486)
				if ( ontype && elem[ type ] && ((type !== "focus" && type !== "blur") || event.target.offsetWidth !== 0) && !jQuery.isWindow( elem ) ) {

					// Don't re-trigger an onFOO event when we call its FOO() method
					old = elem[ ontype ];

					if ( old ) {
						elem[ ontype ] = null;
					}

					// Prevent re-triggering of the same event, since we already bubbled it above
					jQuery.event.triggered = type;
					elem[ type ]();
					jQuery.event.triggered = undefined;

					if ( old ) {
						elem[ ontype ] = old;
					}
				}
			}
		}

		return event.result;
	},

	dispatch: function( event ) {

		// Make a writable jQuery.Event from the native event object
		event = jQuery.event.fix( event || window.event );

		var handlers = ( (jQuery._data( this, "events" ) || {} )[ event.type ] || []),
			delegateCount = handlers.delegateCount,
			args = [].slice.call( arguments, 0 ),
			run_all = !event.exclusive && !event.namespace,
			specialHandle = ( jQuery.event.special[ event.type ] || {} ).handle,
			handlerQueue = [],
			i, j, cur, ret, selMatch, matched, matches, handleObj, sel, hit, related;

		// Use the fix-ed jQuery.Event rather than the (read-only) native event
		args[0] = event;
		event.delegateTarget = this;

		// Determine handlers that should run if there are delegated events
		// Avoid disabled elements in IE (#6911) and non-left-click bubbling in Firefox (#3861)
		if ( delegateCount && !event.target.disabled && !(event.button && event.type === "click") ) {

			for ( cur = event.target; cur != this; cur = cur.parentNode || this ) {
				selMatch = {};
				matches = [];
				for ( i = 0; i < delegateCount; i++ ) {
					handleObj = handlers[ i ];
					sel = handleObj.selector;
					hit = selMatch[ sel ];

					if ( handleObj.isPositional ) {
						// Since .is() does not work for positionals; see http://jsfiddle.net/eJ4yd/3/
						hit = ( hit || (selMatch[ sel ] = jQuery( sel )) ).index( cur ) >= 0;
					} else if ( hit === undefined ) {
						hit = selMatch[ sel ] = ( handleObj.quick ? quickIs( cur, handleObj.quick ) : jQuery( cur ).is( sel ) );
					}
					if ( hit ) {
						matches.push( handleObj );
					}
				}
				if ( matches.length ) {
					handlerQueue.push({ elem: cur, matches: matches });
				}
			}
		}

		// Add the remaining (directly-bound) handlers
		if ( handlers.length > delegateCount ) {
			handlerQueue.push({ elem: this, matches: handlers.slice( delegateCount ) });
		}

		// Run delegates first; they may want to stop propagation beneath us
		for ( i = 0; i < handlerQueue.length && !event.isPropagationStopped(); i++ ) {
			matched = handlerQueue[ i ];
			event.currentTarget = matched.elem;

			for ( j = 0; j < matched.matches.length && !event.isImmediatePropagationStopped(); j++ ) {
				handleObj = matched.matches[ j ];

				// Triggered event must either 1) be non-exclusive and have no namespace, or
				// 2) have namespace(s) a subset or equal to those in the bound event (both can have no namespace).
				if ( run_all || (!event.namespace && !handleObj.namespace) || event.namespace_re && event.namespace_re.test( handleObj.namespace ) ) {

					event.data = handleObj.data;
					event.handleObj = handleObj;

					ret = ( specialHandle || handleObj.handler ).apply( matched.elem, args );

					if ( ret !== undefined ) {
						event.result = ret;
						if ( ret === false ) {
							event.preventDefault();
							event.stopPropagation();
						}
					}
				}
			}
		}

		return event.result;
	},

	// Includes some event props shared by KeyEvent and MouseEvent
	// *** attrChange attrName relatedNode srcElement  are not normalized, non-W3C, deprecated, will be removed in 1.8 ***
	props: "attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),

	fixHooks: {},

	keyHooks: {
		props: "char charCode key keyCode".split(" "),
		filter: function( event, original ) {

			// Add which for key events
			if ( event.which == null ) {
				event.which = original.charCode != null ? original.charCode : original.keyCode;
			}

			return event;
		}
	},

	mouseHooks: {
		props: "button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement wheelDelta".split(" "),
		filter: function( event, original ) {
			var eventDoc, doc, body,
				button = original.button,
				fromElement = original.fromElement;

			// Calculate pageX/Y if missing and clientX/Y available
			if ( event.pageX == null && original.clientX != null ) {
				eventDoc = event.target.ownerDocument || document;
				doc = eventDoc.documentElement;
				body = eventDoc.body;

				event.pageX = original.clientX + ( doc && doc.scrollLeft || body && body.scrollLeft || 0 ) - ( doc && doc.clientLeft || body && body.clientLeft || 0 );
				event.pageY = original.clientY + ( doc && doc.scrollTop  || body && body.scrollTop  || 0 ) - ( doc && doc.clientTop  || body && body.clientTop  || 0 );
			}

			// Add relatedTarget, if necessary
			if ( !event.relatedTarget && fromElement ) {
				event.relatedTarget = fromElement === event.target ? original.toElement : fromElement;
			}

			// Add which for click: 1 === left; 2 === middle; 3 === right
			// Note: button is not normalized, so don't use it
			if ( !event.which && button !== undefined ) {
				event.which = ( button & 1 ? 1 : ( button & 2 ? 3 : ( button & 4 ? 2 : 0 ) ) );
			}

			return event;
		}
	},

	fix: function( event ) {
		if ( event[ jQuery.expando ] ) {
			return event;
		}

		// Create a writable copy of the event object and normalize some properties
		var i, prop,
			originalEvent = event,
			fixHook = jQuery.event.fixHooks[ event.type ] || {},
			copy = fixHook.props ? this.props.concat( fixHook.props ) : this.props;

		event = jQuery.Event( originalEvent );

		for ( i = copy.length; i; ) {
			prop = copy[ --i ];
			event[ prop ] = originalEvent[ prop ];
		}

		// Fix target property, if necessary (#1925, IE 6/7/8 & Safari2)
		if ( !event.target ) {
			event.target = originalEvent.srcElement || document;
		}

		// Target should not be a text node (#504, Safari)
		if ( event.target.nodeType === 3 ) {
			event.target = event.target.parentNode;
		}

		// For mouse/key events; add metaKey if it's not there (#3368, IE6/7/8)
		if ( event.metaKey === undefined ) {
			event.metaKey = event.ctrlKey;
		}

		return fixHook.filter? fixHook.filter( event, originalEvent ) : event;
	},

	special: {
		ready: {
			// Make sure the ready event is setup
			setup: jQuery.bindReady
		},

		focus: {
			delegateType: "focusin",
			noBubble: true
		},
		blur: {
			delegateType: "focusout",
			noBubble: true
		},

		beforeunload: {
			setup: function( data, namespaces, eventHandle ) {
				// We only want to do this special case on windows
				if ( jQuery.isWindow( this ) ) {
					this.onbeforeunload = eventHandle;
				}
			},

			teardown: function( namespaces, eventHandle ) {
				if ( this.onbeforeunload === eventHandle ) {
					this.onbeforeunload = null;
				}
			}
		}
	},

	simulate: function( type, elem, event, bubble ) {
		// Piggyback on a donor event to simulate a different one.
		// Fake originalEvent to avoid donor's stopPropagation, but if the
		// simulated event prevents default then we do the same on the donor.
		var e = jQuery.extend(
			new jQuery.Event(),
			event,
			{ type: type,
				isSimulated: true,
				originalEvent: {}
			}
		);
		if ( bubble ) {
			jQuery.event.trigger( e, null, elem );
		} else {
			jQuery.event.dispatch.call( elem, e );
		}
		if ( e.isDefaultPrevented() ) {
			event.preventDefault();
		}
	}
};

// Some plugins are using, but it's undocumented/deprecated and will be removed.
// The 1.7 special event interface should provide all the hooks needed now.
jQuery.event.handle = jQuery.event.dispatch;

jQuery.removeEvent = document.removeEventListener ?
	function( elem, type, handle ) {
		if ( elem.removeEventListener ) {
			elem.removeEventListener( type, handle, false );
		}
	} :
	function( elem, type, handle ) {
		if ( elem.detachEvent ) {
			elem.detachEvent( "on" + type, handle );
		}
	};

jQuery.Event = function( src, props ) {
	// Allow instantiation without the 'new' keyword
	if ( !(this instanceof jQuery.Event) ) {
		return new jQuery.Event( src, props );
	}

	// Event object
	if ( src && src.type ) {
		this.originalEvent = src;
		this.type = src.type;

		// Events bubbling up the document may have been marked as prevented
		// by a handler lower down the tree; reflect the correct value.
		this.isDefaultPrevented = ( src.defaultPrevented || src.returnValue === false ||
			src.getPreventDefault && src.getPreventDefault() ) ? returnTrue : returnFalse;

	// Event type
	} else {
		this.type = src;
	}

	// Put explicitly provided properties onto the event object
	if ( props ) {
		jQuery.extend( this, props );
	}

	// Create a timestamp if incoming event doesn't have one
	this.timeStamp = src && src.timeStamp || jQuery.now();

	// Mark it as fixed
	this[ jQuery.expando ] = true;
};

function returnFalse() {
	return false;
}
function returnTrue() {
	return true;
}

// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding
// http://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html
jQuery.Event.prototype = {
	preventDefault: function() {
		this.isDefaultPrevented = returnTrue;

		var e = this.originalEvent;
		if ( !e ) {
			return;
		}

		// if preventDefault exists run it on the original event
		if ( e.preventDefault ) {
			e.preventDefault();

		// otherwise set the returnValue property of the original event to false (IE)
		} else {
			e.returnValue = false;
		}
	},
	stopPropagation: function() {
		this.isPropagationStopped = returnTrue;

		var e = this.originalEvent;
		if ( !e ) {
			return;
		}
		// if stopPropagation exists run it on the original event
		if ( e.stopPropagation ) {
			e.stopPropagation();
		}
		// otherwise set the cancelBubble property of the original event to true (IE)
		e.cancelBubble = true;
	},
	stopImmediatePropagation: function() {
		this.isImmediatePropagationStopped = returnTrue;
		this.stopPropagation();
	},
	isDefaultPrevented: returnFalse,
	isPropagationStopped: returnFalse,
	isImmediatePropagationStopped: returnFalse
};

// Create mouseenter/leave events using mouseover/out and event-time checks
jQuery.each({
	mouseenter: "mouseover",
	mouseleave: "mouseout"
}, function( orig, fix ) {
	jQuery.event.special[ orig ] = jQuery.event.special[ fix ] = {
		delegateType: fix,
		bindType: fix,

		handle: function( event ) {
			var target = this,
				related = event.relatedTarget,
				handleObj = event.handleObj,
				selector = handleObj.selector,
				oldType, ret;

			// For a real mouseover/out, always call the handler; for
			// mousenter/leave call the handler if related is outside the target.
			// NB: No relatedTarget if the mouse left/entered the browser window
			if ( !related || handleObj.origType === event.type || (related !== target && !jQuery.contains( target, related )) ) {
				oldType = event.type;
				event.type = handleObj.origType;
				ret = handleObj.handler.apply( this, arguments );
				event.type = oldType;
			}
			return ret;
		}
	};
});

// IE submit delegation
if ( !jQuery.support.submitBubbles ) {

	jQuery.event.special.submit = {
		setup: function() {
			// Only need this for delegated form submit events
			if ( jQuery.nodeName( this, "form" ) ) {
				return false;
			}

			// Lazy-add a submit handler when a descendant form may potentially be submitted
			jQuery.event.add( this, "click._submit keypress._submit", function( e ) {
				// Node name check avoids a VML-related crash in IE (#9807)
				var elem = e.target,
					form = jQuery.nodeName( elem, "input" ) || jQuery.nodeName( elem, "button" ) ? elem.form : undefined;
				if ( form && !form._submit_attached ) {
					jQuery.event.add( form, "submit._submit", function( event ) {
						// Form was submitted, bubble the event up the tree
						if ( this.parentNode ) {
							jQuery.event.simulate( "submit", this.parentNode, event, true );
						}
					});
					form._submit_attached = true;
				}
			});
			// return undefined since we don't need an event listener
		},

		teardown: function() {
			// Only need this for delegated form submit events
			if ( jQuery.nodeName( this, "form" ) ) {
				return false;
			}

			// Remove delegated handlers; cleanData eventually reaps submit handlers attached above
			jQuery.event.remove( this, "._submit" );
		}
	};
}

// IE change delegation and checkbox/radio fix
if ( !jQuery.support.changeBubbles ) {

	jQuery.event.special.change = {

		setup: function() {

			if ( rformElems.test( this.nodeName ) ) {
				// IE doesn't fire change on a check/radio until blur; trigger it on click
				// after a propertychange. Eat the blur-change in special.change.handle.
				// This still fires onchange a second time for check/radio after blur.
				if ( this.type === "checkbox" || this.type === "radio" ) {
					jQuery.event.add( this, "propertychange._change", function( event ) {
						if ( event.originalEvent.propertyName === "checked" ) {
							this._just_changed = true;
						}
					});
					jQuery.event.add( this, "click._change", function( event ) {
						if ( this._just_changed ) {
							this._just_changed = false;
							jQuery.event.simulate( "change", this, event, true );
						}
					});
				}
				return false;
			}
			// Delegated event; lazy-add a change handler on descendant inputs
			jQuery.event.add( this, "beforeactivate._change", function( e ) {
				var elem = e.target;

				if ( rformElems.test( elem.nodeName ) && !elem._change_attached ) {
					jQuery.event.add( elem, "change._change", function( event ) {
						if ( this.parentNode && !event.isSimulated ) {
							jQuery.event.simulate( "change", this.parentNode, event, true );
						}
					});
					elem._change_attached = true;
				}
			});
		},

		handle: function( event ) {
			var elem = event.target;

			// Swallow native change events from checkbox/radio, we already triggered them above
			if ( this !== elem || event.isSimulated || event.isTrigger || (elem.type !== "radio" && elem.type !== "checkbox") ) {
				return event.handleObj.handler.apply( this, arguments );
			}
		},

		teardown: function() {
			jQuery.event.remove( this, "._change" );

			return rformElems.test( this.nodeName );
		}
	};
}

// Create "bubbling" focus and blur events
if ( !jQuery.support.focusinBubbles ) {
	jQuery.each({ focus: "focusin", blur: "focusout" }, function( orig, fix ) {

		// Attach a single capturing handler while someone wants focusin/focusout
		var attaches = 0,
			handler = function( event ) {
				jQuery.event.simulate( fix, event.target, jQuery.event.fix( event ), true );
			};

		jQuery.event.special[ fix ] = {
			setup: function() {
				if ( attaches++ === 0 ) {
					document.addEventListener( orig, handler, true );
				}
			},
			teardown: function() {
				if ( --attaches === 0 ) {
					document.removeEventListener( orig, handler, true );
				}
			}
		};
	});
}

jQuery.fn.extend({

	on: function( types, selector, data, fn, /*INTERNAL*/ one ) {
		var origFn, type;

		// Types can be a map of types/handlers
		if ( typeof types === "object" ) {
			// ( types-Object, selector, data )
			if ( typeof selector !== "string" ) {
				// ( types-Object, data )
				data = selector;
				selector = undefined;
			}
			for ( type in types ) {
				this.on( type, selector, data, types[ type ], one );
			}
			return this;
		}

		if ( data == null && fn == null ) {
			// ( types, fn )
			fn = selector;
			data = selector = undefined;
		} else if ( fn == null ) {
			if ( typeof selector === "string" ) {
				// ( types, selector, fn )
				fn = data;
				data = undefined;
			} else {
				// ( types, data, fn )
				fn = data;
				data = selector;
				selector = undefined;
			}
		}
		if ( fn === false ) {
			fn = returnFalse;
		} else if ( !fn ) {
			return this;
		}

		if ( one === 1 ) {
			origFn = fn;
			fn = function( event ) {
				// Can use an empty set, since event contains the info
				jQuery().off( event );
				return origFn.apply( this, arguments );
			};
			// Use same guid so caller can remove using origFn
			fn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );
		}
		return this.each( function() {
			jQuery.event.add( this, types, fn, data, selector );
		});
	},
	one: function( types, selector, data, fn ) {
		return this.on.call( this, types, selector, data, fn, 1 );
	},
	off: function( types, selector, fn ) {
		if ( types && types.preventDefault && types.handleObj ) {
			// ( event )  dispatched jQuery.Event
			var handleObj = types.handleObj;
			jQuery( types.delegateTarget ).off(
				handleObj.namespace? handleObj.type + "." + handleObj.namespace : handleObj.type,
				handleObj.selector,
				handleObj.handler
			);
			return this;
		}
		if ( typeof types === "object" ) {
			// ( types-object [, selector] )
			for ( var type in types ) {
				this.off( type, selector, types[ type ] );
			}
			return this;
		}
		if ( selector === false || typeof selector === "function" ) {
			// ( types [, fn] )
			fn = selector;
			selector = undefined;
		}
		if ( fn === false ) {
			fn = returnFalse;
		}
		return this.each(function() {
			jQuery.event.remove( this, types, fn, selector );
		});
	},

	bind: function( types, data, fn ) {
		return this.on( types, null, data, fn );
	},
	unbind: function( types, fn ) {
		return this.off( types, null, fn );
	},

	live: function( types, data, fn ) {
		jQuery( this.context ).on( types, this.selector, data, fn );
		return this;
	},
	die: function( types, fn ) {
		jQuery( this.context ).off( types, this.selector || "**", fn );
		return this;
	},

	delegate: function( selector, types, data, fn ) {
		return this.on( types, selector, data, fn );
	},
	undelegate: function( selector, types, fn ) {
		// ( namespace ) or ( selector, types [, fn] )
		return arguments.length == 1? this.off( selector, "**" ) : this.off( types, selector, fn );
	},

	trigger: function( type, data ) {
		return this.each(function() {
			jQuery.event.trigger( type, data, this );
		});
	},
	triggerHandler: function( type, data ) {
		if ( this[0] ) {
			return jQuery.event.trigger( type, data, this[0], true );
		}
	},

	toggle: function( fn ) {
		// Save reference to arguments for access in closure
		var args = arguments,
			guid = fn.guid || jQuery.guid++,
			i = 0,
			toggler = function( event ) {
				// Figure out which function to execute
				var lastToggle = ( jQuery._data( this, "lastToggle" + fn.guid ) || 0 ) % i;
				jQuery._data( this, "lastToggle" + fn.guid, lastToggle + 1 );

				// Make sure that clicks stop
				event.preventDefault();

				// and execute the function
				return args[ lastToggle ].apply( this, arguments ) || false;
			};

		// link all the functions, so any of them can unbind this click handler
		toggler.guid = guid;
		while ( i < args.length ) {
			args[ i++ ].guid = guid;
		}

		return this.click( toggler );
	},

	hover: function( fnOver, fnOut ) {
		return this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );
	}
});

jQuery.each( ("blur focus focusin focusout load resize scroll unload click dblclick " +
	"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave " +
	"change select submit keydown keypress keyup error contextmenu").split(" "), function( i, name ) {

	// Handle event binding
	jQuery.fn[ name ] = function( data, fn ) {
		if ( fn == null ) {
			fn = data;
			data = null;
		}

		return arguments.length > 0 ?
			this.bind( name, data, fn ) :
			this.trigger( name );
	};

	if ( jQuery.attrFn ) {
		jQuery.attrFn[ name ] = true;
	}

	if ( rkeyEvent.test( name ) ) {
		jQuery.event.fixHooks[ name ] = jQuery.event.keyHooks;
	}

	if ( rmouseEvent.test( name ) ) {
		jQuery.event.fixHooks[ name ] = jQuery.event.mouseHooks;
	}
});



/*!
 * Sizzle CSS Selector Engine
 *  Copyright 2011, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
(function(){

var chunker = /((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,
	expando = "sizcache" + (Math.random() + '').replace('.', ''),
	done = 0,
	toString = Object.prototype.toString,
	hasDuplicate = false,
	baseHasDuplicate = true,
	rBackslash = /\\/g,
	rReturn = /\r\n/g,
	rNonWord = /\W/;

// Here we check if the JavaScript engine is using some sort of
// optimization where it does not always call our comparision
// function. If that is the case, discard the hasDuplicate value.
//   Thus far that includes Google Chrome.
[0, 0].sort(function() {
	baseHasDuplicate = false;
	return 0;
});

var Sizzle = function( selector, context, results, seed ) {
	results = results || [];
	context = context || document;

	var origContext = context;

	if ( context.nodeType !== 1 && context.nodeType !== 9 ) {
		return [];
	}
	
	if ( !selector || typeof selector !== "string" ) {
		return results;
	}

	var m, set, checkSet, extra, ret, cur, pop, i,
		prune = true,
		contextXML = Sizzle.isXML( context ),
		parts = [],
		soFar = selector;
	
	// Reset the position of the chunker regexp (start from head)
	do {
		chunker.exec( "" );
		m = chunker.exec( soFar );

		if ( m ) {
			soFar = m[3];
		
			parts.push( m[1] );
		
			if ( m[2] ) {
				extra = m[3];
				break;
			}
		}
	} while ( m );

	if ( parts.length > 1 && origPOS.exec( selector ) ) {

		if ( parts.length === 2 && Expr.relative[ parts[0] ] ) {
			set = posProcess( parts[0] + parts[1], context, seed );

		} else {
			set = Expr.relative[ parts[0] ] ?
				[ context ] :
				Sizzle( parts.shift(), context );

			while ( parts.length ) {
				selector = parts.shift();

				if ( Expr.relative[ selector ] ) {
					selector += parts.shift();
				}
				
				set = posProcess( selector, set, seed );
			}
		}

	} else {
		// Take a shortcut and set the context if the root selector is an ID
		// (but not if it'll be faster if the inner selector is an ID)
		if ( !seed && parts.length > 1 && context.nodeType === 9 && !contextXML &&
				Expr.match.ID.test(parts[0]) && !Expr.match.ID.test(parts[parts.length - 1]) ) {

			ret = Sizzle.find( parts.shift(), context, contextXML );
			context = ret.expr ?
				Sizzle.filter( ret.expr, ret.set )[0] :
				ret.set[0];
		}

		if ( context ) {
			ret = seed ?
				{ expr: parts.pop(), set: makeArray(seed) } :
				Sizzle.find( parts.pop(), parts.length === 1 && (parts[0] === "~" || parts[0] === "+") && context.parentNode ? context.parentNode : context, contextXML );

			set = ret.expr ?
				Sizzle.filter( ret.expr, ret.set ) :
				ret.set;

			if ( parts.length > 0 ) {
				checkSet = makeArray( set );

			} else {
				prune = false;
			}

			while ( parts.length ) {
				cur = parts.pop();
				pop = cur;

				if ( !Expr.relative[ cur ] ) {
					cur = "";
				} else {
					pop = parts.pop();
				}

				if ( pop == null ) {
					pop = context;
				}

				Expr.relative[ cur ]( checkSet, pop, contextXML );
			}

		} else {
			checkSet = parts = [];
		}
	}

	if ( !checkSet ) {
		checkSet = set;
	}

	if ( !checkSet ) {
		Sizzle.error( cur || selector );
	}

	if ( toString.call(checkSet) === "[object Array]" ) {
		if ( !prune ) {
			results.push.apply( results, checkSet );

		} else if ( context && context.nodeType === 1 ) {
			for ( i = 0; checkSet[i] != null; i++ ) {
				if ( checkSet[i] && (checkSet[i] === true || checkSet[i].nodeType === 1 && Sizzle.contains(context, checkSet[i])) ) {
					results.push( set[i] );
				}
			}

		} else {
			for ( i = 0; checkSet[i] != null; i++ ) {
				if ( checkSet[i] && checkSet[i].nodeType === 1 ) {
					results.push( set[i] );
				}
			}
		}

	} else {
		makeArray( checkSet, results );
	}

	if ( extra ) {
		Sizzle( extra, origContext, results, seed );
		Sizzle.uniqueSort( results );
	}

	return results;
};

Sizzle.uniqueSort = function( results ) {
	if ( sortOrder ) {
		hasDuplicate = baseHasDuplicate;
		results.sort( sortOrder );

		if ( hasDuplicate ) {
			for ( var i = 1; i < results.length; i++ ) {
				if ( results[i] === results[ i - 1 ] ) {
					results.splice( i--, 1 );
				}
			}
		}
	}

	return results;
};

Sizzle.matches = function( expr, set ) {
	return Sizzle( expr, null, null, set );
};

Sizzle.matchesSelector = function( node, expr ) {
	return Sizzle( expr, null, null, [node] ).length > 0;
};

Sizzle.find = function( expr, context, isXML ) {
	var set, i, len, match, type, left;

	if ( !expr ) {
		return [];
	}

	for ( i = 0, len = Expr.order.length; i < len; i++ ) {
		type = Expr.order[i];
		
		if ( (match = Expr.leftMatch[ type ].exec( expr )) ) {
			left = match[1];
			match.splice( 1, 1 );

			if ( left.substr( left.length - 1 ) !== "\\" ) {
				match[1] = (match[1] || "").replace( rBackslash, "" );
				set = Expr.find[ type ]( match, context, isXML );

				if ( set != null ) {
					expr = expr.replace( Expr.match[ type ], "" );
					break;
				}
			}
		}
	}

	if ( !set ) {
		set = typeof context.getElementsByTagName !== "undefined" ?
			context.getElementsByTagName( "*" ) :
			[];
	}

	return { set: set, expr: expr };
};

Sizzle.filter = function( expr, set, inplace, not ) {
	var match, anyFound,
		type, found, item, filter, left,
		i, pass,
		old = expr,
		result = [],
		curLoop = set,
		isXMLFilter = set && set[0] && Sizzle.isXML( set[0] );

	while ( expr && set.length ) {
		for ( type in Expr.filter ) {
			if ( (match = Expr.leftMatch[ type ].exec( expr )) != null && match[2] ) {
				filter = Expr.filter[ type ];
				left = match[1];

				anyFound = false;

				match.splice(1,1);

				if ( left.substr( left.length - 1 ) === "\\" ) {
					continue;
				}

				if ( curLoop === result ) {
					result = [];
				}

				if ( Expr.preFilter[ type ] ) {
					match = Expr.preFilter[ type ]( match, curLoop, inplace, result, not, isXMLFilter );

					if ( !match ) {
						anyFound = found = true;

					} else if ( match === true ) {
						continue;
					}
				}

				if ( match ) {
					for ( i = 0; (item = curLoop[i]) != null; i++ ) {
						if ( item ) {
							found = filter( item, match, i, curLoop );
							pass = not ^ found;

							if ( inplace && found != null ) {
								if ( pass ) {
									anyFound = true;

								} else {
									curLoop[i] = false;
								}

							} else if ( pass ) {
								result.push( item );
								anyFound = true;
							}
						}
					}
				}

				if ( found !== undefined ) {
					if ( !inplace ) {
						curLoop = result;
					}

					expr = expr.replace( Expr.match[ type ], "" );

					if ( !anyFound ) {
						return [];
					}

					break;
				}
			}
		}

		// Improper expression
		if ( expr === old ) {
			if ( anyFound == null ) {
				Sizzle.error( expr );

			} else {
				break;
			}
		}

		old = expr;
	}

	return curLoop;
};

Sizzle.error = function( msg ) {
	throw "Syntax error, unrecognized expression: " + msg;
};

/**
 * Utility function for retreiving the text value of an array of DOM nodes
 * @param {Array|Element} elem
 */
var getText = Sizzle.getText = function( elem ) {
    var i, node,
		nodeType = elem.nodeType,
		ret = "";

	if ( nodeType ) {
		if ( nodeType === 1 ) {
			// Use textContent || innerText for elements
			if ( typeof elem.textContent === 'string' ) {
				return elem.textContent;
			} else if ( typeof elem.innerText === 'string' ) {
				// Replace IE's carriage returns
				return elem.innerText.replace( rReturn, '' );
			} else {
				// Traverse it's children
				for ( elem = elem.firstChild; elem; elem = elem.nextSibling) {
					ret += getText( elem );
				}
			}
		} else if ( nodeType === 3 || nodeType === 4 ) {
			return elem.nodeValue;
		}
	} else {

		// If no nodeType, this is expected to be an array
		for ( i = 0; (node = elem[i]); i++ ) {
			// Do not traverse comment nodes
			if ( node.nodeType !== 8 ) {
				ret += getText( node );
			}
		}
	}
	return ret;
};

var Expr = Sizzle.selectors = {
	order: [ "ID", "NAME", "TAG" ],

	match: {
		ID: /#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,
		CLASS: /\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,
		NAME: /\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,
		ATTR: /\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,
		TAG: /^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,
		CHILD: /:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,
		POS: /:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,
		PSEUDO: /:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/
	},

	leftMatch: {},

	attrMap: {
		"class": "className",
		"for": "htmlFor"
	},

	attrHandle: {
		href: function( elem ) {
			return elem.getAttribute( "href" );
		},
		type: function( elem ) {
			return elem.getAttribute( "type" );
		}
	},

	relative: {
		"+": function(checkSet, part){
			var isPartStr = typeof part === "string",
				isTag = isPartStr && !rNonWord.test( part ),
				isPartStrNotTag = isPartStr && !isTag;

			if ( isTag ) {
				part = part.toLowerCase();
			}

			for ( var i = 0, l = checkSet.length, elem; i < l; i++ ) {
				if ( (elem = checkSet[i]) ) {
					while ( (elem = elem.previousSibling) && elem.nodeType !== 1 ) {}

					checkSet[i] = isPartStrNotTag || elem && elem.nodeName.toLowerCase() === part ?
						elem || false :
						elem === part;
				}
			}

			if ( isPartStrNotTag ) {
				Sizzle.filter( part, checkSet, true );
			}
		},

		">": function( checkSet, part ) {
			var elem,
				isPartStr = typeof part === "string",
				i = 0,
				l = checkSet.length;

			if ( isPartStr && !rNonWord.test( part ) ) {
				part = part.toLowerCase();

				for ( ; i < l; i++ ) {
					elem = checkSet[i];

					if ( elem ) {
						var parent = elem.parentNode;
						checkSet[i] = parent.nodeName.toLowerCase() === part ? parent : false;
					}
				}

			} else {
				for ( ; i < l; i++ ) {
					elem = checkSet[i];

					if ( elem ) {
						checkSet[i] = isPartStr ?
							elem.parentNode :
							elem.parentNode === part;
					}
				}

				if ( isPartStr ) {
					Sizzle.filter( part, checkSet, true );
				}
			}
		},

		"": function(checkSet, part, isXML){
			var nodeCheck,
				doneName = done++,
				checkFn = dirCheck;

			if ( typeof part === "string" && !rNonWord.test( part ) ) {
				part = part.toLowerCase();
				nodeCheck = part;
				checkFn = dirNodeCheck;
			}

			checkFn( "parentNode", part, doneName, checkSet, nodeCheck, isXML );
		},

		"~": function( checkSet, part, isXML ) {
			var nodeCheck,
				doneName = done++,
				checkFn = dirCheck;

			if ( typeof part === "string" && !rNonWord.test( part ) ) {
				part = part.toLowerCase();
				nodeCheck = part;
				checkFn = dirNodeCheck;
			}

			checkFn( "previousSibling", part, doneName, checkSet, nodeCheck, isXML );
		}
	},

	find: {
		ID: function( match, context, isXML ) {
			if ( typeof context.getElementById !== "undefined" && !isXML ) {
				var m = context.getElementById(match[1]);
				// Check parentNode to catch when Blackberry 4.6 returns
				// nodes that are no longer in the document #6963
				return m && m.parentNode ? [m] : [];
			}
		},

		NAME: function( match, context ) {
			if ( typeof context.getElementsByName !== "undefined" ) {
				var ret = [],
					results = context.getElementsByName( match[1] );

				for ( var i = 0, l = results.length; i < l; i++ ) {
					if ( results[i].getAttribute("name") === match[1] ) {
						ret.push( results[i] );
					}
				}

				return ret.length === 0 ? null : ret;
			}
		},

		TAG: function( match, context ) {
			if ( typeof context.getElementsByTagName !== "undefined" ) {
				return context.getElementsByTagName( match[1] );
			}
		}
	},
	preFilter: {
		CLASS: function( match, curLoop, inplace, result, not, isXML ) {
			match = " " + match[1].replace( rBackslash, "" ) + " ";

			if ( isXML ) {
				return match;
			}

			for ( var i = 0, elem; (elem = curLoop[i]) != null; i++ ) {
				if ( elem ) {
					if ( not ^ (elem.className && (" " + elem.className + " ").replace(/[\t\n\r]/g, " ").indexOf(match) >= 0) ) {
						if ( !inplace ) {
							result.push( elem );
						}

					} else if ( inplace ) {
						curLoop[i] = false;
					}
				}
			}

			return false;
		},

		ID: function( match ) {
			return match[1].replace( rBackslash, "" );
		},

		TAG: function( match, curLoop ) {
			return match[1].replace( rBackslash, "" ).toLowerCase();
		},

		CHILD: function( match ) {
			if ( match[1] === "nth" ) {
				if ( !match[2] ) {
					Sizzle.error( match[0] );
				}

				match[2] = match[2].replace(/^\+|\s*/g, '');

				// parse equations like 'even', 'odd', '5', '2n', '3n+2', '4n-1', '-n+6'
				var test = /(-?)(\d*)(?:n([+\-]?\d*))?/.exec(
					match[2] === "even" && "2n" || match[2] === "odd" && "2n+1" ||
					!/\D/.test( match[2] ) && "0n+" + match[2] || match[2]);

				// calculate the numbers (first)n+(last) including if they are negative
				match[2] = (test[1] + (test[2] || 1)) - 0;
				match[3] = test[3] - 0;
			}
			else if ( match[2] ) {
				Sizzle.error( match[0] );
			}

			// TODO: Move to normal caching system
			match[0] = done++;

			return match;
		},

		ATTR: function( match, curLoop, inplace, result, not, isXML ) {
			var name = match[1] = match[1].replace( rBackslash, "" );
			
			if ( !isXML && Expr.attrMap[name] ) {
				match[1] = Expr.attrMap[name];
			}

			// Handle if an un-quoted value was used
			match[4] = ( match[4] || match[5] || "" ).replace( rBackslash, "" );

			if ( match[2] === "~=" ) {
				match[4] = " " + match[4] + " ";
			}

			return match;
		},

		PSEUDO: function( match, curLoop, inplace, result, not ) {
			if ( match[1] === "not" ) {
				// If we're dealing with a complex expression, or a simple one
				if ( ( chunker.exec(match[3]) || "" ).length > 1 || /^\w/.test(match[3]) ) {
					match[3] = Sizzle(match[3], null, null, curLoop);

				} else {
					var ret = Sizzle.filter(match[3], curLoop, inplace, true ^ not);

					if ( !inplace ) {
						result.push.apply( result, ret );
					}

					return false;
				}

			} else if ( Expr.match.POS.test( match[0] ) || Expr.match.CHILD.test( match[0] ) ) {
				return true;
			}
			
			return match;
		},

		POS: function( match ) {
			match.unshift( true );

			return match;
		}
	},
	
	filters: {
		enabled: function( elem ) {
			return elem.disabled === false && elem.type !== "hidden";
		},

		disabled: function( elem ) {
			return elem.disabled === true;
		},

		checked: function( elem ) {
			return elem.checked === true;
		},
		
		selected: function( elem ) {
			// Accessing this property makes selected-by-default
			// options in Safari work properly
			if ( elem.parentNode ) {
				elem.parentNode.selectedIndex;
			}
			
			return elem.selected === true;
		},

		parent: function( elem ) {
			return !!elem.firstChild;
		},

		empty: function( elem ) {
			return !elem.firstChild;
		},

		has: function( elem, i, match ) {
			return !!Sizzle( match[3], elem ).length;
		},

		header: function( elem ) {
			return (/h\d/i).test( elem.nodeName );
		},

		text: function( elem ) {
			var attr = elem.getAttribute( "type" ), type = elem.type;
			// IE6 and 7 will map elem.type to 'text' for new HTML5 types (search, etc) 
			// use getAttribute instead to test this case
			return elem.nodeName.toLowerCase() === "input" && "text" === type && ( attr === type || attr === null );
		},

		radio: function( elem ) {
			return elem.nodeName.toLowerCase() === "input" && "radio" === elem.type;
		},

		checkbox: function( elem ) {
			return elem.nodeName.toLowerCase() === "input" && "checkbox" === elem.type;
		},

		file: function( elem ) {
			return elem.nodeName.toLowerCase() === "input" && "file" === elem.type;
		},

		password: function( elem ) {
			return elem.nodeName.toLowerCase() === "input" && "password" === elem.type;
		},

		submit: function( elem ) {
			var name = elem.nodeName.toLowerCase();
			return (name === "input" || name === "button") && "submit" === elem.type;
		},

		image: function( elem ) {
			return elem.nodeName.toLowerCase() === "input" && "image" === elem.type;
		},

		reset: function( elem ) {
			var name = elem.nodeName.toLowerCase();
			return (name === "input" || name === "button") && "reset" === elem.type;
		},

		button: function( elem ) {
			var name = elem.nodeName.toLowerCase();
			return name === "input" && "button" === elem.type || name === "button";
		},

		input: function( elem ) {
			return (/input|select|textarea|button/i).test( elem.nodeName );
		},

		focus: function( elem ) {
			return elem === elem.ownerDocument.activeElement;
		}
	},
	setFilters: {
		first: function( elem, i ) {
			return i === 0;
		},

		last: function( elem, i, match, array ) {
			return i === array.length - 1;
		},

		even: function( elem, i ) {
			return i % 2 === 0;
		},

		odd: function( elem, i ) {
			return i % 2 === 1;
		},

		lt: function( elem, i, match ) {
			return i < match[3] - 0;
		},

		gt: function( elem, i, match ) {
			return i > match[3] - 0;
		},

		nth: function( elem, i, match ) {
			return match[3] - 0 === i;
		},

		eq: function( elem, i, match ) {
			return match[3] - 0 === i;
		}
	},
	filter: {
		PSEUDO: function( elem, match, i, array ) {
			var name = match[1],
				filter = Expr.filters[ name ];

			if ( filter ) {
				return filter( elem, i, match, array );

			} else if ( name === "contains" ) {
				return (elem.textContent || elem.innerText || getText([ elem ]) || "").indexOf(match[3]) >= 0;

			} else if ( name === "not" ) {
				var not = match[3];

				for ( var j = 0, l = not.length; j < l; j++ ) {
					if ( not[j] === elem ) {
						return false;
					}
				}

				return true;

			} else {
				Sizzle.error( name );
			}
		},

		CHILD: function( elem, match ) {
			var first, last,
				doneName, parent, cache,
				count, diff,
				type = match[1],
				node = elem;

			switch ( type ) {
				case "only":
				case "first":
					while ( (node = node.previousSibling) )	 {
						if ( node.nodeType === 1 ) { 
							return false; 
						}
					}

					if ( type === "first" ) { 
						return true; 
					}

					node = elem;

				case "last":
					while ( (node = node.nextSibling) )	 {
						if ( node.nodeType === 1 ) { 
							return false; 
						}
					}

					return true;

				case "nth":
					first = match[2];
					last = match[3];

					if ( first === 1 && last === 0 ) {
						return true;
					}
					
					doneName = match[0];
					parent = elem.parentNode;
	
					if ( parent && (parent[ expando ] !== doneName || !elem.nodeIndex) ) {
						count = 0;
						
						for ( node = parent.firstChild; node; node = node.nextSibling ) {
							if ( node.nodeType === 1 ) {
								node.nodeIndex = ++count;
							}
						} 

						parent[ expando ] = doneName;
					}
					
					diff = elem.nodeIndex - last;

					if ( first === 0 ) {
						return diff === 0;

					} else {
						return ( diff % first === 0 && diff / first >= 0 );
					}
			}
		},

		ID: function( elem, match ) {
			return elem.nodeType === 1 && elem.getAttribute("id") === match;
		},

		TAG: function( elem, match ) {
			return (match === "*" && elem.nodeType === 1) || !!elem.nodeName && elem.nodeName.toLowerCase() === match;
		},
		
		CLASS: function( elem, match ) {
			return (" " + (elem.className || elem.getAttribute("class")) + " ")
				.indexOf( match ) > -1;
		},

		ATTR: function( elem, match ) {
			var name = match[1],
				result = Sizzle.attr ?
					Sizzle.attr( elem, name ) :
					Expr.attrHandle[ name ] ?
					Expr.attrHandle[ name ]( elem ) :
					elem[ name ] != null ?
						elem[ name ] :
						elem.getAttribute( name ),
				value = result + "",
				type = match[2],
				check = match[4];

			return result == null ?
				type === "!=" :
				!type && Sizzle.attr ?
				result != null :
				type === "=" ?
				value === check :
				type === "*=" ?
				value.indexOf(check) >= 0 :
				type === "~=" ?
				(" " + value + " ").indexOf(check) >= 0 :
				!check ?
				value && result !== false :
				type === "!=" ?
				value !== check :
				type === "^=" ?
				value.indexOf(check) === 0 :
				type === "$=" ?
				value.substr(value.length - check.length) === check :
				type === "|=" ?
				value === check || value.substr(0, check.length + 1) === check + "-" :
				false;
		},

		POS: function( elem, match, i, array ) {
			var name = match[2],
				filter = Expr.setFilters[ name ];

			if ( filter ) {
				return filter( elem, i, match, array );
			}
		}
	}
};

var origPOS = Expr.match.POS,
	fescape = function(all, num){
		return "\\" + (num - 0 + 1);
	};

for ( var type in Expr.match ) {
	Expr.match[ type ] = new RegExp( Expr.match[ type ].source + (/(?![^\[]*\])(?![^\(]*\))/.source) );
	Expr.leftMatch[ type ] = new RegExp( /(^(?:.|\r|\n)*?)/.source + Expr.match[ type ].source.replace(/\\(\d+)/g, fescape) );
}

var makeArray = function( array, results ) {
	array = Array.prototype.slice.call( array, 0 );

	if ( results ) {
		results.push.apply( results, array );
		return results;
	}
	
	return array;
};

// Perform a simple check to determine if the browser is capable of
// converting a NodeList to an array using builtin methods.
// Also verifies that the returned array holds DOM nodes
// (which is not the case in the Blackberry browser)
try {
	Array.prototype.slice.call( document.documentElement.childNodes, 0 )[0].nodeType;

// Provide a fallback method if it does not work
} catch( e ) {
	makeArray = function( array, results ) {
		var i = 0,
			ret = results || [];

		if ( toString.call(array) === "[object Array]" ) {
			Array.prototype.push.apply( ret, array );

		} else {
			if ( typeof array.length === "number" ) {
				for ( var l = array.length; i < l; i++ ) {
					ret.push( array[i] );
				}

			} else {
				for ( ; array[i]; i++ ) {
					ret.push( array[i] );
				}
			}
		}

		return ret;
	};
}

var sortOrder, siblingCheck;

if ( document.documentElement.compareDocumentPosition ) {
	sortOrder = function( a, b ) {
		if ( a === b ) {
			hasDuplicate = true;
			return 0;
		}

		if ( !a.compareDocumentPosition || !b.compareDocumentPosition ) {
			return a.compareDocumentPosition ? -1 : 1;
		}

		return a.compareDocumentPosition(b) & 4 ? -1 : 1;
	};

} else {
	sortOrder = function( a, b ) {
		// The nodes are identical, we can exit early
		if ( a === b ) {
			hasDuplicate = true;
			return 0;

		// Fallback to using sourceIndex (in IE) if it's available on both nodes
		} else if ( a.sourceIndex && b.sourceIndex ) {
			return a.sourceIndex - b.sourceIndex;
		}

		var al, bl,
			ap = [],
			bp = [],
			aup = a.parentNode,
			bup = b.parentNode,
			cur = aup;

		// If the nodes are siblings (or identical) we can do a quick check
		if ( aup === bup ) {
			return siblingCheck( a, b );

		// If no parents were found then the nodes are disconnected
		} else if ( !aup ) {
			return -1;

		} else if ( !bup ) {
			return 1;
		}

		// Otherwise they're somewhere else in the tree so we need
		// to build up a full list of the parentNodes for comparison
		while ( cur ) {
			ap.unshift( cur );
			cur = cur.parentNode;
		}

		cur = bup;

		while ( cur ) {
			bp.unshift( cur );
			cur = cur.parentNode;
		}

		al = ap.length;
		bl = bp.length;

		// Start walking down the tree looking for a discrepancy
		for ( var i = 0; i < al && i < bl; i++ ) {
			if ( ap[i] !== bp[i] ) {
				return siblingCheck( ap[i], bp[i] );
			}
		}

		// We ended someplace up the tree so do a sibling check
		return i === al ?
			siblingCheck( a, bp[i], -1 ) :
			siblingCheck( ap[i], b, 1 );
	};

	siblingCheck = function( a, b, ret ) {
		if ( a === b ) {
			return ret;
		}

		var cur = a.nextSibling;

		while ( cur ) {
			if ( cur === b ) {
				return -1;
			}

			cur = cur.nextSibling;
		}

		return 1;
	};
}

// Check to see if the browser returns elements by name when
// querying by getElementById (and provide a workaround)
(function(){
	// We're going to inject a fake input element with a specified name
	var form = document.createElement("div"),
		id = "script" + (new Date()).getTime(),
		root = document.documentElement;

	form.innerHTML = "<a name='" + id + "'/>";

	// Inject it into the root element, check its status, and remove it quickly
	root.insertBefore( form, root.firstChild );

	// The workaround has to do additional checks after a getElementById
	// Which slows things down for other browsers (hence the branching)
	if ( document.getElementById( id ) ) {
		Expr.find.ID = function( match, context, isXML ) {
			if ( typeof context.getElementById !== "undefined" && !isXML ) {
				var m = context.getElementById(match[1]);

				return m ?
					m.id === match[1] || typeof m.getAttributeNode !== "undefined" && m.getAttributeNode("id").nodeValue === match[1] ?
						[m] :
						undefined :
					[];
			}
		};

		Expr.filter.ID = function( elem, match ) {
			var node = typeof elem.getAttributeNode !== "undefined" && elem.getAttributeNode("id");

			return elem.nodeType === 1 && node && node.nodeValue === match;
		};
	}

	root.removeChild( form );

	// release memory in IE
	root = form = null;
})();

(function(){
	// Check to see if the browser returns only elements
	// when doing getElementsByTagName("*")

	// Create a fake element
	var div = document.createElement("div");
	div.appendChild( document.createComment("") );

	// Make sure no comments are found
	if ( div.getElementsByTagName("*").length > 0 ) {
		Expr.find.TAG = function( match, context ) {
			var results = context.getElementsByTagName( match[1] );

			// Filter out possible comments
			if ( match[1] === "*" ) {
				var tmp = [];

				for ( var i = 0; results[i]; i++ ) {
					if ( results[i].nodeType === 1 ) {
						tmp.push( results[i] );
					}
				}

				results = tmp;
			}

			return results;
		};
	}

	// Check to see if an attribute returns normalized href attributes
	div.innerHTML = "<a href='#'></a>";

	if ( div.firstChild && typeof div.firstChild.getAttribute !== "undefined" &&
			div.firstChild.getAttribute("href") !== "#" ) {

		Expr.attrHandle.href = function( elem ) {
			return elem.getAttribute( "href", 2 );
		};
	}

	// release memory in IE
	div = null;
})();

if ( document.querySelectorAll ) {
	(function(){
		var oldSizzle = Sizzle,
			div = document.createElement("div"),
			id = "__sizzle__";

		div.innerHTML = "<p class='TEST'></p>";

		// Safari can't handle uppercase or unicode characters when
		// in quirks mode.
		if ( div.querySelectorAll && div.querySelectorAll(".TEST").length === 0 ) {
			return;
		}
	
		Sizzle = function( query, context, extra, seed ) {
			context = context || document;

			// Only use querySelectorAll on non-XML documents
			// (ID selectors don't work in non-HTML documents)
			if ( !seed && !Sizzle.isXML(context) ) {
				// See if we find a selector to speed up
				var match = /^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec( query );
				
				if ( match && (context.nodeType === 1 || context.nodeType === 9) ) {
					// Speed-up: Sizzle("TAG")
					if ( match[1] ) {
						return makeArray( context.getElementsByTagName( query ), extra );
					
					// Speed-up: Sizzle(".CLASS")
					} else if ( match[2] && Expr.find.CLASS && context.getElementsByClassName ) {
						return makeArray( context.getElementsByClassName( match[2] ), extra );
					}
				}
				
				if ( context.nodeType === 9 ) {
					// Speed-up: Sizzle("body")
					// The body element only exists once, optimize finding it
					if ( query === "body" && context.body ) {
						return makeArray( [ context.body ], extra );
						
					// Speed-up: Sizzle("#ID")
					} else if ( match && match[3] ) {
						var elem = context.getElementById( match[3] );

						// Check parentNode to catch when Blackberry 4.6 returns
						// nodes that are no longer in the document #6963
						if ( elem && elem.parentNode ) {
							// Handle the case where IE and Opera return items
							// by name instead of ID
							if ( elem.id === match[3] ) {
								return makeArray( [ elem ], extra );
							}
							
						} else {
							return makeArray( [], extra );
						}
					}
					
					try {
						return makeArray( context.querySelectorAll(query), extra );
					} catch(qsaError) {}

				// qSA works strangely on Element-rooted queries
				// We can work around this by specifying an extra ID on the root
				// and working up from there (Thanks to Andrew Dupont for the technique)
				// IE 8 doesn't work on object elements
				} else if ( context.nodeType === 1 && context.nodeName.toLowerCase() !== "object" ) {
					var oldContext = context,
						old = context.getAttribute( "id" ),
						nid = old || id,
						hasParent = context.parentNode,
						relativeHierarchySelector = /^\s*[+~]/.test( query );

					if ( !old ) {
						context.setAttribute( "id", nid );
					} else {
						nid = nid.replace( /'/g, "\\$&" );
					}
					if ( relativeHierarchySelector && hasParent ) {
						context = context.parentNode;
					}

					try {
						if ( !relativeHierarchySelector || hasParent ) {
							return makeArray( context.querySelectorAll( "[id='" + nid + "'] " + query ), extra );
						}

					} catch(pseudoError) {
					} finally {
						if ( !old ) {
							oldContext.removeAttribute( "id" );
						}
					}
				}
			}
		
			return oldSizzle(query, context, extra, seed);
		};

		for ( var prop in oldSizzle ) {
			Sizzle[ prop ] = oldSizzle[ prop ];
		}

		// release memory in IE
		div = null;
	})();
}

(function(){
	var html = document.documentElement,
		matches = html.matchesSelector || html.mozMatchesSelector || html.webkitMatchesSelector || html.msMatchesSelector;

	if ( matches ) {
		// Check to see if it's possible to do matchesSelector
		// on a disconnected node (IE 9 fails this)
		var disconnectedMatch = !matches.call( document.createElement( "div" ), "div" ),
			pseudoWorks = false;

		try {
			// This should fail with an exception
			// Gecko does not error, returns false instead
			matches.call( document.documentElement, "[test!='']:sizzle" );
	
		} catch( pseudoError ) {
			pseudoWorks = true;
		}

		Sizzle.matchesSelector = function( node, expr ) {
			// Make sure that attribute selectors are quoted
			expr = expr.replace(/\=\s*([^'"\]]*)\s*\]/g, "='$1']");

			if ( !Sizzle.isXML( node ) ) {
				try { 
					if ( pseudoWorks || !Expr.match.PSEUDO.test( expr ) && !/!=/.test( expr ) ) {
						var ret = matches.call( node, expr );

						// IE 9's matchesSelector returns false on disconnected nodes
						if ( ret || !disconnectedMatch ||
								// As well, disconnected nodes are said to be in a document
								// fragment in IE 9, so check for that
								node.document && node.document.nodeType !== 11 ) {
							return ret;
						}
					}
				} catch(e) {}
			}

			return Sizzle(expr, null, null, [node]).length > 0;
		};
	}
})();

(function(){
	var div = document.createElement("div");

	div.innerHTML = "<div class='test e'></div><div class='test'></div>";

	// Opera can't find a second classname (in 9.6)
	// Also, make sure that getElementsByClassName actually exists
	if ( !div.getElementsByClassName || div.getElementsByClassName("e").length === 0 ) {
		return;
	}

	// Safari caches class attributes, doesn't catch changes (in 3.2)
	div.lastChild.className = "e";

	if ( div.getElementsByClassName("e").length === 1 ) {
		return;
	}
	
	Expr.order.splice(1, 0, "CLASS");
	Expr.find.CLASS = function( match, context, isXML ) {
		if ( typeof context.getElementsByClassName !== "undefined" && !isXML ) {
			return context.getElementsByClassName(match[1]);
		}
	};

	// release memory in IE
	div = null;
})();

function dirNodeCheck( dir, cur, doneName, checkSet, nodeCheck, isXML ) {
	for ( var i = 0, l = checkSet.length; i < l; i++ ) {
		var elem = checkSet[i];

		if ( elem ) {
			var match = false;

			elem = elem[dir];

			while ( elem ) {
				if ( elem[ expando ] === doneName ) {
					match = checkSet[elem.sizset];
					break;
				}

				if ( elem.nodeType === 1 && !isXML ){
					elem[ expando ] = doneName;
					elem.sizset = i;
				}

				if ( elem.nodeName.toLowerCase() === cur ) {
					match = elem;
					break;
				}

				elem = elem[dir];
			}

			checkSet[i] = match;
		}
	}
}

function dirCheck( dir, cur, doneName, checkSet, nodeCheck, isXML ) {
	for ( var i = 0, l = checkSet.length; i < l; i++ ) {
		var elem = checkSet[i];

		if ( elem ) {
			var match = false;
			
			elem = elem[dir];

			while ( elem ) {
				if ( elem[ expando ] === doneName ) {
					match = checkSet[elem.sizset];
					break;
				}

				if ( elem.nodeType === 1 ) {
					if ( !isXML ) {
						elem[ expando ] = doneName;
						elem.sizset = i;
					}

					if ( typeof cur !== "string" ) {
						if ( elem === cur ) {
							match = true;
							break;
						}

					} else if ( Sizzle.filter( cur, [elem] ).length > 0 ) {
						match = elem;
						break;
					}
				}

				elem = elem[dir];
			}

			checkSet[i] = match;
		}
	}
}

if ( document.documentElement.contains ) {
	Sizzle.contains = function( a, b ) {
		return a !== b && (a.contains ? a.contains(b) : true);
	};

} else if ( document.documentElement.compareDocumentPosition ) {
	Sizzle.contains = function( a, b ) {
		return !!(a.compareDocumentPosition(b) & 16);
	};

} else {
	Sizzle.contains = function() {
		return false;
	};
}

Sizzle.isXML = function( elem ) {
	// documentElement is verified for cases where it doesn't yet exist
	// (such as loading iframes in IE - #4833) 
	var documentElement = (elem ? elem.ownerDocument || elem : 0).documentElement;

	return documentElement ? documentElement.nodeName !== "HTML" : false;
};

var posProcess = function( selector, context, seed ) {
	var match,
		tmpSet = [],
		later = "",
		root = context.nodeType ? [context] : context;

	// Position selectors must be done after the filter
	// And so must :not(positional) so we move all PSEUDOs to the end
	while ( (match = Expr.match.PSEUDO.exec( selector )) ) {
		later += match[0];
		selector = selector.replace( Expr.match.PSEUDO, "" );
	}

	selector = Expr.relative[selector] ? selector + "*" : selector;

	for ( var i = 0, l = root.length; i < l; i++ ) {
		Sizzle( selector, root[i], tmpSet, seed );
	}

	return Sizzle.filter( later, tmpSet );
};

// EXPOSE
// Override sizzle attribute retrieval
Sizzle.attr = jQuery.attr;
Sizzle.selectors.attrMap = {};
jQuery.find = Sizzle;
jQuery.expr = Sizzle.selectors;
jQuery.expr[":"] = jQuery.expr.filters;
jQuery.unique = Sizzle.uniqueSort;
jQuery.text = Sizzle.getText;
jQuery.isXMLDoc = Sizzle.isXML;
jQuery.contains = Sizzle.contains;


})();


var runtil = /Until$/,
	rparentsprev = /^(?:parents|prevUntil|prevAll)/,
	// Note: This RegExp should be improved, or likely pulled from Sizzle
	rmultiselector = /,/,
	isSimple = /^.[^:#\[\.,]*$/,
	slice = Array.prototype.slice,
	POS = jQuery.expr.match.POS,
	// methods guaranteed to produce a unique set when starting from a unique set
	guaranteedUnique = {
		children: true,
		contents: true,
		next: true,
		prev: true
	};

jQuery.fn.extend({
	find: function( selector ) {
		var self = this,
			i, l;

		if ( typeof selector !== "string" ) {
			return jQuery( selector ).filter(function() {
				for ( i = 0, l = self.length; i < l; i++ ) {
					if ( jQuery.contains( self[ i ], this ) ) {
						return true;
					}
				}
			});
		}

		var ret = this.pushStack( "", "find", selector ),
			length, n, r;

		for ( i = 0, l = this.length; i < l; i++ ) {
			length = ret.length;
			jQuery.find( selector, this[i], ret );

			if ( i > 0 ) {
				// Make sure that the results are unique
				for ( n = length; n < ret.length; n++ ) {
					for ( r = 0; r < length; r++ ) {
						if ( ret[r] === ret[n] ) {
							ret.splice(n--, 1);
							break;
						}
					}
				}
			}
		}

		return ret;
	},

	has: function( target ) {
		var targets = jQuery( target );
		return this.filter(function() {
			for ( var i = 0, l = targets.length; i < l; i++ ) {
				if ( jQuery.contains( this, targets[i] ) ) {
					return true;
				}
			}
		});
	},

	not: function( selector ) {
		return this.pushStack( winnow(this, selector, false), "not", selector);
	},

	filter: function( selector ) {
		return this.pushStack( winnow(this, selector, true), "filter", selector );
	},

	is: function( selector ) {
		return !!selector && ( 
			typeof selector === "string" ?
				// If this is a positional selector, check membership in the returned set
				// so $("p:first").is("p:last") won't return true for a doc with two "p".
				POS.test( selector ) ? 
					jQuery( selector, this.context ).index( this[0] ) >= 0 :
					jQuery.filter( selector, this ).length > 0 :
				this.filter( selector ).length > 0 );
	},

	closest: function( selectors, context ) {
		var ret = [], i, l, cur = this[0];
		
		// Array (deprecated as of jQuery 1.7)
		if ( jQuery.isArray( selectors ) ) {
			var level = 1;

			while ( cur && cur.ownerDocument && cur !== context ) {
				for ( i = 0; i < selectors.length; i++ ) {

					if ( jQuery( cur ).is( selectors[ i ] ) ) {
						ret.push({ selector: selectors[ i ], elem: cur, level: level });
					}
				}

				cur = cur.parentNode;
				level++;
			}

			return ret;
		}

		// String
		var pos = POS.test( selectors ) || typeof selectors !== "string" ?
				jQuery( selectors, context || this.context ) :
				0;

		for ( i = 0, l = this.length; i < l; i++ ) {
			cur = this[i];

			while ( cur ) {
				if ( pos ? pos.index(cur) > -1 : jQuery.find.matchesSelector(cur, selectors) ) {
					ret.push( cur );
					break;

				} else {
					cur = cur.parentNode;
					if ( !cur || !cur.ownerDocument || cur === context || cur.nodeType === 11 ) {
						break;
					}
				}
			}
		}

		ret = ret.length > 1 ? jQuery.unique( ret ) : ret;

		return this.pushStack( ret, "closest", selectors );
	},

	// Determine the position of an element within
	// the matched set of elements
	index: function( elem ) {

		// No argument, return index in parent
		if ( !elem ) {
			return ( this[0] && this[0].parentNode ) ? this.prevAll().length : -1;
		}

		// index in selector
		if ( typeof elem === "string" ) {
			return jQuery.inArray( this[0], jQuery( elem ) );
		}

		// Locate the position of the desired element
		return jQuery.inArray(
			// If it receives a jQuery object, the first element is used
			elem.jquery ? elem[0] : elem, this );
	},

	add: function( selector, context ) {
		var set = typeof selector === "string" ?
				jQuery( selector, context ) :
				jQuery.makeArray( selector && selector.nodeType ? [ selector ] : selector ),
			all = jQuery.merge( this.get(), set );

		return this.pushStack( isDisconnected( set[0] ) || isDisconnected( all[0] ) ?
			all :
			jQuery.unique( all ) );
	},

	andSelf: function() {
		return this.add( this.prevObject );
	}
});

// A painfully simple check to see if an element is disconnected
// from a document (should be improved, where feasible).
function isDisconnected( node ) {
	return !node || !node.parentNode || node.parentNode.nodeType === 11;
}

jQuery.each({
	parent: function( elem ) {
		var parent = elem.parentNode;
		return parent && parent.nodeType !== 11 ? parent : null;
	},
	parents: function( elem ) {
		return jQuery.dir( elem, "parentNode" );
	},
	parentsUntil: function( elem, i, until ) {
		return jQuery.dir( elem, "parentNode", until );
	},
	next: function( elem ) {
		return jQuery.nth( elem, 2, "nextSibling" );
	},
	prev: function( elem ) {
		return jQuery.nth( elem, 2, "previousSibling" );
	},
	nextAll: function( elem ) {
		return jQuery.dir( elem, "nextSibling" );
	},
	prevAll: function( elem ) {
		return jQuery.dir( elem, "previousSibling" );
	},
	nextUntil: function( elem, i, until ) {
		return jQuery.dir( elem, "nextSibling", until );
	},
	prevUntil: function( elem, i, until ) {
		return jQuery.dir( elem, "previousSibling", until );
	},
	siblings: function( elem ) {
		return jQuery.sibling( elem.parentNode.firstChild, elem );
	},
	children: function( elem ) {
		return jQuery.sibling( elem.firstChild );
	},
	contents: function( elem ) {
		return jQuery.nodeName( elem, "iframe" ) ?
			elem.contentDocument || elem.contentWindow.document :
			jQuery.makeArray( elem.childNodes );
	}
}, function( name, fn ) {
	jQuery.fn[ name ] = function( until, selector ) {
		var ret = jQuery.map( this, fn, until ),
			// The variable 'args' was introduced in
			// https://github.com/jquery/jquery/commit/52a0238
			// to work around a bug in Chrome 10 (Dev) and should be removed when the bug is fixed.
			// http://code.google.com/p/v8/issues/detail?id=1050
			args = slice.call(arguments);

		if ( !runtil.test( name ) ) {
			selector = until;
		}

		if ( selector && typeof selector === "string" ) {
			ret = jQuery.filter( selector, ret );
		}

		ret = this.length > 1 && !guaranteedUnique[ name ] ? jQuery.unique( ret ) : ret;

		if ( (this.length > 1 || rmultiselector.test( selector )) && rparentsprev.test( name ) ) {
			ret = ret.reverse();
		}

		return this.pushStack( ret, name, args.join(",") );
	};
});

jQuery.extend({
	filter: function( expr, elems, not ) {
		if ( not ) {
			expr = ":not(" + expr + ")";
		}

		return elems.length === 1 ?
			jQuery.find.matchesSelector(elems[0], expr) ? [ elems[0] ] : [] :
			jQuery.find.matches(expr, elems);
	},

	dir: function( elem, dir, until ) {
		var matched = [],
			cur = elem[ dir ];

		while ( cur && cur.nodeType !== 9 && (until === undefined || cur.nodeType !== 1 || !jQuery( cur ).is( until )) ) {
			if ( cur.nodeType === 1 ) {
				matched.push( cur );
			}
			cur = cur[dir];
		}
		return matched;
	},

	nth: function( cur, result, dir, elem ) {
		result = result || 1;
		var num = 0;

		for ( ; cur; cur = cur[dir] ) {
			if ( cur.nodeType === 1 && ++num === result ) {
				break;
			}
		}

		return cur;
	},

	sibling: function( n, elem ) {
		var r = [];

		for ( ; n; n = n.nextSibling ) {
			if ( n.nodeType === 1 && n !== elem ) {
				r.push( n );
			}
		}

		return r;
	}
});

// Implement the identical functionality for filter and not
function winnow( elements, qualifier, keep ) {

	// Can't pass null or undefined to indexOf in Firefox 4
	// Set to 0 to skip string check
	qualifier = qualifier || 0;

	if ( jQuery.isFunction( qualifier ) ) {
		return jQuery.grep(elements, function( elem, i ) {
			var retVal = !!qualifier.call( elem, i, elem );
			return retVal === keep;
		});

	} else if ( qualifier.nodeType ) {
		return jQuery.grep(elements, function( elem, i ) {
			return ( elem === qualifier ) === keep;
		});

	} else if ( typeof qualifier === "string" ) {
		var filtered = jQuery.grep(elements, function( elem ) {
			return elem.nodeType === 1;
		});

		if ( isSimple.test( qualifier ) ) {
			return jQuery.filter(qualifier, filtered, !keep);
		} else {
			qualifier = jQuery.filter( qualifier, filtered );
		}
	}

	return jQuery.grep(elements, function( elem, i ) {
		return ( jQuery.inArray( elem, qualifier ) >= 0 ) === keep;
	});
}




function createSafeFragment( document ) {
	var list = nodeNames.split( " " ),
	safeFrag = document.createDocumentFragment();

	if ( safeFrag.createElement ) {
		while ( list.length ) {
			safeFrag.createElement(
				list.pop()
			);
		}
	}
	return safeFrag;
}

var nodeNames = "abbr article aside audio canvas datalist details figcaption figure footer " +
		"header hgroup mark meter nav output progress section summary time video",
	rinlinejQuery = / jQuery\d+="(?:\d+|null)"/g,
	rleadingWhitespace = /^\s+/,
	rxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,
	rtagName = /<([\w:]+)/,
	rtbody = /<tbody/i,
	rhtml = /<|&#?\w+;/,
	rnoInnerhtml = /<(?:script|style)/i,
	rnocache = /<(?:script|object|embed|option|style)/i,
	rnoshimcache = new RegExp("<(?:" + nodeNames.replace(" ", "|") + ")", "i"),
	// checked="checked" or checked
	rchecked = /checked\s*(?:[^=]|=\s*.checked.)/i,
	rscriptType = /\/(java|ecma)script/i,
	rcleanScript = /^\s*<!(?:\[CDATA\[|\-\-)/,
	wrapMap = {
		option: [ 1, "<select multiple='multiple'>", "</select>" ],
		legend: [ 1, "<fieldset>", "</fieldset>" ],
		thead: [ 1, "<table>", "</table>" ],
		tr: [ 2, "<table><tbody>", "</tbody></table>" ],
		td: [ 3, "<table><tbody><tr>", "</tr></tbody></table>" ],
		col: [ 2, "<table><tbody></tbody><colgroup>", "</colgroup></table>" ],
		area: [ 1, "<map>", "</map>" ],
		_default: [ 0, "", "" ]
	},
	safeFragment = createSafeFragment( document );

wrapMap.optgroup = wrapMap.option;
wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;
wrapMap.th = wrapMap.td;

// IE can't serialize <link> and <script> tags normally
if ( !jQuery.support.htmlSerialize ) {
	wrapMap._default = [ 1, "div<div>", "</div>" ];
}

jQuery.fn.extend({
	text: function( text ) {
		if ( jQuery.isFunction(text) ) {
			return this.each(function(i) {
				var self = jQuery( this );

				self.text( text.call(this, i, self.text()) );
			});
		}

		if ( typeof text !== "object" && text !== undefined ) {
			return this.empty().append( (this[0] && this[0].ownerDocument || document).createTextNode( text ) );
		}

		return jQuery.text( this );
	},

	wrapAll: function( html ) {
		if ( jQuery.isFunction( html ) ) {
			return this.each(function(i) {
				jQuery(this).wrapAll( html.call(this, i) );
			});
		}

		if ( this[0] ) {
			// The elements to wrap the target around
			var wrap = jQuery( html, this[0].ownerDocument ).eq(0).clone(true);

			if ( this[0].parentNode ) {
				wrap.insertBefore( this[0] );
			}

			wrap.map(function() {
				var elem = this;

				while ( elem.firstChild && elem.firstChild.nodeType === 1 ) {
					elem = elem.firstChild;
				}

				return elem;
			}).append( this );
		}

		return this;
	},

	wrapInner: function( html ) {
		if ( jQuery.isFunction( html ) ) {
			return this.each(function(i) {
				jQuery(this).wrapInner( html.call(this, i) );
			});
		}

		return this.each(function() {
			var self = jQuery( this ),
				contents = self.contents();

			if ( contents.length ) {
				contents.wrapAll( html );

			} else {
				self.append( html );
			}
		});
	},

	wrap: function( html ) {
		return this.each(function() {
			jQuery( this ).wrapAll( html );
		});
	},

	unwrap: function() {
		return this.parent().each(function() {
			if ( !jQuery.nodeName( this, "body" ) ) {
				jQuery( this ).replaceWith( this.childNodes );
			}
		}).end();
	},

	append: function() {
		return this.domManip(arguments, true, function( elem ) {
			if ( this.nodeType === 1 ) {
				this.appendChild( elem );
			}
		});
	},

	prepend: function() {
		return this.domManip(arguments, true, function( elem ) {
			if ( this.nodeType === 1 ) {
				this.insertBefore( elem, this.firstChild );
			}
		});
	},

	before: function() {
		if ( this[0] && this[0].parentNode ) {
			return this.domManip(arguments, false, function( elem ) {
				this.parentNode.insertBefore( elem, this );
			});
		} else if ( arguments.length ) {
			var set = jQuery(arguments[0]);
			set.push.apply( set, this.toArray() );
			return this.pushStack( set, "before", arguments );
		}
	},

	after: function() {
		if ( this[0] && this[0].parentNode ) {
			return this.domManip(arguments, false, function( elem ) {
				this.parentNode.insertBefore( elem, this.nextSibling );
			});
		} else if ( arguments.length ) {
			var set = this.pushStack( this, "after", arguments );
			set.push.apply( set, jQuery(arguments[0]).toArray() );
			return set;
		}
	},

	// keepData is for internal use only--do not document
	remove: function( selector, keepData ) {
		for ( var i = 0, elem; (elem = this[i]) != null; i++ ) {
			if ( !selector || jQuery.filter( selector, [ elem ] ).length ) {
				if ( !keepData && elem.nodeType === 1 ) {
					jQuery.cleanData( elem.getElementsByTagName("*") );
					jQuery.cleanData( [ elem ] );
				}

				if ( elem.parentNode ) {
					elem.parentNode.removeChild( elem );
				}
			}
		}

		return this;
	},

	empty: function() {
		for ( var i = 0, elem; (elem = this[i]) != null; i++ ) {
			// Remove element nodes and prevent memory leaks
			if ( elem.nodeType === 1 ) {
				jQuery.cleanData( elem.getElementsByTagName("*") );
			}

			// Remove any remaining nodes
			while ( elem.firstChild ) {
				elem.removeChild( elem.firstChild );
			}
		}

		return this;
	},

	clone: function( dataAndEvents, deepDataAndEvents ) {
		dataAndEvents = dataAndEvents == null ? false : dataAndEvents;
		deepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;

		return this.map( function () {
			return jQuery.clone( this, dataAndEvents, deepDataAndEvents );
		});
	},

	html: function( value ) {
		if ( value === undefined ) {
			return this[0] && this[0].nodeType === 1 ?
				this[0].innerHTML.replace(rinlinejQuery, "") :
				null;

		// See if we can take a shortcut and just use innerHTML
		} else if ( typeof value === "string" && !rnoInnerhtml.test( value ) &&
			(jQuery.support.leadingWhitespace || !rleadingWhitespace.test( value )) &&
			!wrapMap[ (rtagName.exec( value ) || ["", ""])[1].toLowerCase() ] ) {

			value = value.replace(rxhtmlTag, "<$1></$2>");

			try {
				for ( var i = 0, l = this.length; i < l; i++ ) {
					// Remove element nodes and prevent memory leaks
					if ( this[i].nodeType === 1 ) {
						jQuery.cleanData( this[i].getElementsByTagName("*") );
						this[i].innerHTML = value;
					}
				}

			// If using innerHTML throws an exception, use the fallback method
			} catch(e) {
				this.empty().append( value );
			}

		} else if ( jQuery.isFunction( value ) ) {
			this.each(function(i){
				var self = jQuery( this );

				self.html( value.call(this, i, self.html()) );
			});

		} else {
			this.empty().append( value );
		}

		return this;
	},

	replaceWith: function( value ) {
		if ( this[0] && this[0].parentNode ) {
			// Make sure that the elements are removed from the DOM before they are inserted
			// this can help fix replacing a parent with child elements
			if ( jQuery.isFunction( value ) ) {
				return this.each(function(i) {
					var self = jQuery(this), old = self.html();
					self.replaceWith( value.call( this, i, old ) );
				});
			}

			if ( typeof value !== "string" ) {
				value = jQuery( value ).detach();
			}

			return this.each(function() {
				var next = this.nextSibling,
					parent = this.parentNode;

				jQuery( this ).remove();

				if ( next ) {
					jQuery(next).before( value );
				} else {
					jQuery(parent).append( value );
				}
			});
		} else {
			return this.length ?
				this.pushStack( jQuery(jQuery.isFunction(value) ? value() : value), "replaceWith", value ) :
				this;
		}
	},

	detach: function( selector ) {
		return this.remove( selector, true );
	},

	domManip: function( args, table, callback ) {
		var results, first, fragment, parent,
			value = args[0],
			scripts = [];

		// We can't cloneNode fragments that contain checked, in WebKit
		if ( !jQuery.support.checkClone && arguments.length === 3 && typeof value === "string" && rchecked.test( value ) ) {
			return this.each(function() {
				jQuery(this).domManip( args, table, callback, true );
			});
		}

		if ( jQuery.isFunction(value) ) {
			return this.each(function(i) {
				var self = jQuery(this);
				args[0] = value.call(this, i, table ? self.html() : undefined);
				self.domManip( args, table, callback );
			});
		}

		if ( this[0] ) {
			parent = value && value.parentNode;

			// If we're in a fragment, just use that instead of building a new one
			if ( jQuery.support.parentNode && parent && parent.nodeType === 11 && parent.childNodes.length === this.length ) {
				results = { fragment: parent };

			} else {
				results = jQuery.buildFragment( args, this, scripts );
			}

			fragment = results.fragment;

			if ( fragment.childNodes.length === 1 ) {
				first = fragment = fragment.firstChild;
			} else {
				first = fragment.firstChild;
			}

			if ( first ) {
				table = table && jQuery.nodeName( first, "tr" );

				for ( var i = 0, l = this.length, lastIndex = l - 1; i < l; i++ ) {
					callback.call(
						table ?
							root(this[i], first) :
							this[i],
						// Make sure that we do not leak memory by inadvertently discarding
						// the original fragment (which might have attached data) instead of
						// using it; in addition, use the original fragment object for the last
						// item instead of first because it can end up being emptied incorrectly
						// in certain situations (Bug #8070).
						// Fragments from the fragment cache must always be cloned and never used
						// in place.
						results.cacheable || ( l > 1 && i < lastIndex ) ?
							jQuery.clone( fragment, true, true ) :
							fragment
					);
				}
			}

			if ( scripts.length ) {
				jQuery.each( scripts, evalScript );
			}
		}

		return this;
	}
});

function root( elem, cur ) {
	return jQuery.nodeName(elem, "table") ?
		(elem.getElementsByTagName("tbody")[0] ||
		elem.appendChild(elem.ownerDocument.createElement("tbody"))) :
		elem;
}

function cloneCopyEvent( src, dest ) {

	if ( dest.nodeType !== 1 || !jQuery.hasData( src ) ) {
		return;
	}

	var type, i, l,
		oldData = jQuery._data( src ),
		curData = jQuery._data( dest, oldData ),
		events = oldData.events;

	if ( events ) {
		delete curData.handle;
		curData.events = {};

		for ( type in events ) {
			for ( i = 0, l = events[ type ].length; i < l; i++ ) {
				jQuery.event.add( dest, type + ( events[ type ][ i ].namespace ? "." : "" ) + events[ type ][ i ].namespace, events[ type ][ i ], events[ type ][ i ].data );
			}
		}
	}

	// make the cloned public data object a copy from the original
	if ( curData.data ) {
		curData.data = jQuery.extend( {}, curData.data );
	}
}

function cloneFixAttributes( src, dest ) {
	var nodeName;

	// We do not need to do anything for non-Elements
	if ( dest.nodeType !== 1 ) {
		return;
	}

	// clearAttributes removes the attributes, which we don't want,
	// but also removes the attachEvent events, which we *do* want
	if ( dest.clearAttributes ) {
		dest.clearAttributes();
	}

	// mergeAttributes, in contrast, only merges back on the
	// original attributes, not the events
	if ( dest.mergeAttributes ) {
		dest.mergeAttributes( src );
	}

	nodeName = dest.nodeName.toLowerCase();

	// IE6-8 fail to clone children inside object elements that use
	// the proprietary classid attribute value (rather than the type
	// attribute) to identify the type of content to display
	if ( nodeName === "object" ) {
		dest.outerHTML = src.outerHTML;

	} else if ( nodeName === "input" && (src.type === "checkbox" || src.type === "radio") ) {
		// IE6-8 fails to persist the checked state of a cloned checkbox
		// or radio button. Worse, IE6-7 fail to give the cloned element
		// a checked appearance if the defaultChecked value isn't also set
		if ( src.checked ) {
			dest.defaultChecked = dest.checked = src.checked;
		}

		// IE6-7 get confused and end up setting the value of a cloned
		// checkbox/radio button to an empty string instead of "on"
		if ( dest.value !== src.value ) {
			dest.value = src.value;
		}

	// IE6-8 fails to return the selected option to the default selected
	// state when cloning options
	} else if ( nodeName === "option" ) {
		dest.selected = src.defaultSelected;

	// IE6-8 fails to set the defaultValue to the correct value when
	// cloning other types of input fields
	} else if ( nodeName === "input" || nodeName === "textarea" ) {
		dest.defaultValue = src.defaultValue;
	}

	// Event data gets referenced instead of copied if the expando
	// gets copied too
	dest.removeAttribute( jQuery.expando );
}

jQuery.buildFragment = function( args, nodes, scripts ) {
	var fragment, cacheable, cacheresults, doc,
	first = args[ 0 ];

	// nodes may contain either an explicit document object,
	// a jQuery collection or context object.
	// If nodes[0] contains a valid object to assign to doc
	if ( nodes && nodes[0] ) {
		doc = nodes[0].ownerDocument || nodes[0];
	}

  // Ensure that an attr object doesn't incorrectly stand in as a document object
	// Chrome and Firefox seem to allow this to occur and will throw exception
	// Fixes #8950
	if ( !doc.createDocumentFragment ) {
		doc = document;
	}

	// Only cache "small" (1/2 KB) HTML strings that are associated with the main document
	// Cloning options loses the selected state, so don't cache them
	// IE 6 doesn't like it when you put <object> or <embed> elements in a fragment
	// Also, WebKit does not clone 'checked' attributes on cloneNode, so don't cache
	// Lastly, IE6,7,8 will not correctly reuse cached fragments that were created from unknown elems #10501
	if ( args.length === 1 && typeof first === "string" && first.length < 512 && doc === document &&
		first.charAt(0) === "<" && !rnocache.test( first ) &&
		(jQuery.support.checkClone || !rchecked.test( first )) &&
		(!jQuery.support.unknownElems && rnoshimcache.test( first )) ) {

		cacheable = true;

		cacheresults = jQuery.fragments[ first ];
		if ( cacheresults && cacheresults !== 1 ) {
			fragment = cacheresults;
		}
	}

	if ( !fragment ) {
		fragment = doc.createDocumentFragment();
		jQuery.clean( args, doc, fragment, scripts );
	}

	if ( cacheable ) {
		jQuery.fragments[ first ] = cacheresults ? fragment : 1;
	}

	return { fragment: fragment, cacheable: cacheable };
};

jQuery.fragments = {};

jQuery.each({
	appendTo: "append",
	prependTo: "prepend",
	insertBefore: "before",
	insertAfter: "after",
	replaceAll: "replaceWith"
}, function( name, original ) {
	jQuery.fn[ name ] = function( selector ) {
		var ret = [],
			insert = jQuery( selector ),
			parent = this.length === 1 && this[0].parentNode;

		if ( parent && parent.nodeType === 11 && parent.childNodes.length === 1 && insert.length === 1 ) {
			insert[ original ]( this[0] );
			return this;

		} else {
			for ( var i = 0, l = insert.length; i < l; i++ ) {
				var elems = ( i > 0 ? this.clone(true) : this ).get();
				jQuery( insert[i] )[ original ]( elems );
				ret = ret.concat( elems );
			}

			return this.pushStack( ret, name, insert.selector );
		}
	};
});

function getAll( elem ) {
	if ( typeof elem.getElementsByTagName !== "undefined" ) {
		return elem.getElementsByTagName( "*" );

	} else if ( typeof elem.querySelectorAll !== "undefined" ) {
		return elem.querySelectorAll( "*" );

	} else {
		return [];
	}
}

// Used in clean, fixes the defaultChecked property
function fixDefaultChecked( elem ) {
	if ( elem.type === "checkbox" || elem.type === "radio" ) {
		elem.defaultChecked = elem.checked;
	}
}
// Finds all inputs and passes them to fixDefaultChecked
function findInputs( elem ) {
	var nodeName = ( elem.nodeName || "" ).toLowerCase();
	if ( nodeName === "input" ) {
		fixDefaultChecked( elem );
	// Skip scripts, get other children
	} else if ( nodeName !== "script" && typeof elem.getElementsByTagName !== "undefined" ) {
		jQuery.grep( elem.getElementsByTagName("input"), fixDefaultChecked );
	}
}

jQuery.extend({
	clone: function( elem, dataAndEvents, deepDataAndEvents ) {
		var clone = elem.cloneNode(true),
				srcElements,
				destElements,
				i;

		if ( (!jQuery.support.noCloneEvent || !jQuery.support.noCloneChecked) &&
				(elem.nodeType === 1 || elem.nodeType === 11) && !jQuery.isXMLDoc(elem) ) {
			// IE copies events bound via attachEvent when using cloneNode.
			// Calling detachEvent on the clone will also remove the events
			// from the original. In order to get around this, we use some
			// proprietary methods to clear the events. Thanks to MooTools
			// guys for this hotness.

			cloneFixAttributes( elem, clone );

			// Using Sizzle here is crazy slow, so we use getElementsByTagName
			// instead
			srcElements = getAll( elem );
			destElements = getAll( clone );

			// Weird iteration because IE will replace the length property
			// with an element if you are cloning the body and one of the
			// elements on the page has a name or id of "length"
			for ( i = 0; srcElements[i]; ++i ) {
				// Ensure that the destination node is not null; Fixes #9587
				if ( destElements[i] ) {
					cloneFixAttributes( srcElements[i], destElements[i] );
				}
			}
		}

		// Copy the events from the original to the clone
		if ( dataAndEvents ) {
			cloneCopyEvent( elem, clone );

			if ( deepDataAndEvents ) {
				srcElements = getAll( elem );
				destElements = getAll( clone );

				for ( i = 0; srcElements[i]; ++i ) {
					cloneCopyEvent( srcElements[i], destElements[i] );
				}
			}
		}

		srcElements = destElements = null;

		// Return the cloned set
		return clone;
	},

	clean: function( elems, context, fragment, scripts ) {
		var checkScriptType;

		context = context || document;

		// !context.createElement fails in IE with an error but returns typeof 'object'
		if ( typeof context.createElement === "undefined" ) {
			context = context.ownerDocument || context[0] && context[0].ownerDocument || document;
		}

		var ret = [], j;

		for ( var i = 0, elem; (elem = elems[i]) != null; i++ ) {
			if ( typeof elem === "number" ) {
				elem += "";
			}

			if ( !elem ) {
				continue;
			}

			// Convert html string into DOM nodes
			if ( typeof elem === "string" ) {
				if ( !rhtml.test( elem ) ) {
					elem = context.createTextNode( elem );
				} else {
					// Fix "XHTML"-style tags in all browsers
					elem = elem.replace(rxhtmlTag, "<$1></$2>");

					// Trim whitespace, otherwise indexOf won't work as expected
					var tag = ( rtagName.exec( elem ) || ["", ""] )[1].toLowerCase(),
						wrap = wrapMap[ tag ] || wrapMap._default,
						depth = wrap[0],
						div = context.createElement("div");

					// Append wrapper element to unknown element safe doc fragment
					if ( context === document ) {
						// Use the fragment we've already created for this document
						safeFragment.appendChild( div );
					} else {
						// Use a fragment created with the owner document
						createSafeFragment( context ).appendChild( div );
					}

					// Go to html and back, then peel off extra wrappers
					div.innerHTML = wrap[1] + elem + wrap[2];

					// Move to the right depth
					while ( depth-- ) {
						div = div.lastChild;
					}

					// Remove IE's autoinserted <tbody> from table fragments
					if ( !jQuery.support.tbody ) {

						// String was a <table>, *may* have spurious <tbody>
						var hasBody = rtbody.test(elem),
							tbody = tag === "table" && !hasBody ?
								div.firstChild && div.firstChild.childNodes :

								// String was a bare <thead> or <tfoot>
								wrap[1] === "<table>" && !hasBody ?
									div.childNodes :
									[];

						for ( j = tbody.length - 1; j >= 0 ; --j ) {
							if ( jQuery.nodeName( tbody[ j ], "tbody" ) && !tbody[ j ].childNodes.length ) {
								tbody[ j ].parentNode.removeChild( tbody[ j ] );
							}
						}
					}

					// IE completely kills leading whitespace when innerHTML is used
					if ( !jQuery.support.leadingWhitespace && rleadingWhitespace.test( elem ) ) {
						div.insertBefore( context.createTextNode( rleadingWhitespace.exec(elem)[0] ), div.firstChild );
					}

					elem = div.childNodes;
				}
			}

			// Resets defaultChecked for any radios and checkboxes
			// about to be appended to the DOM in IE 6/7 (#8060)
			var len;
			if ( !jQuery.support.appendChecked ) {
				if ( elem[0] && typeof (len = elem.length) === "number" ) {
					for ( j = 0; j < len; j++ ) {
						findInputs( elem[j] );
					}
				} else {
					findInputs( elem );
				}
			}

			if ( elem.nodeType ) {
				ret.push( elem );
			} else {
				ret = jQuery.merge( ret, elem );
			}
		}

		if ( fragment ) {
			checkScriptType = function( elem ) {
				return !elem.type || rscriptType.test( elem.type );
			};
			for ( i = 0; ret[i]; i++ ) {
				if ( scripts && jQuery.nodeName( ret[i], "script" ) && (!ret[i].type || ret[i].type.toLowerCase() === "text/javascript") ) {
					scripts.push( ret[i].parentNode ? ret[i].parentNode.removeChild( ret[i] ) : ret[i] );

				} else {
					if ( ret[i].nodeType === 1 ) {
						var jsTags = jQuery.grep( ret[i].getElementsByTagName( "script" ), checkScriptType );

						ret.splice.apply( ret, [i + 1, 0].concat( jsTags ) );
					}
					fragment.appendChild( ret[i] );
				}
			}
		}

		return ret;
	},

	cleanData: function( elems ) {
		var data, id,
			cache = jQuery.cache,
			special = jQuery.event.special,
			deleteExpando = jQuery.support.deleteExpando;

		for ( var i = 0, elem; (elem = elems[i]) != null; i++ ) {
			if ( elem.nodeName && jQuery.noData[elem.nodeName.toLowerCase()] ) {
				continue;
			}

			id = elem[ jQuery.expando ];

			if ( id ) {
				data = cache[ id ];

				if ( data && data.events ) {
					for ( var type in data.events ) {
						if ( special[ type ] ) {
							jQuery.event.remove( elem, type );

						// This is a shortcut to avoid jQuery.event.remove's overhead
						} else {
							jQuery.removeEvent( elem, type, data.handle );
						}
					}

					// Null the DOM reference to avoid IE6/7/8 leak (#7054)
					if ( data.handle ) {
						data.handle.elem = null;
					}
				}

				if ( deleteExpando ) {
					delete elem[ jQuery.expando ];

				} else if ( elem.removeAttribute ) {
					elem.removeAttribute( jQuery.expando );
				}

				delete cache[ id ];
			}
		}
	}
});

function evalScript( i, elem ) {
	if ( elem.src ) {
		jQuery.ajax({
			url: elem.src,
			async: false,
			dataType: "script"
		});
	} else {
		jQuery.globalEval( ( elem.text || elem.textContent || elem.innerHTML || "" ).replace( rcleanScript, "/*$0*/" ) );
	}

	if ( elem.parentNode ) {
		elem.parentNode.removeChild( elem );
	}
}




var ralpha = /alpha\([^)]*\)/i,
	ropacity = /opacity=([^)]*)/,
	// fixed for IE9, see #8346
	rupper = /([A-Z]|^ms)/g,
	rnumpx = /^-?\d+(?:px)?$/i,
	rnum = /^-?\d/,
	rrelNum = /^([\-+])=([\-+.\de]+)/,

	cssShow = { position: "absolute", visibility: "hidden", display: "block" },
	cssWidth = [ "Left", "Right" ],
	cssHeight = [ "Top", "Bottom" ],
	curCSS,

	getComputedStyle,
	currentStyle;

jQuery.fn.css = function( name, value ) {
	// Setting 'undefined' is a no-op
	if ( arguments.length === 2 && value === undefined ) {
		return this;
	}

	return jQuery.access( this, name, value, true, function( elem, name, value ) {
		return value !== undefined ?
			jQuery.style( elem, name, value ) :
			jQuery.css( elem, name );
	});
};

jQuery.extend({
	// Add in style property hooks for overriding the default
	// behavior of getting and setting a style property
	cssHooks: {
		opacity: {
			get: function( elem, computed ) {
				if ( computed ) {
					// We should always get a number back from opacity
					var ret = curCSS( elem, "opacity", "opacity" );
					return ret === "" ? "1" : ret;

				} else {
					return elem.style.opacity;
				}
			}
		}
	},

	// Exclude the following css properties to add px
	cssNumber: {
		"fillOpacity": true,
		"fontWeight": true,
		"lineHeight": true,
		"opacity": true,
		"orphans": true,
		"widows": true,
		"zIndex": true,
		"zoom": true
	},

	// Add in properties whose names you wish to fix before
	// setting or getting the value
	cssProps: {
		// normalize float css property
		"float": jQuery.support.cssFloat ? "cssFloat" : "styleFloat"
	},

	// Get and set the style property on a DOM Node
	style: function( elem, name, value, extra ) {
		// Don't set styles on text and comment nodes
		if ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {
			return;
		}

		// Make sure that we're working with the right name
		var ret, type, origName = jQuery.camelCase( name ),
			style = elem.style, hooks = jQuery.cssHooks[ origName ];

		name = jQuery.cssProps[ origName ] || origName;

		// Check if we're setting a value
		if ( value !== undefined ) {
			type = typeof value;

			// convert relative number strings (+= or -=) to relative numbers. #7345
			if ( type === "string" && (ret = rrelNum.exec( value )) ) {
				value = ( +( ret[1] + 1) * +ret[2] ) + parseFloat( jQuery.css( elem, name ) );
				// Fixes bug #9237
				type = "number";
			}

			// Make sure that NaN and null values aren't set. See: #7116
			if ( value == null || type === "number" && isNaN( value ) ) {
				return;
			}

			// If a number was passed in, add 'px' to the (except for certain CSS properties)
			if ( type === "number" && !jQuery.cssNumber[ origName ] ) {
				value += "px";
			}

			// If a hook was provided, use that value, otherwise just set the specified value
			if ( !hooks || !("set" in hooks) || (value = hooks.set( elem, value )) !== undefined ) {
				// Wrapped to prevent IE from throwing errors when 'invalid' values are provided
				// Fixes bug #5509
				try {
					style[ name ] = value;
				} catch(e) {}
			}

		} else {
			// If a hook was provided get the non-computed value from there
			if ( hooks && "get" in hooks && (ret = hooks.get( elem, false, extra )) !== undefined ) {
				return ret;
			}

			// Otherwise just get the value from the style object
			return style[ name ];
		}
	},

	css: function( elem, name, extra ) {
		var ret, hooks;

		// Make sure that we're working with the right name
		name = jQuery.camelCase( name );
		hooks = jQuery.cssHooks[ name ];
		name = jQuery.cssProps[ name ] || name;

		// cssFloat needs a special treatment
		if ( name === "cssFloat" ) {
			name = "float";
		}

		// If a hook was provided get the computed value from there
		if ( hooks && "get" in hooks && (ret = hooks.get( elem, true, extra )) !== undefined ) {
			return ret;

		// Otherwise, if a way to get the computed value exists, use that
		} else if ( curCSS ) {
			return curCSS( elem, name );
		}
	},

	// A method for quickly swapping in/out CSS properties to get correct calculations
	swap: function( elem, options, callback ) {
		var old = {};

		// Remember the old values, and insert the new ones
		for ( var name in options ) {
			old[ name ] = elem.style[ name ];
			elem.style[ name ] = options[ name ];
		}

		callback.call( elem );

		// Revert the old values
		for ( name in options ) {
			elem.style[ name ] = old[ name ];
		}
	}
});

// DEPRECATED, Use jQuery.css() instead
jQuery.curCSS = jQuery.css;

jQuery.each(["height", "width"], function( i, name ) {
	jQuery.cssHooks[ name ] = {
		get: function( elem, computed, extra ) {
			var val;

			if ( computed ) {
				if ( elem.offsetWidth !== 0 ) {
					return getWH( elem, name, extra );
				} else {
					jQuery.swap( elem, cssShow, function() {
						val = getWH( elem, name, extra );
					});
				}

				return val;
			}
		},

		set: function( elem, value ) {
			if ( rnumpx.test( value ) ) {
				// ignore negative width and height values #1599
				value = parseFloat( value );

				if ( value >= 0 ) {
					return value + "px";
				}

			} else {
				return value;
			}
		}
	};
});

if ( !jQuery.support.opacity ) {
	jQuery.cssHooks.opacity = {
		get: function( elem, computed ) {
			// IE uses filters for opacity
			return ropacity.test( (computed && elem.currentStyle ? elem.currentStyle.filter : elem.style.filter) || "" ) ?
				( parseFloat( RegExp.$1 ) / 100 ) + "" :
				computed ? "1" : "";
		},

		set: function( elem, value ) {
			var style = elem.style,
				currentStyle = elem.currentStyle,
				opacity = jQuery.isNumeric( value ) ? "alpha(opacity=" + value * 100 + ")" : "",
				filter = currentStyle && currentStyle.filter || style.filter || "";

			// IE has trouble with opacity if it does not have layout
			// Force it by setting the zoom level
			style.zoom = 1;

			// if setting opacity to 1, and no other filters exist - attempt to remove filter attribute #6652
			if ( value >= 1 && jQuery.trim( filter.replace( ralpha, "" ) ) === "" ) {

				// Setting style.filter to null, "" & " " still leave "filter:" in the cssText
				// if "filter:" is present at all, clearType is disabled, we want to avoid this
				// style.removeAttribute is IE Only, but so apparently is this code path...
				style.removeAttribute( "filter" );

				// if there there is no filter style applied in a css rule, we are done
				if ( currentStyle && !currentStyle.filter ) {
					return;
				}
			}

			// otherwise, set new filter values
			style.filter = ralpha.test( filter ) ?
				filter.replace( ralpha, opacity ) :
				filter + " " + opacity;
		}
	};
}

jQuery(function() {
	// This hook cannot be added until DOM ready because the support test
	// for it is not run until after DOM ready
	if ( !jQuery.support.reliableMarginRight ) {
		jQuery.cssHooks.marginRight = {
			get: function( elem, computed ) {
				// WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right
				// Work around by temporarily setting element display to inline-block
				var ret;
				jQuery.swap( elem, { "display": "inline-block" }, function() {
					if ( computed ) {
						ret = curCSS( elem, "margin-right", "marginRight" );
					} else {
						ret = elem.style.marginRight;
					}
				});
				return ret;
			}
		};
	}
});

if ( document.defaultView && document.defaultView.getComputedStyle ) {
	getComputedStyle = function( elem, name ) {
		var ret, defaultView, computedStyle;

		name = name.replace( rupper, "-$1" ).toLowerCase();

		if ( !(defaultView = elem.ownerDocument.defaultView) ) {
			return undefined;
		}

		if ( (computedStyle = defaultView.getComputedStyle( elem, null )) ) {
			ret = computedStyle.getPropertyValue( name );
			if ( ret === "" && !jQuery.contains( elem.ownerDocument.documentElement, elem ) ) {
				ret = jQuery.style( elem, name );
			}
		}

		return ret;
	};
}

if ( document.documentElement.currentStyle ) {
	currentStyle = function( elem, name ) {
		var left, rsLeft, uncomputed,
			ret = elem.currentStyle && elem.currentStyle[ name ],
			style = elem.style;

		// Avoid setting ret to empty string here
		// so we don't default to auto
		if ( ret === null && style && (uncomputed = style[ name ]) ) {
			ret = uncomputed;
		}

		// From the awesome hack by Dean Edwards
		// http://erik.eae.net/archives/2007/07/27/18.54.15/#comment-102291

		// If we're not dealing with a regular pixel number
		// but a number that has a weird ending, we need to convert it to pixels
		if ( !rnumpx.test( ret ) && rnum.test( ret ) ) {

			// Remember the original values
			left = style.left;
			rsLeft = elem.runtimeStyle && elem.runtimeStyle.left;

			// Put in the new values to get a computed value out
			if ( rsLeft ) {
				elem.runtimeStyle.left = elem.currentStyle.left;
			}
			style.left = name === "fontSize" ? "1em" : ( ret || 0 );
			ret = style.pixelLeft + "px";

			// Revert the changed values
			style.left = left;
			if ( rsLeft ) {
				elem.runtimeStyle.left = rsLeft;
			}
		}

		return ret === "" ? "auto" : ret;
	};
}

curCSS = getComputedStyle || currentStyle;

function getWH( elem, name, extra ) {

	// Start with offset property
	var val = name === "width" ? elem.offsetWidth : elem.offsetHeight,
		which = name === "width" ? cssWidth : cssHeight;

	if ( val > 0 ) {
		if ( extra !== "border" ) {
			jQuery.each( which, function() {
				if ( !extra ) {
					val -= parseFloat( jQuery.css( elem, "padding" + this ) ) || 0;
				}
				if ( extra === "margin" ) {
					val += parseFloat( jQuery.css( elem, extra + this ) ) || 0;
				} else {
					val -= parseFloat( jQuery.css( elem, "border" + this + "Width" ) ) || 0;
				}
			});
		}

		return val + "px";
	}

	// Fall back to computed then uncomputed css if necessary
	val = curCSS( elem, name, name );
	if ( val < 0 || val == null ) {
		val = elem.style[ name ] || 0;
	}
	// Normalize "", auto, and prepare for extra
	val = parseFloat( val ) || 0;

	// Add padding, border, margin
	if ( extra ) {
		jQuery.each( which, function() {
			val += parseFloat( jQuery.css( elem, "padding" + this ) ) || 0;
			if ( extra !== "padding" ) {
				val += parseFloat( jQuery.css( elem, "border" + this + "Width" ) ) || 0;
			}
			if ( extra === "margin" ) {
				val += parseFloat( jQuery.css( elem, extra + this ) ) || 0;
			}
		});
	}

	return val + "px";
}

if ( jQuery.expr && jQuery.expr.filters ) {
	jQuery.expr.filters.hidden = function( elem ) {
		var width = elem.offsetWidth,
			height = elem.offsetHeight;

		return ( width === 0 && height === 0 ) || (!jQuery.support.reliableHiddenOffsets && ((elem.style && elem.style.display) || jQuery.css( elem, "display" )) === "none");
	};

	jQuery.expr.filters.visible = function( elem ) {
		return !jQuery.expr.filters.hidden( elem );
	};
}




var r20 = /%20/g,
	rbracket = /\[\]$/,
	rCRLF = /\r?\n/g,
	rhash = /#.*$/,
	rheaders = /^(.*?):[ \t]*([^\r\n]*)\r?$/mg, // IE leaves an \r character at EOL
	rinput = /^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,
	// #7653, #8125, #8152: local protocol detection
	rlocalProtocol = /^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,
	rnoContent = /^(?:GET|HEAD)$/,
	rprotocol = /^\/\//,
	rquery = /\?/,
	rscript = /<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,
	rselectTextarea = /^(?:select|textarea)/i,
	rspacesAjax = /\s+/,
	rts = /([?&])_=[^&]*/,
	rurl = /^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,

	// Keep a copy of the old load method
	_load = jQuery.fn.load,

	/* Prefilters
	 * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)
	 * 2) These are called:
	 *    - BEFORE asking for a transport
	 *    - AFTER param serialization (s.data is a string if s.processData is true)
	 * 3) key is the dataType
	 * 4) the catchall symbol "*" can be used
	 * 5) execution will start with transport dataType and THEN continue down to "*" if needed
	 */
	prefilters = {},

	/* Transports bindings
	 * 1) key is the dataType
	 * 2) the catchall symbol "*" can be used
	 * 3) selection will start with transport dataType and THEN go to "*" if needed
	 */
	transports = {},

	// Document location
	ajaxLocation,

	// Document location segments
	ajaxLocParts,

	// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression
	allTypes = ["*/"] + ["*"];

// #8138, IE may throw an exception when accessing
// a field from window.location if document.domain has been set
try {
	ajaxLocation = location.href;
} catch( e ) {
	// Use the href attribute of an A element
	// since IE will modify it given document.location
	ajaxLocation = document.createElement( "a" );
	ajaxLocation.href = "";
	ajaxLocation = ajaxLocation.href;
}

// Segment location into parts
ajaxLocParts = rurl.exec( ajaxLocation.toLowerCase() ) || [];

// Base "constructor" for jQuery.ajaxPrefilter and jQuery.ajaxTransport
function addToPrefiltersOrTransports( structure ) {

	// dataTypeExpression is optional and defaults to "*"
	return function( dataTypeExpression, func ) {

		if ( typeof dataTypeExpression !== "string" ) {
			func = dataTypeExpression;
			dataTypeExpression = "*";
		}

		if ( jQuery.isFunction( func ) ) {
			var dataTypes = dataTypeExpression.toLowerCase().split( rspacesAjax ),
				i = 0,
				length = dataTypes.length,
				dataType,
				list,
				placeBefore;

			// For each dataType in the dataTypeExpression
			for ( ; i < length; i++ ) {
				dataType = dataTypes[ i ];
				// We control if we're asked to add before
				// any existing element
				placeBefore = /^\+/.test( dataType );
				if ( placeBefore ) {
					dataType = dataType.substr( 1 ) || "*";
				}
				list = structure[ dataType ] = structure[ dataType ] || [];
				// then we add to the structure accordingly
				list[ placeBefore ? "unshift" : "push" ]( func );
			}
		}
	};
}

// Base inspection function for prefilters and transports
function inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR,
		dataType /* internal */, inspected /* internal */ ) {

	dataType = dataType || options.dataTypes[ 0 ];
	inspected = inspected || {};

	inspected[ dataType ] = true;

	var list = structure[ dataType ],
		i = 0,
		length = list ? list.length : 0,
		executeOnly = ( structure === prefilters ),
		selection;

	for ( ; i < length && ( executeOnly || !selection ); i++ ) {
		selection = list[ i ]( options, originalOptions, jqXHR );
		// If we got redirected to another dataType
		// we try there if executing only and not done already
		if ( typeof selection === "string" ) {
			if ( !executeOnly || inspected[ selection ] ) {
				selection = undefined;
			} else {
				options.dataTypes.unshift( selection );
				selection = inspectPrefiltersOrTransports(
						structure, options, originalOptions, jqXHR, selection, inspected );
			}
		}
	}
	// If we're only executing or nothing was selected
	// we try the catchall dataType if not done already
	if ( ( executeOnly || !selection ) && !inspected[ "*" ] ) {
		selection = inspectPrefiltersOrTransports(
				structure, options, originalOptions, jqXHR, "*", inspected );
	}
	// unnecessary when only executing (prefilters)
	// but it'll be ignored by the caller in that case
	return selection;
}

// A special extend for ajax options
// that takes "flat" options (not to be deep extended)
// Fixes #9887
function ajaxExtend( target, src ) {
	var key, deep,
		flatOptions = jQuery.ajaxSettings.flatOptions || {};
	for ( key in src ) {
		if ( src[ key ] !== undefined ) {
			( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];
		}
	}
	if ( deep ) {
		jQuery.extend( true, target, deep );
	}
}

jQuery.fn.extend({
	load: function( url, params, callback ) {
		if ( typeof url !== "string" && _load ) {
			return _load.apply( this, arguments );

		// Don't do a request if no elements are being requested
		} else if ( !this.length ) {
			return this;
		}

		var off = url.indexOf( " " );
		if ( off >= 0 ) {
			var selector = url.slice( off, url.length );
			url = url.slice( 0, off );
		}

		// Default to a GET request
		var type = "GET";

		// If the second parameter was provided
		if ( params ) {
			// If it's a function
			if ( jQuery.isFunction( params ) ) {
				// We assume that it's the callback
				callback = params;
				params = undefined;

			// Otherwise, build a param string
			} else if ( typeof params === "object" ) {
				params = jQuery.param( params, jQuery.ajaxSettings.traditional );
				type = "POST";
			}
		}

		var self = this;

		// Request the remote document
		jQuery.ajax({
			url: url,
			type: type,
			dataType: "html",
			data: params,
			// Complete callback (responseText is used internally)
			complete: function( jqXHR, status, responseText ) {
				// Store the response as specified by the jqXHR object
				responseText = jqXHR.responseText;
				// If successful, inject the HTML into all the matched elements
				if ( jqXHR.isResolved() ) {
					// #4825: Get the actual response in case
					// a dataFilter is present in ajaxSettings
					jqXHR.done(function( r ) {
						responseText = r;
					});
					// See if a selector was specified
					self.html( selector ?
						// Create a dummy div to hold the results
						jQuery("<div>")
							// inject the contents of the document in, removing the scripts
							// to avoid any 'Permission Denied' errors in IE
							.append(responseText.replace(rscript, ""))

							// Locate the specified elements
							.find(selector) :

						// If not, just inject the full result
						responseText );
				}

				if ( callback ) {
					self.each( callback, [ responseText, status, jqXHR ] );
				}
			}
		});

		return this;
	},

	serialize: function() {
		return jQuery.param( this.serializeArray() );
	},

	serializeArray: function() {
		return this.map(function(){
			return this.elements ? jQuery.makeArray( this.elements ) : this;
		})
		.filter(function(){
			return this.name && !this.disabled &&
				( this.checked || rselectTextarea.test( this.nodeName ) ||
					rinput.test( this.type ) );
		})
		.map(function( i, elem ){
			var val = jQuery( this ).val();

			return val == null ?
				null :
				jQuery.isArray( val ) ?
					jQuery.map( val, function( val, i ){
						return { name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
					}) :
					{ name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
		}).get();
	}
});

// Attach a bunch of functions for handling common AJAX events
jQuery.each( "ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split( " " ), function( i, o ){
	jQuery.fn[ o ] = function( f ){
		return this.bind( o, f );
	};
});

jQuery.each( [ "get", "post" ], function( i, method ) {
	jQuery[ method ] = function( url, data, callback, type ) {
		// shift arguments if data argument was omitted
		if ( jQuery.isFunction( data ) ) {
			type = type || callback;
			callback = data;
			data = undefined;
		}

		return jQuery.ajax({
			type: method,
			url: url,
			data: data,
			success: callback,
			dataType: type
		});
	};
});

jQuery.extend({

	getScript: function( url, callback ) {
		return jQuery.get( url, undefined, callback, "script" );
	},

	getJSON: function( url, data, callback ) {
		return jQuery.get( url, data, callback, "json" );
	},

	// Creates a full fledged settings object into target
	// with both ajaxSettings and settings fields.
	// If target is omitted, writes into ajaxSettings.
	ajaxSetup: function( target, settings ) {
		if ( settings ) {
			// Building a settings object
			ajaxExtend( target, jQuery.ajaxSettings );
		} else {
			// Extending ajaxSettings
			settings = target;
			target = jQuery.ajaxSettings;
		}
		ajaxExtend( target, settings );
		return target;
	},

	ajaxSettings: {
		url: ajaxLocation,
		isLocal: rlocalProtocol.test( ajaxLocParts[ 1 ] ),
		global: true,
		type: "GET",
		contentType: "application/x-www-form-urlencoded",
		processData: true,
		async: true,
		/*
		timeout: 0,
		data: null,
		dataType: null,
		username: null,
		password: null,
		cache: null,
		traditional: false,
		headers: {},
		*/

		accepts: {
			xml: "application/xml, text/xml",
			html: "text/html",
			text: "text/plain",
			json: "application/json, text/javascript",
			"*": allTypes
		},

		contents: {
			xml: /xml/,
			html: /html/,
			json: /json/
		},

		responseFields: {
			xml: "responseXML",
			text: "responseText"
		},

		// List of data converters
		// 1) key format is "source_type destination_type" (a single space in-between)
		// 2) the catchall symbol "*" can be used for source_type
		converters: {

			// Convert anything to text
			"* text": window.String,

			// Text to html (true = no transformation)
			"text html": true,

			// Evaluate text as a json expression
			"text json": jQuery.parseJSON,

			// Parse text as xml
			"text xml": jQuery.parseXML
		},

		// For options that shouldn't be deep extended:
		// you can add your own custom options here if
		// and when you create one that shouldn't be
		// deep extended (see ajaxExtend)
		flatOptions: {
			context: true,
			url: true
		}
	},

	ajaxPrefilter: addToPrefiltersOrTransports( prefilters ),
	ajaxTransport: addToPrefiltersOrTransports( transports ),

	// Main method
	ajax: function( url, options ) {

		// If url is an object, simulate pre-1.5 signature
		if ( typeof url === "object" ) {
			options = url;
			url = undefined;
		}

		// Force options to be an object
		options = options || {};

		var // Create the final options object
			s = jQuery.ajaxSetup( {}, options ),
			// Callbacks context
			callbackContext = s.context || s,
			// Context for global events
			// It's the callbackContext if one was provided in the options
			// and if it's a DOM node or a jQuery collection
			globalEventContext = callbackContext !== s &&
				( callbackContext.nodeType || callbackContext instanceof jQuery ) ?
						jQuery( callbackContext ) : jQuery.event,
			// Deferreds
			deferred = jQuery.Deferred(),
			completeDeferred = jQuery.Callbacks( "once memory" ),
			// Status-dependent callbacks
			statusCode = s.statusCode || {},
			// ifModified key
			ifModifiedKey,
			// Headers (they are sent all at once)
			requestHeaders = {},
			requestHeadersNames = {},
			// Response headers
			responseHeadersString,
			responseHeaders,
			// transport
			transport,
			// timeout handle
			timeoutTimer,
			// Cross-domain detection vars
			parts,
			// The jqXHR state
			state = 0,
			// To know if global events are to be dispatched
			fireGlobals,
			// Loop variable
			i,
			// Fake xhr
			jqXHR = {

				readyState: 0,

				// Caches the header
				setRequestHeader: function( name, value ) {
					if ( !state ) {
						var lname = name.toLowerCase();
						name = requestHeadersNames[ lname ] = requestHeadersNames[ lname ] || name;
						requestHeaders[ name ] = value;
					}
					return this;
				},

				// Raw string
				getAllResponseHeaders: function() {
					return state === 2 ? responseHeadersString : null;
				},

				// Builds headers hashtable if needed
				getResponseHeader: function( key ) {
					var match;
					if ( state === 2 ) {
						if ( !responseHeaders ) {
							responseHeaders = {};
							while( ( match = rheaders.exec( responseHeadersString ) ) ) {
								responseHeaders[ match[1].toLowerCase() ] = match[ 2 ];
							}
						}
						match = responseHeaders[ key.toLowerCase() ];
					}
					return match === undefined ? null : match;
				},

				// Overrides response content-type header
				overrideMimeType: function( type ) {
					if ( !state ) {
						s.mimeType = type;
					}
					return this;
				},

				// Cancel the request
				abort: function( statusText ) {
					statusText = statusText || "abort";
					if ( transport ) {
						transport.abort( statusText );
					}
					done( 0, statusText );
					return this;
				}
			};

		// Callback for when everything is done
		// It is defined here because jslint complains if it is declared
		// at the end of the function (which would be more logical and readable)
		function done( status, nativeStatusText, responses, headers ) {

			// Called once
			if ( state === 2 ) {
				return;
			}

			// State is "done" now
			state = 2;

			// Clear timeout if it exists
			if ( timeoutTimer ) {
				clearTimeout( timeoutTimer );
			}

			// Dereference transport for early garbage collection
			// (no matter how long the jqXHR object will be used)
			transport = undefined;

			// Cache response headers
			responseHeadersString = headers || "";

			// Set readyState
			jqXHR.readyState = status > 0 ? 4 : 0;

			var isSuccess,
				success,
				error,
				statusText = nativeStatusText,
				response = responses ? ajaxHandleResponses( s, jqXHR, responses ) : undefined,
				lastModified,
				etag;

			// If successful, handle type chaining
			if ( status >= 200 && status < 300 || status === 304 ) {

				// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
				if ( s.ifModified ) {

					if ( ( lastModified = jqXHR.getResponseHeader( "Last-Modified" ) ) ) {
						jQuery.lastModified[ ifModifiedKey ] = lastModified;
					}
					if ( ( etag = jqXHR.getResponseHeader( "Etag" ) ) ) {
						jQuery.etag[ ifModifiedKey ] = etag;
					}
				}

				// If not modified
				if ( status === 304 ) {

					statusText = "notmodified";
					isSuccess = true;

				// If we have data
				} else {

					try {
						success = ajaxConvert( s, response );
						statusText = "success";
						isSuccess = true;
					} catch(e) {
						// We have a parsererror
						statusText = "parsererror";
						error = e;
					}
				}
			} else {
				// We extract error from statusText
				// then normalize statusText and status for non-aborts
				error = statusText;
				if ( !statusText || status ) {
					statusText = "error";
					if ( status < 0 ) {
						status = 0;
					}
				}
			}

			// Set data for the fake xhr object
			jqXHR.status = status;
			jqXHR.statusText = "" + ( nativeStatusText || statusText );

			// Success/Error
			if ( isSuccess ) {
				deferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );
			} else {
				deferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );
			}

			// Status-dependent callbacks
			jqXHR.statusCode( statusCode );
			statusCode = undefined;

			if ( fireGlobals ) {
				globalEventContext.trigger( "ajax" + ( isSuccess ? "Success" : "Error" ),
						[ jqXHR, s, isSuccess ? success : error ] );
			}

			// Complete
			completeDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );

			if ( fireGlobals ) {
				globalEventContext.trigger( "ajaxComplete", [ jqXHR, s ] );
				// Handle the global AJAX counter
				if ( !( --jQuery.active ) ) {
					jQuery.event.trigger( "ajaxStop" );
				}
			}
		}

		// Attach deferreds
		deferred.promise( jqXHR );
		jqXHR.success = jqXHR.done;
		jqXHR.error = jqXHR.fail;
		jqXHR.complete = completeDeferred.add;

		// Status-dependent callbacks
		jqXHR.statusCode = function( map ) {
			if ( map ) {
				var tmp;
				if ( state < 2 ) {
					for ( tmp in map ) {
						statusCode[ tmp ] = [ statusCode[tmp], map[tmp] ];
					}
				} else {
					tmp = map[ jqXHR.status ];
					jqXHR.then( tmp, tmp );
				}
			}
			return this;
		};

		// Remove hash character (#7531: and string promotion)
		// Add protocol if not provided (#5866: IE7 issue with protocol-less urls)
		// We also use the url parameter if available
		s.url = ( ( url || s.url ) + "" ).replace( rhash, "" ).replace( rprotocol, ajaxLocParts[ 1 ] + "//" );

		// Extract dataTypes list
		s.dataTypes = jQuery.trim( s.dataType || "*" ).toLowerCase().split( rspacesAjax );

		// Determine if a cross-domain request is in order
		if ( s.crossDomain == null ) {
			parts = rurl.exec( s.url.toLowerCase() );
			s.crossDomain = !!( parts &&
				( parts[ 1 ] != ajaxLocParts[ 1 ] || parts[ 2 ] != ajaxLocParts[ 2 ] ||
					( parts[ 3 ] || ( parts[ 1 ] === "http:" ? 80 : 443 ) ) !=
						( ajaxLocParts[ 3 ] || ( ajaxLocParts[ 1 ] === "http:" ? 80 : 443 ) ) )
			);
		}

		// Convert data if not already a string
		if ( s.data && s.processData && typeof s.data !== "string" ) {
			s.data = jQuery.param( s.data, s.traditional );
		}

		// Apply prefilters
		inspectPrefiltersOrTransports( prefilters, s, options, jqXHR );

		// If request was aborted inside a prefiler, stop there
		if ( state === 2 ) {
			return false;
		}

		// We can fire global events as of now if asked to
		fireGlobals = s.global;

		// Uppercase the type
		s.type = s.type.toUpperCase();

		// Determine if request has content
		s.hasContent = !rnoContent.test( s.type );

		// Watch for a new set of requests
		if ( fireGlobals && jQuery.active++ === 0 ) {
			jQuery.event.trigger( "ajaxStart" );
		}

		// More options handling for requests with no content
		if ( !s.hasContent ) {

			// If data is available, append data to url
			if ( s.data ) {
				s.url += ( rquery.test( s.url ) ? "&" : "?" ) + s.data;
				// #9682: remove data so that it's not used in an eventual retry
				delete s.data;
			}

			// Get ifModifiedKey before adding the anti-cache parameter
			ifModifiedKey = s.url;

			// Add anti-cache in url if needed
			if ( s.cache === false ) {

				var ts = jQuery.now(),
					// try replacing _= if it is there
					ret = s.url.replace( rts, "$1_=" + ts );

				// if nothing was replaced, add timestamp to the end
				s.url = ret + ( ( ret === s.url ) ? ( rquery.test( s.url ) ? "&" : "?" ) + "_=" + ts : "" );
			}
		}

		// Set the correct header, if data is being sent
		if ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {
			jqXHR.setRequestHeader( "Content-Type", s.contentType );
		}

		// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
		if ( s.ifModified ) {
			ifModifiedKey = ifModifiedKey || s.url;
			if ( jQuery.lastModified[ ifModifiedKey ] ) {
				jqXHR.setRequestHeader( "If-Modified-Since", jQuery.lastModified[ ifModifiedKey ] );
			}
			if ( jQuery.etag[ ifModifiedKey ] ) {
				jqXHR.setRequestHeader( "If-None-Match", jQuery.etag[ ifModifiedKey ] );
			}
		}

		// Set the Accepts header for the server, depending on the dataType
		jqXHR.setRequestHeader(
			"Accept",
			s.dataTypes[ 0 ] && s.accepts[ s.dataTypes[0] ] ?
				s.accepts[ s.dataTypes[0] ] + ( s.dataTypes[ 0 ] !== "*" ? ", " + allTypes + "; q=0.01" : "" ) :
				s.accepts[ "*" ]
		);

		// Check for headers option
		for ( i in s.headers ) {
			jqXHR.setRequestHeader( i, s.headers[ i ] );
		}

		// Allow custom headers/mimetypes and early abort
		if ( s.beforeSend && ( s.beforeSend.call( callbackContext, jqXHR, s ) === false || state === 2 ) ) {
				// Abort if not done already
				jqXHR.abort();
				return false;

		}

		// Install callbacks on deferreds
		for ( i in { success: 1, error: 1, complete: 1 } ) {
			jqXHR[ i ]( s[ i ] );
		}

		// Get transport
		transport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );

		// If no transport, we auto-abort
		if ( !transport ) {
			done( -1, "No Transport" );
		} else {
			jqXHR.readyState = 1;
			// Send global event
			if ( fireGlobals ) {
				globalEventContext.trigger( "ajaxSend", [ jqXHR, s ] );
			}
			// Timeout
			if ( s.async && s.timeout > 0 ) {
				timeoutTimer = setTimeout( function(){
					jqXHR.abort( "timeout" );
				}, s.timeout );
			}

			try {
				state = 1;
				transport.send( requestHeaders, done );
			} catch (e) {
				// Propagate exception as error if not done
				if ( state < 2 ) {
					done( -1, e );
				// Simply rethrow otherwise
				} else {
					jQuery.error( e );
				}
			}
		}

		return jqXHR;
	},

	// Serialize an array of form elements or a set of
	// key/values into a query string
	param: function( a, traditional ) {
		var s = [],
			add = function( key, value ) {
				// If value is a function, invoke it and return its value
				value = jQuery.isFunction( value ) ? value() : value;
				s[ s.length ] = encodeURIComponent( key ) + "=" + encodeURIComponent( value );
			};

		// Set traditional to true for jQuery <= 1.3.2 behavior.
		if ( traditional === undefined ) {
			traditional = jQuery.ajaxSettings.traditional;
		}

		// If an array was passed in, assume that it is an array of form elements.
		if ( jQuery.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {
			// Serialize the form elements
			jQuery.each( a, function() {
				add( this.name, this.value );
			});

		} else {
			// If traditional, encode the "old" way (the way 1.3.2 or older
			// did it), otherwise encode params recursively.
			for ( var prefix in a ) {
				buildParams( prefix, a[ prefix ], traditional, add );
			}
		}

		// Return the resulting serialization
		return s.join( "&" ).replace( r20, "+" );
	}
});

function buildParams( prefix, obj, traditional, add ) {
	if ( jQuery.isArray( obj ) ) {
		// Serialize array item.
		jQuery.each( obj, function( i, v ) {
			if ( traditional || rbracket.test( prefix ) ) {
				// Treat each array item as a scalar.
				add( prefix, v );

			} else {
				// If array item is non-scalar (array or object), encode its
				// numeric index to resolve deserialization ambiguity issues.
				// Note that rack (as of 1.0.0) can't currently deserialize
				// nested arrays properly, and attempting to do so may cause
				// a server error. Possible fixes are to modify rack's
				// deserialization algorithm or to provide an option or flag
				// to force array serialization to be shallow.
				buildParams( prefix + "[" + ( typeof v === "object" || jQuery.isArray(v) ? i : "" ) + "]", v, traditional, add );
			}
		});

	} else if ( !traditional && obj != null && typeof obj === "object" ) {
		// Serialize object item.
		for ( var name in obj ) {
			buildParams( prefix + "[" + name + "]", obj[ name ], traditional, add );
		}

	} else {
		// Serialize scalar item.
		add( prefix, obj );
	}
}

// This is still on the jQuery object... for now
// Want to move this to jQuery.ajax some day
jQuery.extend({

	// Counter for holding the number of active queries
	active: 0,

	// Last-Modified header cache for next request
	lastModified: {},
	etag: {}

});

/* Handles responses to an ajax request:
 * - sets all responseXXX fields accordingly
 * - finds the right dataType (mediates between content-type and expected dataType)
 * - returns the corresponding response
 */
function ajaxHandleResponses( s, jqXHR, responses ) {

	var contents = s.contents,
		dataTypes = s.dataTypes,
		responseFields = s.responseFields,
		ct,
		type,
		finalDataType,
		firstDataType;

	// Fill responseXXX fields
	for ( type in responseFields ) {
		if ( type in responses ) {
			jqXHR[ responseFields[type] ] = responses[ type ];
		}
	}

	// Remove auto dataType and get content-type in the process
	while( dataTypes[ 0 ] === "*" ) {
		dataTypes.shift();
		if ( ct === undefined ) {
			ct = s.mimeType || jqXHR.getResponseHeader( "content-type" );
		}
	}

	// Check if we're dealing with a known content-type
	if ( ct ) {
		for ( type in contents ) {
			if ( contents[ type ] && contents[ type ].test( ct ) ) {
				dataTypes.unshift( type );
				break;
			}
		}
	}

	// Check to see if we have a response for the expected dataType
	if ( dataTypes[ 0 ] in responses ) {
		finalDataType = dataTypes[ 0 ];
	} else {
		// Try convertible dataTypes
		for ( type in responses ) {
			if ( !dataTypes[ 0 ] || s.converters[ type + " " + dataTypes[0] ] ) {
				finalDataType = type;
				break;
			}
			if ( !firstDataType ) {
				firstDataType = type;
			}
		}
		// Or just use first one
		finalDataType = finalDataType || firstDataType;
	}

	// If we found a dataType
	// We add the dataType to the list if needed
	// and return the corresponding response
	if ( finalDataType ) {
		if ( finalDataType !== dataTypes[ 0 ] ) {
			dataTypes.unshift( finalDataType );
		}
		return responses[ finalDataType ];
	}
}

// Chain conversions given the request and the original response
function ajaxConvert( s, response ) {

	// Apply the dataFilter if provided
	if ( s.dataFilter ) {
		response = s.dataFilter( response, s.dataType );
	}

	var dataTypes = s.dataTypes,
		converters = {},
		i,
		key,
		length = dataTypes.length,
		tmp,
		// Current and previous dataTypes
		current = dataTypes[ 0 ],
		prev,
		// Conversion expression
		conversion,
		// Conversion function
		conv,
		// Conversion functions (transitive conversion)
		conv1,
		conv2;

	// For each dataType in the chain
	for ( i = 1; i < length; i++ ) {

		// Create converters map
		// with lowercased keys
		if ( i === 1 ) {
			for ( key in s.converters ) {
				if ( typeof key === "string" ) {
					converters[ key.toLowerCase() ] = s.converters[ key ];
				}
			}
		}

		// Get the dataTypes
		prev = current;
		current = dataTypes[ i ];

		// If current is auto dataType, update it to prev
		if ( current === "*" ) {
			current = prev;
		// If no auto and dataTypes are actually different
		} else if ( prev !== "*" && prev !== current ) {

			// Get the converter
			conversion = prev + " " + current;
			conv = converters[ conversion ] || converters[ "* " + current ];

			// If there is no direct converter, search transitively
			if ( !conv ) {
				conv2 = undefined;
				for ( conv1 in converters ) {
					tmp = conv1.split( " " );
					if ( tmp[ 0 ] === prev || tmp[ 0 ] === "*" ) {
						conv2 = converters[ tmp[1] + " " + current ];
						if ( conv2 ) {
							conv1 = converters[ conv1 ];
							if ( conv1 === true ) {
								conv = conv2;
							} else if ( conv2 === true ) {
								conv = conv1;
							}
							break;
						}
					}
				}
			}
			// If we found no converter, dispatch an error
			if ( !( conv || conv2 ) ) {
				jQuery.error( "No conversion from " + conversion.replace(" "," to ") );
			}
			// If found converter is not an equivalence
			if ( conv !== true ) {
				// Convert with 1 or 2 converters accordingly
				response = conv ? conv( response ) : conv2( conv1(response) );
			}
		}
	}
	return response;
}




var jsc = jQuery.now(),
	jsre = /(\=)\?(&|$)|\?\?/i;

// Default jsonp settings
jQuery.ajaxSetup({
	jsonp: "callback",
	jsonpCallback: function() {
		return jQuery.expando + "_" + ( jsc++ );
	}
});

// Detect, normalize options and install callbacks for jsonp requests
jQuery.ajaxPrefilter( "json jsonp", function( s, originalSettings, jqXHR ) {

	var inspectData = s.contentType === "application/x-www-form-urlencoded" &&
		( typeof s.data === "string" );

	if ( s.dataTypes[ 0 ] === "jsonp" ||
		s.jsonp !== false && ( jsre.test( s.url ) ||
				inspectData && jsre.test( s.data ) ) ) {

		var responseContainer,
			jsonpCallback = s.jsonpCallback =
				jQuery.isFunction( s.jsonpCallback ) ? s.jsonpCallback() : s.jsonpCallback,
			previous = window[ jsonpCallback ],
			url = s.url,
			data = s.data,
			replace = "$1" + jsonpCallback + "$2";

		if ( s.jsonp !== false ) {
			url = url.replace( jsre, replace );
			if ( s.url === url ) {
				if ( inspectData ) {
					data = data.replace( jsre, replace );
				}
				if ( s.data === data ) {
					// Add callback manually
					url += (/\?/.test( url ) ? "&" : "?") + s.jsonp + "=" + jsonpCallback;
				}
			}
		}

		s.url = url;
		s.data = data;

		// Install callback
		window[ jsonpCallback ] = function( response ) {
			responseContainer = [ response ];
		};

		// Clean-up function
		jqXHR.always(function() {
			// Set callback back to previous value
			window[ jsonpCallback ] = previous;
			// Call if it was a function and we have a response
			if ( responseContainer && jQuery.isFunction( previous ) ) {
				window[ jsonpCallback ]( responseContainer[ 0 ] );
			}
		});

		// Use data converter to retrieve json after script execution
		s.converters["script json"] = function() {
			if ( !responseContainer ) {
				jQuery.error( jsonpCallback + " was not called" );
			}
			return responseContainer[ 0 ];
		};

		// force json dataType
		s.dataTypes[ 0 ] = "json";

		// Delegate to script
		return "script";
	}
});




// Install script dataType
jQuery.ajaxSetup({
	accepts: {
		script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
	},
	contents: {
		script: /javascript|ecmascript/
	},
	converters: {
		"text script": function( text ) {
			jQuery.globalEval( text );
			return text;
		}
	}
});

// Handle cache's special case and global
jQuery.ajaxPrefilter( "script", function( s ) {
	if ( s.cache === undefined ) {
		s.cache = false;
	}
	if ( s.crossDomain ) {
		s.type = "GET";
		s.global = false;
	}
});

// Bind script tag hack transport
jQuery.ajaxTransport( "script", function(s) {

	// This transport only deals with cross domain requests
	if ( s.crossDomain ) {

		var script,
			head = document.head || document.getElementsByTagName( "head" )[0] || document.documentElement;

		return {

			send: function( _, callback ) {

				script = document.createElement( "script" );

				script.async = "async";

				if ( s.scriptCharset ) {
					script.charset = s.scriptCharset;
				}

				script.src = s.url;

				// Attach handlers for all browsers
				script.onload = script.onreadystatechange = function( _, isAbort ) {

					if ( isAbort || !script.readyState || /loaded|complete/.test( script.readyState ) ) {

						// Handle memory leak in IE
						script.onload = script.onreadystatechange = null;

						// Remove the script
						if ( head && script.parentNode ) {
							head.removeChild( script );
						}

						// Dereference the script
						script = undefined;

						// Callback if not abort
						if ( !isAbort ) {
							callback( 200, "success" );
						}
					}
				};
				// Use insertBefore instead of appendChild  to circumvent an IE6 bug.
				// This arises when a base node is used (#2709 and #4378).
				head.insertBefore( script, head.firstChild );
			},

			abort: function() {
				if ( script ) {
					script.onload( 0, 1 );
				}
			}
		};
	}
});




var // #5280: Internet Explorer will keep connections alive if we don't abort on unload
	xhrOnUnloadAbort = window.ActiveXObject ? function() {
		// Abort all pending requests
		for ( var key in xhrCallbacks ) {
			xhrCallbacks[ key ]( 0, 1 );
		}
	} : false,
	xhrId = 0,
	xhrCallbacks;

// Functions to create xhrs
function createStandardXHR() {
	try {
		return new window.XMLHttpRequest();
	} catch( e ) {}
}

function createActiveXHR() {
	try {
		return new window.ActiveXObject( "Microsoft.XMLHTTP" );
	} catch( e ) {}
}

// Create the request object
// (This is still attached to ajaxSettings for backward compatibility)
jQuery.ajaxSettings.xhr = window.ActiveXObject ?
	/* Microsoft failed to properly
	 * implement the XMLHttpRequest in IE7 (can't request local files),
	 * so we use the ActiveXObject when it is available
	 * Additionally XMLHttpRequest can be disabled in IE7/IE8 so
	 * we need a fallback.
	 */
	function() {
		return !this.isLocal && createStandardXHR() || createActiveXHR();
	} :
	// For all other browsers, use the standard XMLHttpRequest object
	createStandardXHR;

// Determine support properties
(function( xhr ) {
	jQuery.extend( jQuery.support, {
		ajax: !!xhr,
		cors: !!xhr && ( "withCredentials" in xhr )
	});
})( jQuery.ajaxSettings.xhr() );

// Create transport if the browser can provide an xhr
if ( jQuery.support.ajax ) {

	jQuery.ajaxTransport(function( s ) {
		// Cross domain only allowed if supported through XMLHttpRequest
		if ( !s.crossDomain || jQuery.support.cors ) {

			var callback;

			return {
				send: function( headers, complete ) {

					// Get a new xhr
					var xhr = s.xhr(),
						handle,
						i;

					// Open the socket
					// Passing null username, generates a login popup on Opera (#2865)
					if ( s.username ) {
						xhr.open( s.type, s.url, s.async, s.username, s.password );
					} else {
						xhr.open( s.type, s.url, s.async );
					}

					// Apply custom fields if provided
					if ( s.xhrFields ) {
						for ( i in s.xhrFields ) {
							xhr[ i ] = s.xhrFields[ i ];
						}
					}

					// Override mime type if needed
					if ( s.mimeType && xhr.overrideMimeType ) {
						xhr.overrideMimeType( s.mimeType );
					}

					// X-Requested-With header
					// For cross-domain requests, seeing as conditions for a preflight are
					// akin to a jigsaw puzzle, we simply never set it to be sure.
					// (it can always be set on a per-request basis or even using ajaxSetup)
					// For same-domain requests, won't change header if already provided.
					if ( !s.crossDomain && !headers["X-Requested-With"] ) {
						headers[ "X-Requested-With" ] = "XMLHttpRequest";
					}

					// Need an extra try/catch for cross domain requests in Firefox 3
					try {
						for ( i in headers ) {
							xhr.setRequestHeader( i, headers[ i ] );
						}
					} catch( _ ) {}

					// Do send the request
					// This may raise an exception which is actually
					// handled in jQuery.ajax (so no try/catch here)
					xhr.send( ( s.hasContent && s.data ) || null );

					// Listener
					callback = function( _, isAbort ) {

						var status,
							statusText,
							responseHeaders,
							responses,
							xml;

						// Firefox throws exceptions when accessing properties
						// of an xhr when a network error occured
						// http://helpful.knobs-dials.com/index.php/Component_returned_failure_code:_0x80040111_(NS_ERROR_NOT_AVAILABLE)
						try {

							// Was never called and is aborted or complete
							if ( callback && ( isAbort || xhr.readyState === 4 ) ) {

								// Only called once
								callback = undefined;

								// Do not keep as active anymore
								if ( handle ) {
									xhr.onreadystatechange = jQuery.noop;
									if ( xhrOnUnloadAbort ) {
										delete xhrCallbacks[ handle ];
									}
								}

								// If it's an abort
								if ( isAbort ) {
									// Abort it manually if needed
									if ( xhr.readyState !== 4 ) {
										xhr.abort();
									}
								} else {
									status = xhr.status;
									responseHeaders = xhr.getAllResponseHeaders();
									responses = {};
									xml = xhr.responseXML;

									// Construct response list
									if ( xml && xml.documentElement /* #4958 */ ) {
										responses.xml = xml;
									}
									responses.text = xhr.responseText;

									// Firefox throws an exception when accessing
									// statusText for faulty cross-domain requests
									try {
										statusText = xhr.statusText;
									} catch( e ) {
										// We normalize with Webkit giving an empty statusText
										statusText = "";
									}

									// Filter status for non standard behaviors

									// If the request is local and we have data: assume a success
									// (success with no data won't get notified, that's the best we
									// can do given current implementations)
									if ( !status && s.isLocal && !s.crossDomain ) {
										status = responses.text ? 200 : 404;
									// IE - #1450: sometimes returns 1223 when it should be 204
									} else if ( status === 1223 ) {
										status = 204;
									}
								}
							}
						} catch( firefoxAccessException ) {
							if ( !isAbort ) {
								complete( -1, firefoxAccessException );
							}
						}

						// Call complete if needed
						if ( responses ) {
							complete( status, statusText, responses, responseHeaders );
						}
					};

					// if we're in sync mode or it's in cache
					// and has been retrieved directly (IE6 & IE7)
					// we need to manually fire the callback
					if ( !s.async || xhr.readyState === 4 ) {
						callback();
					} else {
						handle = ++xhrId;
						if ( xhrOnUnloadAbort ) {
							// Create the active xhrs callbacks list if needed
							// and attach the unload handler
							if ( !xhrCallbacks ) {
								xhrCallbacks = {};
								jQuery( window ).unload( xhrOnUnloadAbort );
							}
							// Add to list of active xhrs callbacks
							xhrCallbacks[ handle ] = callback;
						}
						xhr.onreadystatechange = callback;
					}
				},

				abort: function() {
					if ( callback ) {
						callback(0,1);
					}
				}
			};
		}
	});
}




var elemdisplay = {},
	iframe, iframeDoc,
	rfxtypes = /^(?:toggle|show|hide)$/,
	rfxnum = /^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,
	timerId,
	fxAttrs = [
		// height animations
		[ "height", "marginTop", "marginBottom", "paddingTop", "paddingBottom" ],
		// width animations
		[ "width", "marginLeft", "marginRight", "paddingLeft", "paddingRight" ],
		// opacity animations
		[ "opacity" ]
	],
	fxNow;

jQuery.fn.extend({
	show: function( speed, easing, callback ) {
		var elem, display;

		if ( speed || speed === 0 ) {
			return this.animate( genFx("show", 3), speed, easing, callback );

		} else {
			for ( var i = 0, j = this.length; i < j; i++ ) {
				elem = this[ i ];

				if ( elem.style ) {
					display = elem.style.display;

					// Reset the inline display of this element to learn if it is
					// being hidden by cascaded rules or not
					if ( !jQuery._data(elem, "olddisplay") && display === "none" ) {
						display = elem.style.display = "";
					}

					// Set elements which have been overridden with display: none
					// in a stylesheet to whatever the default browser style is
					// for such an element
					if ( display === "" && jQuery.css(elem, "display") === "none" ) {
						jQuery._data( elem, "olddisplay", defaultDisplay(elem.nodeName) );
					}
				}
			}

			// Set the display of most of the elements in a second loop
			// to avoid the constant reflow
			for ( i = 0; i < j; i++ ) {
				elem = this[ i ];

				if ( elem.style ) {
					display = elem.style.display;

					if ( display === "" || display === "none" ) {
						elem.style.display = jQuery._data( elem, "olddisplay" ) || "";
					}
				}
			}

			return this;
		}
	},

	hide: function( speed, easing, callback ) {
		if ( speed || speed === 0 ) {
			return this.animate( genFx("hide", 3), speed, easing, callback);

		} else {
			var elem, display,
				i = 0,
				j = this.length;

			for ( ; i < j; i++ ) {
				elem = this[i];
				if ( elem.style ) {
					display = jQuery.css( elem, "display" );

					if ( display !== "none" && !jQuery._data( elem, "olddisplay" ) ) {
						jQuery._data( elem, "olddisplay", display );
					}
				}
			}

			// Set the display of the elements in a second loop
			// to avoid the constant reflow
			for ( i = 0; i < j; i++ ) {
				if ( this[i].style ) {
					this[i].style.display = "none";
				}
			}

			return this;
		}
	},

	// Save the old toggle function
	_toggle: jQuery.fn.toggle,

	toggle: function( fn, fn2, callback ) {
		var bool = typeof fn === "boolean";

		if ( jQuery.isFunction(fn) && jQuery.isFunction(fn2) ) {
			this._toggle.apply( this, arguments );

		} else if ( fn == null || bool ) {
			this.each(function() {
				var state = bool ? fn : jQuery(this).is(":hidden");
				jQuery(this)[ state ? "show" : "hide" ]();
			});

		} else {
			this.animate(genFx("toggle", 3), fn, fn2, callback);
		}

		return this;
	},

	fadeTo: function( speed, to, easing, callback ) {
		return this.filter(":hidden").css("opacity", 0).show().end()
					.animate({opacity: to}, speed, easing, callback);
	},

	animate: function( prop, speed, easing, callback ) {
		var optall = jQuery.speed( speed, easing, callback );

		if ( jQuery.isEmptyObject( prop ) ) {
			return this.each( optall.complete, [ false ] );
		}

		// Do not change referenced properties as per-property easing will be lost
		prop = jQuery.extend( {}, prop );

		function doAnimation() {
			// XXX 'this' does not always have a nodeName when running the
			// test suite

			if ( optall.queue === false ) {
				jQuery._mark( this );
			}

			var opt = jQuery.extend( {}, optall ),
				isElement = this.nodeType === 1,
				hidden = isElement && jQuery(this).is(":hidden"),
				name, val, p, e,
				parts, start, end, unit,
				method;

			// will store per property easing and be used to determine when an animation is complete
			opt.animatedProperties = {};

			for ( p in prop ) {

				// property name normalization
				name = jQuery.camelCase( p );
				if ( p !== name ) {
					prop[ name ] = prop[ p ];
					delete prop[ p ];
				}

				val = prop[ name ];

				// easing resolution: per property > opt.specialEasing > opt.easing > 'swing' (default)
				if ( jQuery.isArray( val ) ) {
					opt.animatedProperties[ name ] = val[ 1 ];
					val = prop[ name ] = val[ 0 ];
				} else {
					opt.animatedProperties[ name ] = opt.specialEasing && opt.specialEasing[ name ] || opt.easing || 'swing';
				}

				if ( val === "hide" && hidden || val === "show" && !hidden ) {
					return opt.complete.call( this );
				}

				if ( isElement && ( name === "height" || name === "width" ) ) {
					// Make sure that nothing sneaks out
					// Record all 3 overflow attributes because IE does not
					// change the overflow attribute when overflowX and
					// overflowY are set to the same value
					opt.overflow = [ this.style.overflow, this.style.overflowX, this.style.overflowY ];

					// Set display property to inline-block for height/width
					// animations on inline elements that are having width/height animated
					if ( jQuery.css( this, "display" ) === "inline" &&
							jQuery.css( this, "float" ) === "none" ) {

						// inline-level elements accept inline-block;
						// block-level elements need to be inline with layout
						if ( !jQuery.support.inlineBlockNeedsLayout || defaultDisplay( this.nodeName ) === "inline" ) {
							this.style.display = "inline-block";

						} else {
							this.style.zoom = 1;
						}
					}
				}
			}

			if ( opt.overflow != null ) {
				this.style.overflow = "hidden";
			}

			for ( p in prop ) {
				e = new jQuery.fx( this, opt, p );
				val = prop[ p ];

				if ( rfxtypes.test( val ) ) {

					// Tracks whether to show or hide based on private
					// data attached to the element
					method = jQuery._data( this, "toggle" + p ) || ( val === "toggle" ? hidden ? "show" : "hide" : 0 );
					if ( method ) {
						jQuery._data( this, "toggle" + p, method === "show" ? "hide" : "show" );
						e[ method ]();
					} else {
						e[ val ]();
					}

				} else {
					parts = rfxnum.exec( val );
					start = e.cur();

					if ( parts ) {
						end = parseFloat( parts[2] );
						unit = parts[3] || ( jQuery.cssNumber[ p ] ? "" : "px" );

						// We need to compute starting value
						if ( unit !== "px" ) {
							jQuery.style( this, p, (end || 1) + unit);
							start = ( (end || 1) / e.cur() ) * start;
							jQuery.style( this, p, start + unit);
						}

						// If a +=/-= token was provided, we're doing a relative animation
						if ( parts[1] ) {
							end = ( (parts[ 1 ] === "-=" ? -1 : 1) * end ) + start;
						}

						e.custom( start, end, unit );

					} else {
						e.custom( start, val, "" );
					}
				}
			}

			// For JS strict compliance
			return true;
		}

		return optall.queue === false ?
			this.each( doAnimation ) :
			this.queue( optall.queue, doAnimation );
	},

	stop: function( type, clearQueue, gotoEnd ) {
		if ( typeof type !== "string" ) {
			gotoEnd = clearQueue;
			clearQueue = type;
			type = undefined;
		}
		if ( clearQueue && type !== false ) {
			this.queue( type || "fx", [] );
		}

		return this.each(function() {
			var i,
				hadTimers = false,
				timers = jQuery.timers,
				data = jQuery._data( this );

			// clear marker counters if we know they won't be
			if ( !gotoEnd ) {
				jQuery._unmark( true, this );
			}

			function stopQueue( elem, data, i ) {
				var hooks = data[ i ];
				jQuery.removeData( elem, i, true );
				hooks.stop( gotoEnd );
			}

			if ( type == null ) {
				for ( i in data ) {
					if ( data[ i ].stop && i.indexOf(".run") === i.length - 4 ) {
						stopQueue( this, data, i );
					}
				}
			} else if ( data[ i = type + ".run" ] && data[ i ].stop ){
				stopQueue( this, data, i );
			}

			for ( i = timers.length; i--; ) {
				if ( timers[ i ].elem === this && (type == null || timers[ i ].queue === type) ) {
					if ( gotoEnd ) {

						// force the next step to be the last
						timers[ i ]( true );
					} else {
						timers[ i ].saveState();
					}
					hadTimers = true;
					timers.splice( i, 1 );
				}
			}

			// start the next in the queue if the last step wasn't forced
			// timers currently will call their complete callbacks, which will dequeue
			// but only if they were gotoEnd
			if ( !( gotoEnd && hadTimers ) ) {
				jQuery.dequeue( this, type );
			}
		});
	}

});

// Animations created synchronously will run synchronously
function createFxNow() {
	setTimeout( clearFxNow, 0 );
	return ( fxNow = jQuery.now() );
}

function clearFxNow() {
	fxNow = undefined;
}

// Generate parameters to create a standard animation
function genFx( type, num ) {
	var obj = {};

	jQuery.each( fxAttrs.concat.apply([], fxAttrs.slice( 0, num )), function() {
		obj[ this ] = type;
	});

	return obj;
}

// Generate shortcuts for custom animations
jQuery.each({
	slideDown: genFx( "show", 1 ),
	slideUp: genFx( "hide", 1 ),
	slideToggle: genFx( "toggle", 1 ),
	fadeIn: { opacity: "show" },
	fadeOut: { opacity: "hide" },
	fadeToggle: { opacity: "toggle" }
}, function( name, props ) {
	jQuery.fn[ name ] = function( speed, easing, callback ) {
		return this.animate( props, speed, easing, callback );
	};
});

jQuery.extend({
	speed: function( speed, easing, fn ) {
		var opt = speed && typeof speed === "object" ? jQuery.extend( {}, speed ) : {
			complete: fn || !fn && easing ||
				jQuery.isFunction( speed ) && speed,
			duration: speed,
			easing: fn && easing || easing && !jQuery.isFunction( easing ) && easing
		};

		opt.duration = jQuery.fx.off ? 0 : typeof opt.duration === "number" ? opt.duration :
			opt.duration in jQuery.fx.speeds ? jQuery.fx.speeds[ opt.duration ] : jQuery.fx.speeds._default;

		// normalize opt.queue - true/undefined/null -> "fx"
		if ( opt.queue == null || opt.queue === true ) {
			opt.queue = "fx";
		}

		// Queueing
		opt.old = opt.complete;

		opt.complete = function( noUnmark ) {
			if ( jQuery.isFunction( opt.old ) ) {
				opt.old.call( this );
			}

			if ( opt.queue ) {
				jQuery.dequeue( this, opt.queue );
			} else if ( noUnmark !== false ) {
				jQuery._unmark( this );
			}
		};

		return opt;
	},

	easing: {
		linear: function( p, n, firstNum, diff ) {
			return firstNum + diff * p;
		},
		swing: function( p, n, firstNum, diff ) {
			return ( ( -Math.cos( p*Math.PI ) / 2 ) + 0.5 ) * diff + firstNum;
		}
	},

	timers: [],

	fx: function( elem, options, prop ) {
		this.options = options;
		this.elem = elem;
		this.prop = prop;

		options.orig = options.orig || {};
	}

});

jQuery.fx.prototype = {
	// Simple function for setting a style value
	update: function() {
		if ( this.options.step ) {
			this.options.step.call( this.elem, this.now, this );
		}

		( jQuery.fx.step[ this.prop ] || jQuery.fx.step._default )( this );
	},

	// Get the current size
	cur: function() {
		if ( this.elem[ this.prop ] != null && (!this.elem.style || this.elem.style[ this.prop ] == null) ) {
			return this.elem[ this.prop ];
		}

		var parsed,
			r = jQuery.css( this.elem, this.prop );
		// Empty strings, null, undefined and "auto" are converted to 0,
		// complex values such as "rotate(1rad)" are returned as is,
		// simple values such as "10px" are parsed to Float.
		return isNaN( parsed = parseFloat( r ) ) ? !r || r === "auto" ? 0 : r : parsed;
	},

	// Start an animation from one number to another
	custom: function( from, to, unit ) {
		var self = this,
			fx = jQuery.fx;

		this.startTime = fxNow || createFxNow();
		this.end = to;
		this.now = this.start = from;
		this.pos = this.state = 0;
		this.unit = unit || this.unit || ( jQuery.cssNumber[ this.prop ] ? "" : "px" );

		function t( gotoEnd ) {
			return self.step( gotoEnd );
		}

		t.queue = this.options.queue;
		t.elem = this.elem;
		t.saveState = function() {
			if ( self.options.hide && jQuery._data( self.elem, "fxshow" + self.prop ) === undefined ) {
				jQuery._data( self.elem, "fxshow" + self.prop, self.start );
			}
		};

		if ( t() && jQuery.timers.push(t) && !timerId ) {
			timerId = setInterval( fx.tick, fx.interval );
		}
	},

	// Simple 'show' function
	show: function() {
		var dataShow = jQuery._data( this.elem, "fxshow" + this.prop );

		// Remember where we started, so that we can go back to it later
		this.options.orig[ this.prop ] = dataShow || jQuery.style( this.elem, this.prop );
		this.options.show = true;

		// Begin the animation
		// Make sure that we start at a small width/height to avoid any flash of content
		if ( dataShow !== undefined ) {
			// This show is picking up where a previous hide or show left off
			this.custom( this.cur(), dataShow );
		} else {
			this.custom( this.prop === "width" || this.prop === "height" ? 1 : 0, this.cur() );
		}

		// Start by showing the element
		jQuery( this.elem ).show();
	},

	// Simple 'hide' function
	hide: function() {
		// Remember where we started, so that we can go back to it later
		this.options.orig[ this.prop ] = jQuery._data( this.elem, "fxshow" + this.prop ) || jQuery.style( this.elem, this.prop );
		this.options.hide = true;

		// Begin the animation
		this.custom( this.cur(), 0 );
	},

	// Each step of an animation
	step: function( gotoEnd ) {
		var p, n, complete,
			t = fxNow || createFxNow(),
			done = true,
			elem = this.elem,
			options = this.options;

		if ( gotoEnd || t >= options.duration + this.startTime ) {
			this.now = this.end;
			this.pos = this.state = 1;
			this.update();

			options.animatedProperties[ this.prop ] = true;

			for ( p in options.animatedProperties ) {
				if ( options.animatedProperties[ p ] !== true ) {
					done = false;
				}
			}

			if ( done ) {
				// Reset the overflow
				if ( options.overflow != null && !jQuery.support.shrinkWrapBlocks ) {

					jQuery.each( [ "", "X", "Y" ], function( index, value ) {
						elem.style[ "overflow" + value ] = options.overflow[ index ];
					});
				}

				// Hide the element if the "hide" operation was done
				if ( options.hide ) {
					jQuery( elem ).hide();
				}

				// Reset the properties, if the item has been hidden or shown
				if ( options.hide || options.show ) {
					for ( p in options.animatedProperties ) {
						jQuery.style( elem, p, options.orig[ p ] );
						jQuery.removeData( elem, "fxshow" + p, true );
						// Toggle data is no longer needed
						jQuery.removeData( elem, "toggle" + p, true );
					}
				}

				// Execute the complete function
				// in the event that the complete function throws an exception
				// we must ensure it won't be called twice. #5684

				complete = options.complete;
				if ( complete ) {

					options.complete = false;
					complete.call( elem );
				}
			}

			return false;

		} else {
			// classical easing cannot be used with an Infinity duration
			if ( options.duration == Infinity ) {
				this.now = t;
			} else {
				n = t - this.startTime;
				this.state = n / options.duration;

				// Perform the easing function, defaults to swing
				this.pos = jQuery.easing[ options.animatedProperties[this.prop] ]( this.state, n, 0, 1, options.duration );
				this.now = this.start + ( (this.end - this.start) * this.pos );
			}
			// Perform the next step of the animation
			this.update();
		}

		return true;
	}
};

jQuery.extend( jQuery.fx, {
	tick: function() {
		var timer,
			timers = jQuery.timers,
			i = 0;

		for ( ; i < timers.length; i++ ) {
			timer = timers[ i ];
			// Checks the timer has not already been removed
			if ( !timer() && timers[ i ] === timer ) {
				timers.splice( i--, 1 );
			}
		}

		if ( !timers.length ) {
			jQuery.fx.stop();
		}
	},

	interval: 13,

	stop: function() {
		clearInterval( timerId );
		timerId = null;
	},

	speeds: {
		slow: 600,
		fast: 200,
		// Default speed
		_default: 400
	},

	step: {
		opacity: function( fx ) {
			jQuery.style( fx.elem, "opacity", fx.now );
		},

		_default: function( fx ) {
			if ( fx.elem.style && fx.elem.style[ fx.prop ] != null ) {
				fx.elem.style[ fx.prop ] = fx.now + fx.unit;
			} else {
				fx.elem[ fx.prop ] = fx.now;
			}
		}
	}
});

// Adds width/height step functions
// Do not set anything below 0
jQuery.each([ "width", "height" ], function( i, prop ) {
	jQuery.fx.step[ prop ] = function( fx ) {
		jQuery.style( fx.elem, prop, Math.max(0, fx.now) );
	};
});

if ( jQuery.expr && jQuery.expr.filters ) {
	jQuery.expr.filters.animated = function( elem ) {
		return jQuery.grep(jQuery.timers, function( fn ) {
			return elem === fn.elem;
		}).length;
	};
}

// Try to restore the default display value of an element
function defaultDisplay( nodeName ) {

	if ( !elemdisplay[ nodeName ] ) {

		var body = document.body,
			elem = jQuery( "<" + nodeName + ">" ).appendTo( body ),
			display = elem.css( "display" );
		elem.remove();

		// If the simple way fails,
		// get element's real default display by attaching it to a temp iframe
		if ( display === "none" || display === "" ) {
			// No iframe to use yet, so create it
			if ( !iframe ) {
				iframe = document.createElement( "iframe" );
				iframe.frameBorder = iframe.width = iframe.height = 0;
			}

			body.appendChild( iframe );

			// Create a cacheable copy of the iframe document on first call.
			// IE and Opera will allow us to reuse the iframeDoc without re-writing the fake HTML
			// document to it; WebKit & Firefox won't allow reusing the iframe document.
			if ( !iframeDoc || !iframe.createElement ) {
				iframeDoc = ( iframe.contentWindow || iframe.contentDocument ).document;
				iframeDoc.write( ( document.compatMode === "CSS1Compat" ? "<!doctype html>" : "" ) + "<html><body>" );
				iframeDoc.close();
			}

			elem = iframeDoc.createElement( nodeName );

			iframeDoc.body.appendChild( elem );

			display = jQuery.css( elem, "display" );
			body.removeChild( iframe );
		}

		// Store the correct default display
		elemdisplay[ nodeName ] = display;
	}

	return elemdisplay[ nodeName ];
}




var rtable = /^t(?:able|d|h)$/i,
	rroot = /^(?:body|html)$/i;

if ( "getBoundingClientRect" in document.documentElement ) {
	jQuery.fn.offset = function( options ) {
		var elem = this[0], box;

		if ( options ) {
			return this.each(function( i ) {
				jQuery.offset.setOffset( this, options, i );
			});
		}

		if ( !elem || !elem.ownerDocument ) {
			return null;
		}

		if ( elem === elem.ownerDocument.body ) {
			return jQuery.offset.bodyOffset( elem );
		}

		try {
			box = elem.getBoundingClientRect();
		} catch(e) {}

		var doc = elem.ownerDocument,
			docElem = doc.documentElement;

		// Make sure we're not dealing with a disconnected DOM node
		if ( !box || !jQuery.contains( docElem, elem ) ) {
			return box ? { top: box.top, left: box.left } : { top: 0, left: 0 };
		}

		var body = doc.body,
			win = getWindow(doc),
			clientTop  = docElem.clientTop  || body.clientTop  || 0,
			clientLeft = docElem.clientLeft || body.clientLeft || 0,
			scrollTop  = win.pageYOffset || jQuery.support.boxModel && docElem.scrollTop  || body.scrollTop,
			scrollLeft = win.pageXOffset || jQuery.support.boxModel && docElem.scrollLeft || body.scrollLeft,
			top  = box.top  + scrollTop  - clientTop,
			left = box.left + scrollLeft - clientLeft;

		return { top: top, left: left };
	};

} else {
	jQuery.fn.offset = function( options ) {
		var elem = this[0];

		if ( options ) {
			return this.each(function( i ) {
				jQuery.offset.setOffset( this, options, i );
			});
		}

		if ( !elem || !elem.ownerDocument ) {
			return null;
		}

		if ( elem === elem.ownerDocument.body ) {
			return jQuery.offset.bodyOffset( elem );
		}

		var computedStyle,
			offsetParent = elem.offsetParent,
			prevOffsetParent = elem,
			doc = elem.ownerDocument,
			docElem = doc.documentElement,
			body = doc.body,
			defaultView = doc.defaultView,
			prevComputedStyle = defaultView ? defaultView.getComputedStyle( elem, null ) : elem.currentStyle,
			top = elem.offsetTop,
			left = elem.offsetLeft;

		while ( (elem = elem.parentNode) && elem !== body && elem !== docElem ) {
			if ( jQuery.support.fixedPosition && prevComputedStyle.position === "fixed" ) {
				break;
			}

			computedStyle = defaultView ? defaultView.getComputedStyle(elem, null) : elem.currentStyle;
			top  -= elem.scrollTop;
			left -= elem.scrollLeft;

			if ( elem === offsetParent ) {
				top  += elem.offsetTop;
				left += elem.offsetLeft;

				if ( jQuery.support.doesNotAddBorder && !(jQuery.support.doesAddBorderForTableAndCells && rtable.test(elem.nodeName)) ) {
					top  += parseFloat( computedStyle.borderTopWidth  ) || 0;
					left += parseFloat( computedStyle.borderLeftWidth ) || 0;
				}

				prevOffsetParent = offsetParent;
				offsetParent = elem.offsetParent;
			}

			if ( jQuery.support.subtractsBorderForOverflowNotVisible && computedStyle.overflow !== "visible" ) {
				top  += parseFloat( computedStyle.borderTopWidth  ) || 0;
				left += parseFloat( computedStyle.borderLeftWidth ) || 0;
			}

			prevComputedStyle = computedStyle;
		}

		if ( prevComputedStyle.position === "relative" || prevComputedStyle.position === "static" ) {
			top  += body.offsetTop;
			left += body.offsetLeft;
		}

		if ( jQuery.support.fixedPosition && prevComputedStyle.position === "fixed" ) {
			top  += Math.max( docElem.scrollTop, body.scrollTop );
			left += Math.max( docElem.scrollLeft, body.scrollLeft );
		}

		return { top: top, left: left };
	};
}

jQuery.offset = {

	bodyOffset: function( body ) {
		var top = body.offsetTop,
			left = body.offsetLeft;

		if ( jQuery.support.doesNotIncludeMarginInBodyOffset ) {
			top  += parseFloat( jQuery.css(body, "marginTop") ) || 0;
			left += parseFloat( jQuery.css(body, "marginLeft") ) || 0;
		}

		return { top: top, left: left };
	},

	setOffset: function( elem, options, i ) {
		var position = jQuery.css( elem, "position" );

		// set position first, in-case top/left are set even on static elem
		if ( position === "static" ) {
			elem.style.position = "relative";
		}

		var curElem = jQuery( elem ),
			curOffset = curElem.offset(),
			curCSSTop = jQuery.css( elem, "top" ),
			curCSSLeft = jQuery.css( elem, "left" ),
			calculatePosition = ( position === "absolute" || position === "fixed" ) && jQuery.inArray("auto", [curCSSTop, curCSSLeft]) > -1,
			props = {}, curPosition = {}, curTop, curLeft;

		// need to be able to calculate position if either top or left is auto and position is either absolute or fixed
		if ( calculatePosition ) {
			curPosition = curElem.position();
			curTop = curPosition.top;
			curLeft = curPosition.left;
		} else {
			curTop = parseFloat( curCSSTop ) || 0;
			curLeft = parseFloat( curCSSLeft ) || 0;
		}

		if ( jQuery.isFunction( options ) ) {
			options = options.call( elem, i, curOffset );
		}

		if ( options.top != null ) {
			props.top = ( options.top - curOffset.top ) + curTop;
		}
		if ( options.left != null ) {
			props.left = ( options.left - curOffset.left ) + curLeft;
		}

		if ( "using" in options ) {
			options.using.call( elem, props );
		} else {
			curElem.css( props );
		}
	}
};


jQuery.fn.extend({

	position: function() {
		if ( !this[0] ) {
			return null;
		}

		var elem = this[0],

		// Get *real* offsetParent
		offsetParent = this.offsetParent(),

		// Get correct offsets
		offset       = this.offset(),
		parentOffset = rroot.test(offsetParent[0].nodeName) ? { top: 0, left: 0 } : offsetParent.offset();

		// Subtract element margins
		// note: when an element has margin: auto the offsetLeft and marginLeft
		// are the same in Safari causing offset.left to incorrectly be 0
		offset.top  -= parseFloat( jQuery.css(elem, "marginTop") ) || 0;
		offset.left -= parseFloat( jQuery.css(elem, "marginLeft") ) || 0;

		// Add offsetParent borders
		parentOffset.top  += parseFloat( jQuery.css(offsetParent[0], "borderTopWidth") ) || 0;
		parentOffset.left += parseFloat( jQuery.css(offsetParent[0], "borderLeftWidth") ) || 0;

		// Subtract the two offsets
		return {
			top:  offset.top  - parentOffset.top,
			left: offset.left - parentOffset.left
		};
	},

	offsetParent: function() {
		return this.map(function() {
			var offsetParent = this.offsetParent || document.body;
			while ( offsetParent && (!rroot.test(offsetParent.nodeName) && jQuery.css(offsetParent, "position") === "static") ) {
				offsetParent = offsetParent.offsetParent;
			}
			return offsetParent;
		});
	}
});


// Create scrollLeft and scrollTop methods
jQuery.each( ["Left", "Top"], function( i, name ) {
	var method = "scroll" + name;

	jQuery.fn[ method ] = function( val ) {
		var elem, win;

		if ( val === undefined ) {
			elem = this[ 0 ];

			if ( !elem ) {
				return null;
			}

			win = getWindow( elem );

			// Return the scroll offset
			return win ? ("pageXOffset" in win) ? win[ i ? "pageYOffset" : "pageXOffset" ] :
				jQuery.support.boxModel && win.document.documentElement[ method ] ||
					win.document.body[ method ] :
				elem[ method ];
		}

		// Set the scroll offset
		return this.each(function() {
			win = getWindow( this );

			if ( win ) {
				win.scrollTo(
					!i ? val : jQuery( win ).scrollLeft(),
					 i ? val : jQuery( win ).scrollTop()
				);

			} else {
				this[ method ] = val;
			}
		});
	};
});

function getWindow( elem ) {
	return jQuery.isWindow( elem ) ?
		elem :
		elem.nodeType === 9 ?
			elem.defaultView || elem.parentWindow :
			false;
}




// Create width, height, innerHeight, innerWidth, outerHeight and outerWidth methods
jQuery.each([ "Height", "Width" ], function( i, name ) {

	var type = name.toLowerCase();

	// innerHeight and innerWidth
	jQuery.fn[ "inner" + name ] = function() {
		var elem = this[0];
		return elem ?
			elem.style ?
			parseFloat( jQuery.css( elem, type, "padding" ) ) :
			this[ type ]() :
			null;
	};

	// outerHeight and outerWidth
	jQuery.fn[ "outer" + name ] = function( margin ) {
		var elem = this[0];
		return elem ?
			elem.style ?
			parseFloat( jQuery.css( elem, type, margin ? "margin" : "border" ) ) :
			this[ type ]() :
			null;
	};

	jQuery.fn[ type ] = function( size ) {
		// Get window width or height
		var elem = this[0];
		if ( !elem ) {
			return size == null ? null : this;
		}

		if ( jQuery.isFunction( size ) ) {
			return this.each(function( i ) {
				var self = jQuery( this );
				self[ type ]( size.call( this, i, self[ type ]() ) );
			});
		}

		if ( jQuery.isWindow( elem ) ) {
			// Everyone else use document.documentElement or document.body depending on Quirks vs Standards mode
			// 3rd condition allows Nokia support, as it supports the docElem prop but not CSS1Compat
			var docElemProp = elem.document.documentElement[ "client" + name ],
				body = elem.document.body;
			return elem.document.compatMode === "CSS1Compat" && docElemProp ||
				body && body[ "client" + name ] || docElemProp;

		// Get document width or height
		} else if ( elem.nodeType === 9 ) {
			// Either scroll[Width/Height] or offset[Width/Height], whichever is greater
			return Math.max(
				elem.documentElement["client" + name],
				elem.body["scroll" + name], elem.documentElement["scroll" + name],
				elem.body["offset" + name], elem.documentElement["offset" + name]
			);

		// Get or set width or height on the element
		} else if ( size === undefined ) {
			var orig = jQuery.css( elem, type ),
				ret = parseFloat( orig );

			return jQuery.isNumeric( ret ) ? ret : orig;

		// Set the width or height on the element (default to pixels if value is unitless)
		} else {
			return this.css( type, typeof size === "string" ? size : size + "px" );
		}
	};

});


// Expose jQuery to the global object
window.jQuery = window.$ = jQuery;
})( window );

//# sourceMappingURL=psycloud_bundle.js.map